% d = [-8.071885000000002, -7.946489999999999, -6.607515, -6.293889999999999, -5.142735, -4.631835000000001, -4.389785, -4.2393849999999995, -4.14273, -3.5450149999999994, -3.4046400000000006, -3.3836000000000013, -3.3424499999999995, -3.0236, -3.002564999999999, -2.90418, -2.783240000000001, -2.5401050000000005, -2.4858100000000007, -2.4577599999999986, -2.434929999999998, -2.3488750000000014, -2.1280249999999974, -1.7708300000000001, -1.6059300000000007, -1.4499839999999997, -1.3684449999999977, -1.2023400000000013, -1.1658650000000002, -1.0961350000000003, -1.062545, -1.0579099999999997, -1.05152, -0.9560849999999999, -0.8430700000000009, -0.8021400000000005, -0.8008000000000024, -0.7599249999999991, -0.7095349999999989, -0.7014549999999993, -0.6882249999999992, -0.644910000000003, -0.5863299999999967, -0.5843600000000002, -0.5441199999999995, -0.534605, -0.5004850000000003, -0.49350000000000094, -0.48683, -0.478275, -0.4758199999999988, -0.4626349999999999, -0.4088149999999988, -0.3879550000000016, -0.38523500000000155, -0.36492999999999753, -0.36239499999999936, -0.35055000000000014, -0.33015999999999934, -0.312605, -0.2700750000000003, -0.2636099999999999, -0.2535400000000001, -0.2492800000000006, -0.24587000000000003, -0.2456100000000001, -0.2444150000000036, -0.23544999999999994, -0.20646500000000012, -0.20561000000000007, -0.19321500000000036, -0.17656500000000008, -0.16852499999999893, -0.16626499999999922, -0.15885499999999908, -0.15325999999999995, -0.15059500000000092, -0.14986500000000014, -0.14954499999999982, -0.14406499999999944, -0.14308999999999905, -0.13897000000000048, -0.12948000000000004, -0.12026999999999965, -0.11951499999999982, -0.11416000000000004, -0.11356499999999992, -0.11132500000000078, -0.10138999999999987, -0.09032499999999999, -0.08803999999999945, -0.08787000000000056, -0.08140700000000001, -0.077515, -0.06296999999999997, -0.061434999999999906, -0.05979000000000001, -0.05915500000000007, -0.05423499999999848, -0.05025999999999997, -0.04672499999999946, -0.04671500000000073, -0.04545000000000066, -0.043984999999999275, -0.04163500000000003, -0.04039999999999999, -0.039069999999999716, -0.03661999999999921, -0.03259500000000015, -0.03214000000000006, -0.024074999999999847, -0.023715000000002817, -0.021700000000000053, -0.017384999999999984, -0.016815000000000246, -0.008124999999999993, -0.00666000000000011, -0.003330000000000055, -0.003275000000000028, -0.0013099999999965917, -0.0003550000000025477, 0.0013890000000005287, 0.003414999999999946, 0.004965000000000108, 0.005790000000000184, 0.008389999999998565, 0.008869999999998157, 0.010174999999999379, 0.010314999999999852, 0.012330000000000174, 0.015489999999999782, 0.017570000000000086, 0.018124999999999947, 0.021550000000000402, 0.02171499999999993, 0.02474000000000043, 0.027145000000000863, 0.028344999999999843, 0.030365000000000197, 0.031340000000000146, 0.03526999999999969, 0.035370000000000346, 0.040059999999999985, 0.044309999999999405, 0.044404999999997585, 0.044624999999999915, 0.044795000000000584, 0.04529499999999986, 0.05054499999999962, 0.05217999999999989, 0.05574499999999816, 0.05630000000000002, 0.06482000000000454, 0.06509500000000035, 0.06533499999999925, 0.066195, 0.06701500000000005, 0.06922499999999943, 0.06936000000000142, 0.07077500000000003, 0.07171499999999753, 0.0749550000000001, 0.07681999999999967, 0.07929999999999993, 0.08057500000000006, 0.08062999999999998, 0.08206000000001268, 0.08558999999999983, 0.09004500000000082, 0.09487499999999827, 0.09577499999999972, 0.10009999999999941, 0.10536999999999974, 0.1098300000000001, 0.11114500000000005, 0.1112100000000007, 0.11444999999999972, 0.11680000000000046, 0.11994499999999997, 0.12315999999999994, 0.12480500000000028, 0.12483500000000092, 0.14521000000000006, 0.1482240000000008, 0.15274500000000035, 0.15488500000000016, 0.16546000000000038, 0.1689449999999999, 0.16990499999999997, 0.19702999999999982, 0.20710500000000032, 0.20713500000000007, 0.2112349999999994, 0.2220399999999998, 0.229835, 0.23049000000000142, 0.23712, 0.24926000000000004, 0.257299999999999, 0.2575449999999999, 0.26525, 0.2759300000000007, 0.27768499999999996, 0.27836000000000016, 0.29989500000000024, 0.31396999999999764, 0.32149999999999856, 0.3289100000000005, 0.33779999999999966, 0.3382999999999994, 0.3401999999999994, 0.34634499999999946, 0.3490899999999999, 0.35421000000000014, 0.3774249999999988, 0.3930699999999998, 0.41293499999999916, 0.42366999999999777, 0.43191999999999986, 0.4385499999999998, 0.45431999999999917, 0.4694149999999997, 0.4709450000000004, 0.48097999999999974, 0.4865100000000009, 0.5078950000000002, 0.5647800000000007, 0.5862000000000052, 0.6099200000000007, 0.612215, 0.6335250000000001, 0.6432849999999988, 0.65394, 0.6583700000000015, 0.6657449999999976, 0.6702599999999999, 0.6749999999999972, 0.6783400000000004, 0.6853299999999996, 0.6877849999999999, 0.7158650000000009, 0.7165049999999997, 0.7235300000000002, 0.7425700000000006, 0.8307799999999999, 0.8388399999999994, 0.8516750000000002, 0.9244310000000002, 0.9289050000000003, 0.9928299999999997, 1.006475, 1.0154449999999997, 1.0343300000000002, 1.1357, 1.1443450000000013, 1.1555350000000004, 1.3019100000000003, 1.3448650000000004, 1.382394999999999, 1.4430399999999999, 1.4618900000000004, 1.4966749999999998, 1.5841899999999995, 1.657490000000001, 1.660615, 1.707094999999999, 1.72309, 1.7342600000000008, 1.7821149999999992, 1.8904849999999982, 2.075185000000001, 2.18619, 2.2523599999999995, 2.29115, 2.31166, 2.419105000000002, 2.4583999999999993, 2.4833550000000013, 2.531444999999998, 2.6181849999999987, 2.700195000000001, 3.182455, 3.449015000000003, 4.464604999999999, 4.46557, 4.481955, 4.517049999999998, 5.13785, 5.1702650000000006, 5.49522, 5.899509999999999, 5.9304549999999985, 6.05284, 6.3426849999999995, 6.43591, 6.45296, 6.647869999999999, 6.751594999999998, 7.192322000000001, 8.001240000000001, 9.668679999999998, 10.205444999999997, 12.726465, 12.745825000000002, 13.49073, 15.867249999999999, 16.047745000000003, 16.7147, 17.191235, 17.302915, 17.956145, 18.79052, 19.12856, 19.711489999999998, 22.117149999999995, 24.19148, 27.029395, 30.451089999999997, 31.696894999999998, 36.389444999999995, 38.84401, 42.271035000000005, 78.88271999999999, 120.757555, 236.04182500000002];

anycast = [0.331496, 0.43606, 0.454975, 0.604805, 0.689885, 0.795365, 0.808565, 0.823245, 1.025145, 1.066095, 1.075115, 1.09853, 1.10124, 1.13004, 1.142515, 1.16559, 1.19815, 1.249595, 1.30521, 1.36373, 1.37637, 1.395635, 1.48227, 1.49343, 1.512635, 1.526645, 1.550165, 1.58444, 1.620765, 1.662195, 1.741145, 1.79664, 1.798215, 1.99122, 2.020265, 2.095755, 2.116755, 2.124288, 2.1321, 2.15806, 2.29861, 2.309965, 2.327913, 2.460865, 2.470115, 2.473325, 2.561465, 2.6159, 2.71341, 2.834855, 2.868785, 2.897495, 2.95614, 2.99641, 3.04423, 3.089715, 3.13953, 3.193695, 3.22789, 3.26679, 3.31191, 3.3797, 3.474845, 3.4923, 3.582525, 3.624555, 3.64542, 3.651045, 3.72727, 3.754752, 3.949589, 4.07006, 4.121335, 4.12943, 4.139375, 4.216595, 4.27382, 4.28755, 4.311045, 4.349555, 4.350725, 4.373225, 4.474915, 4.48882, 4.621145, 4.64532, 4.79946, 4.802165, 4.849625, 4.869145, 5.277685, 5.27902, 5.3402, 5.609305, 5.640955, 5.894345, 5.93066, 5.96555, 6.02089, 6.06824, 6.09624, 6.31074, 6.38197, 6.40882, 6.482545, 6.618405, 6.746835, 6.812735, 6.844485, 6.979135, 6.989415, 7.010252, 7.0265, 7.06757, 7.08206, 7.087, 7.0996, 7.11232, 7.13635, 7.18544, 7.30829, 7.568105, 7.665539, 7.781205, 7.787455, 7.834275, 7.852515, 7.978315, 8.073715, 8.14575, 8.31612, 8.350255, 8.435785, 8.483655, 8.76002, 8.919275, 9.02262, 9.023265, 9.316515, 9.44717, 9.717685, 9.74297, 9.74624, 9.76763, 9.76842, 9.769314, 9.844115, 9.86834, 10.152115, 10.304645, 10.384965, 10.486485, 10.68098, 10.7589, 10.77265, 10.86123, 10.863815, 10.88477, 10.89975, 10.900125, 10.913265, 11.186815, 11.19879, 11.20413, 11.293735, 11.386145, 11.48085, 11.565385, 11.730185, 11.775625, 11.96157, 12.03041, 12.08193, 12.09363, 12.16915, 12.20155, 12.329885, 12.45645, 12.539345, 12.57737, 12.73016, 12.788255, 12.82478, 13.034405, 13.08635, 13.117945, 13.1351, 13.312785, 13.33861, 13.339795, 13.49622, 13.600085, 13.702, 13.77194, 13.803855, 14.0438, 14.157095, 14.17761, 14.59527, 14.69955, 14.706415, 14.784715, 14.79339, 14.85629, 14.99895, 15.34391, 15.35715, 15.42335, 15.44142, 15.613625, 15.71808, 15.751835, 15.75313, 15.80753, 16.157965, 16.192895, 16.280255, 16.363925, 16.53953, 17.004785, 17.44434, 17.54885, 17.731625, 17.889915, 17.89449, 17.9221, 18.05152, 18.437125, 18.63844, 18.691587, 19.00829, 19.18511, 19.43343, 19.505965, 19.58814, 19.692175, 19.770135, 19.877935, 20.0704, 20.10333, 20.332275, 20.399245, 20.465415, 20.631135, 20.816505, 20.90969, 20.978965, 21.022605, 21.118765, 21.210065, 21.36112, 21.39617, 21.71732, 21.72041, 21.759365, 22.32128, 22.54934, 22.57367, 22.91855, 23.26168, 23.50269, 23.605475, 23.960145, 24.01258, 24.18551, 24.590455, 24.86491, 25.19981, 25.2229, 25.83965, 25.860005, 25.8946, 26.570785, 26.874775, 27.27286, 29.66902, 29.739865, 29.863265, 30.451685, 30.468695, 30.805355, 32.01093, 32.09787, 33.363245, 34.20255, 35.03657, 36.636225, 36.74134, 38.50218, 38.759955, 39.0438, 40.06261, 40.62052, 40.86734, 40.931255, 40.937, 40.97084, 41.50421, 42.827695, 45.420825, 46.690615, 47.26253, 48.502115, 49.44605, 50.38303, 51.61189, 51.90955, 57.13807, 58.442695, 58.81579, 59.152295, 59.329625, 65.80683, 67.38389, 70.636215, 76.686855, 87.13763, 98.82459, 132.30145, 137.686215, 149.50446, 188.697065];
optimal = [0.331496, 0.43606, 0.454975, 0.604805, 0.632965, 0.676095, 0.689885, 0.69321, 0.76174, 0.79539, 0.823245, 0.85355, 0.97889, 1.025145, 1.075115, 1.09853, 1.13004, 1.142515, 1.16559, 1.19815, 1.249595, 1.265865, 1.30521, 1.36373, 1.37637, 1.3784, 1.395635, 1.49343, 1.512635, 1.514215, 1.526645, 1.550165, 1.620765, 1.662195, 1.79664, 1.798215, 1.99122, 2.020265, 2.095755, 2.116755, 2.124288, 2.1321, 2.137375, 2.15806, 2.28727, 2.29861, 2.309965, 2.327913, 2.460865, 2.470115, 2.473325, 2.615555, 2.6159, 2.71341, 2.782105, 2.79633, 2.834855, 2.851185, 2.85556, 2.897495, 3.04423, 3.089715, 3.130255, 3.17869, 3.22789, 3.26679, 3.26759, 3.31191, 3.3797, 3.4923, 3.533263, 3.582525, 3.624555, 3.64542, 3.651045, 3.66974, 3.754752, 3.90203, 3.949589, 4.062265, 4.07006, 4.09095, 4.139375, 4.18671, 4.28755, 4.311045, 4.349555, 4.350725, 4.474915, 4.48882, 4.621145, 4.64532, 4.79946, 4.802165, 4.849625, 4.85318, 4.869145, 4.955265, 5.277685, 5.27902, 5.3402, 5.41744, 5.609305, 5.83864, 5.8471, 5.894345, 5.96555, 5.98433, 6.046065, 6.06824, 6.29071, 6.38197, 6.39316, 6.40882, 6.51571, 6.697945, 6.7391, 6.786665, 6.818265, 6.989415, 7.0265, 7.06757, 7.08206, 7.087, 7.0996, 7.11232, 7.333195, 7.568105, 7.665539, 7.71908, 7.76256, 7.787455, 7.834275, 7.936385, 7.941945, 8.073715, 8.1645, 8.281045, 8.31612, 8.337335, 8.34002, 8.350255, 8.435785, 8.483655, 8.711105, 8.76002, 8.919275, 9.023265, 9.038885, 9.316515, 9.339261, 9.41147, 9.44717, 9.66265, 9.717685, 9.74297, 9.76763, 9.76842, 9.802745, 9.86834, 10.06274, 10.152115, 10.304645, 10.384965, 10.486485, 10.538945, 10.545515, 10.68098, 10.743585, 10.749945, 10.86123, 10.863815, 10.86513, 10.89975, 10.900125, 10.913265, 11.099906, 11.186815, 11.20413, 11.293735, 11.386145, 11.39563, 11.48085, 11.565385, 11.730185, 11.775625, 11.79634, 11.81028, 11.96157, 11.984205, 12.01266, 12.03041, 12.20155, 12.329885, 12.513445, 12.5322, 12.539345, 12.57737, 12.601615, 12.788255, 12.82478, 13.034405, 13.08635, 13.312785, 13.33861, 13.339795, 13.49622, 13.55942, 13.702, 14.0438, 14.06907, 14.157095, 14.17761, 14.59527, 14.644595, 14.6545, 14.69955, 14.706415, 14.76382, 14.85629, 14.99895, 15.075395, 15.203265, 15.2169, 15.34391, 15.375415, 15.44142, 15.613625, 15.71808, 15.75313, 15.80753, 16.157965, 16.192895, 16.363925, 16.688565, 16.771705, 17.004785, 17.028915, 17.044395, 17.057375, 17.25987, 17.63744, 17.73602, 18.177475, 18.237755, 18.437125, 18.63844, 19.00829, 19.04544, 19.18511, 19.505965, 19.58814, 19.775485, 19.877935, 19.99333, 20.399245, 20.4237, 20.52599, 20.631135, 20.90969, 20.978965, 21.10034, 21.118765, 21.36112, 21.42707, 21.71732, 21.759365, 22.282895, 22.32128, 22.421215, 22.54934, 22.57367, 23.212205, 23.222445, 23.26168, 23.400965, 23.50269, 23.605475, 23.69506, 23.960145, 24.590455, 24.86491, 25.236765, 25.83965, 27.27286, 28.81258, 29.66902, 29.739865, 29.863265, 30.451685, 30.805355, 32.01093, 32.09787, 33.363245, 35.659625, 36.18996, 36.636225, 36.74134, 38.129335, 38.68984, 39.0438, 40.62052, 40.773835, 40.86734, 41.50421, 42.69885, 44.949815, 46.46896, 47.3046, 48.07557, 48.502115, 51.027575, 57.13807, 58.442695, 58.593285, 58.81579, 59.152295, 76.686855, 87.13763, 111.706525, 121.870345, 177.48258];
diff = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.015315000000001078, 0.01963999999999899, 0.026069999999999816, 0.02988500000000016, 0.04066500000000062, 0.0501750000000003, 0.05752999999999986, 0.05907000000000018, 0.062124999999999986, 0.0692699999999995, 0.07011500000000126, 0.08667999999999987, 0.08995500000000067, 0.102155, 0.12884499999999832, 0.14011999999999958, 0.1465399999999999, 0.15847000000000122, 0.17378999999999944, 0.17559999999999998, 0.1814650000000011, 0.2000799999999998, 0.20380500000000001, 0.20725499999999997, 0.21254499999999998, 0.21640499999999996, 0.2235149999999999, 0.22692999999999985, 0.22740000000000027, 0.23112499999999958, 0.24003500000000066, 0.2524749999999969, 0.2741950000000002, 0.2822749999999994, 0.2883450000000001, 0.2905149999999992, 0.32784499999999994, 0.3395, 0.3405849999999999, 0.43005299999999913, 0.4488450000000004, 0.4710099999999997, 0.4721000000000002, 0.4722450000000009, 0.49044999999999916, 0.49733499999999964, 0.534934999999999, 0.5843150000000037, 0.5933299999999999, 0.60555, 0.6340750000000002, 0.6451200000000004, 0.682599999999999, 0.7027099999999997, 0.7099100000000007, 0.7363399999999984, 0.7688499999999987, 0.7735199999999995, 0.7935699999999954, 0.9048400000000001, 0.9724700000000013, 0.9941449999999996, 1.05632, 1.1435649999999997, 1.2335349999999998, 1.2559550000000002, 1.2904099999999996, 1.324819999999999, 1.3362649999999991, 1.5272800000000002, 1.5546849999999992, 1.58174, 1.9332750000000019, 1.9756, 2.22766, 2.28317, 2.6375600000000006, 3.026004999999998, 3.4769890000000006, 3.691274999999999, 4.406840000000001, 4.5522599999999995, 4.604950000000002, 5.143715, 5.311215000000004, 5.90127, 6.13467, 6.263204999999999, 6.509345, 6.512345, 6.5129, 7.591680999999998, 8.03287, 8.428104999999999, 8.490404999999999, 10.500655000000002, 11.155690000000002, 11.214484999999996, 11.75579, 13.383075000000002, 15.420155, 15.815870000000004, 16.219285000000003, 16.329259999999998, 16.591445, 17.71905, 17.72187, 17.776699999999998, 17.86708, 20.59492499999999, 22.560645000000008, 26.045085, 26.610054999999996, 31.33759, 31.34699, 34.118735, 40.57006500000001, 77.72425, 120.69188];

hold on;
f1 = cdfplot(anycast);
f2 = cdfplot(optimal);
f3 = cdfplot(diff);

xlabel('RTT (ms)')
ylabel('CDF')
xlim([0 80])
title('');
set(gca,'FontSize',20)
% set(gca, 'XScale', 'log')
daspect([500 10 10])
set(f1, 'LineWidth', 1.5, 'LineStyle', '-');
set(f2, 'LineWidth', 1.5, 'LineStyle', '-.');
set(f3, 'LineWidth', 1.5, 'LineStyle', '--');
legend('anycast', 'optimal', 'diff', 'Location','southeast')
print('figures/anycast_vs_unicast','-depsc')

clf;

anycast2 = [0.795365, 0.808565, 1.066095, 1.10124, 1.48227, 1.58444, 1.741145, 2.561465, 2.868785, 2.95614, 2.99641, 3.13953, 3.193695, 3.474845, 3.72727, 4.121335, 4.12943, 4.216595, 4.27382, 4.373225, 5.640955, 5.93066, 6.02089, 6.09624, 6.31074, 6.482545, 6.618405, 6.746835, 6.812735, 6.844485, 6.979135, 7.010252, 7.13635, 7.18544, 7.30829, 7.781205, 7.852515, 7.978315, 8.14575, 9.02262, 9.74624, 9.769314, 9.844115, 10.7589, 10.77265, 10.88477, 11.19879, 12.08193, 12.09363, 12.16915, 12.45645, 12.73016, 13.117945, 13.1351, 13.600085, 13.77194, 13.803855, 14.784715, 14.79339, 15.35715, 15.42335, 15.751835, 16.280255, 16.53953, 17.44434, 17.54885, 17.731625, 17.889915, 17.89449, 17.9221, 18.05152, 18.691587, 19.43343, 19.692175, 19.770135, 20.0704, 20.10333, 20.332275, 20.465415, 20.816505, 21.022605, 21.210065, 21.39617, 21.72041, 22.91855, 24.01258, 24.18551, 25.19981, 25.2229, 25.860005, 25.8946, 26.570785, 26.874775, 30.468695, 34.20255, 35.03657, 38.50218, 38.759955, 40.06261, 40.931255, 40.937, 40.97084, 42.827695, 45.420825, 46.690615, 47.26253, 49.44605, 50.38303, 51.61189, 51.90955, 59.329625, 65.80683, 67.38389, 70.636215, 98.82459, 132.30145, 137.686215, 149.50446, 188.697065];
optimal2 = [0.632965, 0.676095, 0.69321, 0.76174, 0.79539, 0.85355, 0.97889, 1.265865, 1.3784, 1.514215, 2.137375, 2.28727, 2.615555, 2.782105, 2.79633, 2.851185, 2.85556, 3.130255, 3.17869, 3.26759, 3.533263, 3.66974, 3.90203, 4.062265, 4.09095, 4.18671, 4.85318, 4.955265, 5.41744, 5.83864, 5.8471, 5.98433, 6.046065, 6.29071, 6.39316, 6.51571, 6.697945, 6.7391, 6.786665, 6.818265, 7.333195, 7.71908, 7.76256, 7.936385, 7.941945, 8.1645, 8.281045, 8.337335, 8.34002, 8.711105, 9.038885, 9.339261, 9.41147, 9.66265, 9.802745, 10.06274, 10.538945, 10.545515, 10.743585, 10.749945, 10.86513, 11.099906, 11.39563, 11.79634, 11.81028, 11.984205, 12.01266, 12.513445, 12.5322, 12.601615, 13.55942, 14.06907, 14.644595, 14.6545, 14.76382, 15.075395, 15.203265, 15.2169, 15.375415, 16.688565, 16.771705, 17.028915, 17.044395, 17.057375, 17.25987, 17.63744, 17.73602, 18.177475, 18.237755, 19.04544, 19.775485, 19.99333, 20.4237, 20.52599, 21.10034, 21.42707, 22.282895, 22.421215, 23.212205, 23.222445, 23.400965, 23.69506, 25.236765, 28.81258, 35.659625, 36.18996, 38.129335, 38.68984, 40.773835, 42.69885, 44.949815, 46.46896, 47.3046, 48.07557, 51.027575, 58.593285, 111.706525, 121.870345, 177.48258];
diff2 = [0.015315000000001078, 0.01963999999999899, 0.026069999999999816, 0.02988500000000016, 0.04066500000000062, 0.0501750000000003, 0.05752999999999986, 0.05907000000000018, 0.062124999999999986, 0.0692699999999995, 0.07011500000000126, 0.08667999999999987, 0.08995500000000067, 0.102155, 0.12884499999999832, 0.14011999999999958, 0.1465399999999999, 0.15847000000000122, 0.17378999999999944, 0.17559999999999998, 0.1814650000000011, 0.2000799999999998, 0.20380500000000001, 0.20725499999999997, 0.21254499999999998, 0.21640499999999996, 0.2235149999999999, 0.22692999999999985, 0.22740000000000027, 0.23112499999999958, 0.24003500000000066, 0.2524749999999969, 0.2741950000000002, 0.2822749999999994, 0.2883450000000001, 0.2905149999999992, 0.32784499999999994, 0.3395, 0.3405849999999999, 0.43005299999999913, 0.4488450000000004, 0.4710099999999997, 0.4721000000000002, 0.4722450000000009, 0.49044999999999916, 0.49733499999999964, 0.534934999999999, 0.5843150000000037, 0.5933299999999999, 0.60555, 0.6340750000000002, 0.6451200000000004, 0.682599999999999, 0.7027099999999997, 0.7099100000000007, 0.7363399999999984, 0.7688499999999987, 0.7735199999999995, 0.7935699999999954, 0.9048400000000001, 0.9724700000000013, 0.9941449999999996, 1.05632, 1.1435649999999997, 1.2335349999999998, 1.2559550000000002, 1.2904099999999996, 1.324819999999999, 1.3362649999999991, 1.5272800000000002, 1.5546849999999992, 1.58174, 1.9332750000000019, 1.9756, 2.22766, 2.28317, 2.6375600000000006, 3.026004999999998, 3.4769890000000006, 3.691274999999999, 4.406840000000001, 4.5522599999999995, 4.604950000000002, 5.143715, 5.311215000000004, 5.90127, 6.13467, 6.263204999999999, 6.509345, 6.512345, 6.5129, 7.591680999999998, 8.03287, 8.428104999999999, 8.490404999999999, 10.500655000000002, 11.155690000000002, 11.214484999999996, 11.75579, 13.383075000000002, 15.420155, 15.815870000000004, 16.219285000000003, 16.329259999999998, 16.591445, 17.71905, 17.72187, 17.776699999999998, 17.86708, 20.59492499999999, 22.560645000000008, 26.045085, 26.610054999999996, 31.33759, 31.34699, 34.118735, 40.57006500000001, 77.72425, 120.69188];

hold on
f1 = cdfplot(anycast2);
f2 = cdfplot(optimal2);
f3 = cdfplot(diff2);

xlabel('RTT (ms)')
ylabel('CDF')
xlim([0 80])
title('');
set(gca,'FontSize',20)
daspect([500 10 10])
set(f1, 'LineWidth', 1.5, 'LineStyle', '-');
set(f2, 'LineWidth', 1.5, 'LineStyle', '-.');
set(f3, 'LineWidth', 1.5, 'LineStyle', '--');
legend('anycast', 'optimal', 'diff', 'Location','southeast')
print('figures/anycast_vs_unicast_exceptional','-depsc')
clf;
ds = [0.0, 1745239.2510603047, 0.0, 895602.4948134422, 558557.9332905882, 816611.1409475262, 229050.00501399284, 400970.1604981712, 229050.0050139929, 9042370.0240727, 1392064.242044342, 818827.9083172004, 612565.056553564, 3559394.6811674917, 0.0, 0.0, 758512.4506810701, 612565.056553564, 0.0, 411703.09506066615, 0.0, 599266.4782267214, 356828.6933510753, 257672.1114732826, 229050.00501399284, 216221.7167216563, 3300296.810955698, 758512.4506810701, 394231.9195326377, 179428.73492154537, 257672.1114732826, 257672.1114732826, 480740.9560028546, 0.0, 400970.1604981712, 423599.7338750785, 257672.1114732826, 491617.75884346355, 703064.3055759486, 0.0, 2820969.2377743972, 1643935.2448626005, 2162091.184926457, 2820969.2377743972, 4822399.383704363, 3774940.6538219284, 758512.4506810701, 3300296.810955698, 4888194.454125958, 257672.1114732826, 394231.91953263775, 0.0, 2535428.680787061, 257672.1114732826, 0.0, 491988.5469087535, 1052037.5816729362];
saved = [0.2000799999999998, 34.118735, 0.2905149999999992, 6.512345, 13.383075000000002, 31.33759, 5.311215000000004, 6.263204999999999, 0.7688499999999987, 120.69188, 31.34699, 16.591445, 17.776699999999998, 0.7363399999999984, 0.2822749999999994, 0.2235149999999999, 15.420155, 17.72187, 0.062124999999999986, 17.86708, 0.21254499999999998, 0.08995500000000067, 11.214484999999996, 6.13467, 10.500655000000002, 4.5522599999999995, 17.71905, 16.329259999999998, 11.155690000000002, 0.9048400000000001, 0.7027099999999997, 6.5129, 2.6375600000000006, 3.691274999999999, 0.7735199999999995, 1.5546849999999992, 6.509345, 15.815870000000004, 16.219285000000003, 0.6340750000000002, 11.75579, 26.045085, 0.12884499999999832, 0.7099100000000007, 26.610054999999996, 77.72425, 8.490404999999999, 22.560645000000008, 40.57006500000001, 8.428104999999999, 8.03287, 0.22740000000000027, 5.143715, 5.90127, 7.591680999999998, 3.4769890000000006, 0.43005299999999913];
wasted = [0.1000399999999999, 14.148621741578845, 0.1452574999999996, 1.7624683208017322, 5.759963141830877, 14.306834218205537, 2.2735932116118787, 2.4628562560598484, 0.002410711611875671, 45.26489012236649, 13.35178175322389, 6.9300645481958885, 7.866701455803527, -5.568261331383748, 0.1411374999999997, 0.11175749999999995, 6.445014903460179, 7.839286455803528, 0.031062499999999993, 8.246893148029052, 0.10627249999999999, -0.9544914029613967, 5.0121162988080465, 2.6375841763930854, 4.868313211611877, 1.9155109934977477, 3.355222401841079, 6.899567403460178, 4.920336932314326, 0.15316508191672829, -0.07839582360691455, 2.8266991763930855, 0.5169903899310662, 1.8456374999999996, -0.2819862439401516, 0.07085419021890682, 2.8249216763930853, 7.088004835440186, 6.9370574552222095, 0.3170375000000001, 1.1730247430998118, 10.28075363741527, -3.541557449179471, -4.3499152569001875, 5.262131064452637, 32.56620168190584, 2.980139903460179, 5.776019901841083, 12.132401698784255, 3.784301676393085, 3.3589269323143256, 0.11370000000000013, -1.6567823692309007, 2.5208841763930856, 3.795840499999999, 0.9179459275126405, -1.5395833202259253];

ds = ds/1000;

hold on;
f1 = plot(ds, saved, 'o');
f2 = plot(ds, wasted, '^');

xlabel('Geographical distance (km)')
ylabel('Latency (ms)')
ylim([-20 150])
title('');
set(gca,'FontSize',20)
pbaspect([2 1 1])
set(f1, 'LineWidth', 1.5);
set(f2, 'LineWidth', 1.5);
% set(f3, 'LineWidth', 1, 'LineStyle', '--');
legend('Connection latency difference', 'Handshake latency difference', 'Location', 'northwest')
print('figures/anycast_vs_unicast_geo','-depsc')
