hs = [19312.0, 19141.0, 22858.0, 21882.0, 25679.0, 17354.5, 28808.0, 28974.5, 32128.0, 31057.5, 35584.0, 24687.5, 40478.0, 42008.5, 48824.0, 33198.5, 25484.0, 26426.0, 54027.0, 29478.5, 54774.0, 60700.0, 36837.0, 70579.0, 36172.0, 70252.0, 66377.0, 36125.0, 37167.0, 93238.5, 40802.0, 84770.5, 38278.0, 39155.5, 40065.0, 94921.5, 44746.0, 62607.5, 92302.0, 74139.0, 95897.0, 63565.0, 49775.0, 53185.0, 115423.0, 49914.5, 119158.0, 124453.5, 117256.0, 75199.0, 58934.0, 85695.5, 121530.0, 137781.0, 131119.0, 60982.0, 69262.0, 73302.5, 67882.0, 157458.5, 71934.0, 66226.0, 59473.0, 150826.0, 71741.0, 148722.0, 75744.0, 72662.5, 131916.0, 189427.0, 71567.0, 122904.5, 75313.0, 92008.0, 83991.0, 190169.5, 79776.0, 128503.5, 215676.0, 182889.5, 191168.0, 82970.0, 88486.0, 189531.0, 85032.0, 181002.0, 89895.0, 95011.0, 93364.0, 123075.0, 100324.0, 212170.5, 204014.0, 162902.0, 105189.0, 90262.5, 98558.0, 228700.0, 117338.0, 138013.5] / 1000;
tf = [22415.0, 23927.5, 33806.0, 32644.5, 43641.0, 23408.0, 48673.0, 52789.5, 57967.0, 58444.5, 67557.0, 41760.5, 80950.0, 85719.5, 90570.0, 50333.0, 42698.0, 45795.0, 116765.0, 51039.5, 112452.0, 121202.0, 62501.0, 143340.0, 66239.0, 151482.0, 156088.0, 64756.5, 70196.0, 159117.0, 83018.0, 144915.5, 71406.0, 75177.5, 75780.0, 213006.0, 79966.0, 123823.5, 214227.0, 131624.0, 217494.0, 134461.0, 95153.0, 102241.0, 254903.0, 97742.5, 194076.0, 262276.0, 261968.0, 139457.0, 123722.0, 140209.0, 227113.0, 204478.0, 286791.0, 158451.5, 140590.0, 163821.0, 143123.0, 344999.5, 145320.0, 132823.0, 117703.0, 344811.0, 146988.0, 223769.0, 149342.0, 146649.0, 301114.0, 368778.0, 151832.0, 204521.0, 154568.0, 182246.0, 215840.0, 401471.0, 179492.0, 232350.0, 362921.0, 408022.0, 396662.0, 177039.5, 176518.0, 427312.0, 178228.0, 444561.5, 190062.0, 220603.5, 216093.0, 323041.0, 205234.0, 339280.5, 419342.0, 261556.0, 227831.0, 353969.0, 204432.0, 520295.0, 247051.0, 263716.5] / 1000;
bar([hs; tf]');
xlabel('Number of connections');
ylabel('Latency (ms)')
set(gca,'FontSize',20)
pbaspect([2 1 1])
axis([1 100 0 600])
legend('Handshake latency', 'Transmission latency', 'location', 'northwest');
print('figures/direct-latency','-depsc');
cpu_cli = [0, 0, 0, 0, 0, 0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 1.0, 2.0, 2.0, 2.0, 2.0, 1.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 3.0, 3.0, 2.0, 3.0, 4.0, 3.0, 4.0, 4.0, 3.0, 4.0, 3.0, 3.0, 4.0, 4.0, 4.0, 4.0, 5.0, 5.0, 4.0, 4.0, 4.0, 5.0, 5.0, 6.0, 5.0, 5.0, 6.0, 5.0, 6.0, 5.0, 5.0, 4.0, 7.0, 6.0, 6.0, 5.0, 5.0, 7.0, 7.0, 7.0, 6.0, 6.0, 6.0, 8.0, 7.0, 7.0, 7.0, 8.0, 8.0, 8.0, 7.0, 8.0, 5.0, 7.0, 8.0, 8.0, 9.0, 8.0, 9.0, 9.0, 8.0, 9.0, 9.0, 9.0, 9.0, 9.0, 5.0, 9.0, 9.0];
cpu_ser = [0, 2.0, 2.0, 1.0, 2.0, 1.0, 2.0, 3.0, 3.0, 1.5, 4.0, 4.0, 5.0, 4.0, 4.0, 4.0, 5.0, 6.0, 6.0, 5.0, 3.0, 6.0, 6.0, 5.0, 7.0, 9.0, 9.0, 3.0, 7.0, 9.0, 3.5, 4.0, 8.0, 7.0, 4.0, 6.0, 8.0, 9.0, 6.0, 9.0, 9.0, 6.0, 8.0, 9.0, 9.0, 6.5, 9.0, 9.0, 9.0, 8.0, 9.0, 9.0, 9.0, 7.0, 9.0, 9.0, 8.5, 9.0, 9.0, 9.5, 7.0, 9.0, 9.0, 9.0, 9.0, 9.5, 8.0, 7.0, 9.0, 9.5, 9.5, 9.5, 9.5, 9.0, 9.0, 9.0, 9.0, 9.0, 9.5, 9.5, 9.0, 9.0, 9.5, 9.5, 9.0, 9.6, 9.0, 9.0, 9.0, 9.6, 9.0, 9.0, 9.0, 9.5, 9.5, 9.3, 9.6, 9.5, 9.0, 9.0];
bar([cpu_cli; cpu_ser]');
xlabel('Number of connections');
ylabel('CPU usage (%)')
set(gca,'FontSize',20)
pbaspect([2 1 1])
axis([1 100 0 13])
legend('Client', 'Server', 'location', 'northwest');
print('figures/direct-cpu','-depsc');
mem_cli = [28.79296875, 28.921875, 29.05078125, 29.05078125, 29.1875, 29.3125, 29.31640625, 29.44921875, 29.44921875, 29.58203125, 29.7109375, 29.7109375, 29.84765625, 29.97265625, 29.9765625, 30.11328125, 30.11328125, 30.24609375, 30.37109375, 30.37109375, 30.5078125, 30.63671875, 30.63671875, 30.7734375, 30.7734375, 30.90625, 31.03515625, 31.03515625, 31.171875, 31.296875, 31.30078125, 31.43359375, 31.43359375, 31.5703125, 31.6953125, 31.6953125, 31.83203125, 31.9609375, 31.9609375, 32.09765625, 32.09765625, 32.23046875, 32.35546875, 32.35546875, 32.4921875, 32.6171875, 32.62109375, 32.7578125, 32.7578125, 32.890625, 33.01953125, 33.01953125, 33.15625, 33.28125, 33.28515625, 33.41796875, 33.41796875, 33.5546875, 33.68359375, 33.68359375, 33.81640625, 33.9453125, 33.9453125, 34.08203125, 34.08203125, 34.21484375, 34.34375, 34.34375, 34.4765625, 34.60546875, 34.60546875, 34.7421875, 34.7421875, 34.87890625, 35.0078125, 35.0078125, 35.140625, 35.265625, 35.26953125, 35.40234375, 35.40234375, 35.5390625, 35.6640625, 35.6640625, 35.80078125, 35.9296875, 35.9296875, 36.06640625, 36.06640625, 36.19921875, 36.32421875, 36.32421875, 36.4609375, 36.58984375, 36.58984375, 36.73046875, 36.73046875, 36.86328125, 36.9921875, 36.9921875];
mem_ser = [28.78125, 28.9140625, 28.9140625, 29.04296875, 29.16015625, 29.16015625, 29.30078125, 29.30078125, 29.43359375, 29.53125, 29.55859375, 29.6796875, 29.6796875, 29.7265625, 29.85546875, 29.96484375, 29.94921875, 30.09375, 30.11328125, 30.22265625, 30.24609375, 30.39453125, 30.4921875, 30.51953125, 30.61328125, 30.640625, 30.6875, 30.76171875, 30.91015625, 30.91015625, 31.0, 31.15625, 31.18359375, 31.3046875, 31.3046875, 31.42578125, 31.44140625, 31.52734375, 31.62890625, 31.72265625, 31.8125, 31.796875, 31.8671875, 32.03515625, 32.01953125, 32.1171875, 32.21875, 32.33984375, 32.33984375, 32.4765625, 32.4765625, 32.53515625, 32.609375, 32.78125, 32.859375, 32.84765625, 32.99609375, 32.98046875, 33.125, 33.12890625, 33.19921875, 33.328125, 33.375, 33.42578125, 33.5234375, 33.64453125, 33.64453125, 33.79296875, 33.8671875, 33.94140625, 34.01171875, 34.01171875, 34.0859375, 34.2578125, 34.3359375, 34.3828125, 34.484375, 34.47265625, 34.60546875, 34.62109375, 34.75390625, 34.75390625, 34.8984375, 34.90234375, 35.07421875, 35.05078125, 35.1484375, 35.28515625, 35.34375, 35.43359375, 35.4921875, 35.56640625, 35.58203125, 35.69140625, 35.81640625, 35.890625, 35.96484375, 35.96484375, 36.1015625, 36.16015625];
mem_bal = [39.101875, 39.1490625, 39.0790625, 39.14578125, 39.20078125, 39.2284375, 39.1584375, 39.268125, 39.198125, 39.26875, 39.2378125, 39.3475, 39.2775, 39.348125, 39.36796875, 39.3878125, 39.356875, 39.4275, 39.44734375, 39.50625, 39.43625, 39.45609375, 39.52671875, 39.5465625, 39.515625, 39.53546875, 39.61390625, 39.57515625, 39.64578125, 39.70078125, 39.7284375, 39.744375, 39.67046875, 39.78796875, 39.71796875, 39.81984375, 39.80453125, 39.85953125, 39.887187499999996, 39.89921875, 39.926875, 39.90375, 39.87671875, 39.8965625, 40.00625, 40.02609375, 40.006875, 40.02671875, 39.99578125, 40.01171875, 40.03546875, 40.14515625, 40.1259375, 40.1809375, 40.165625, 40.1346875, 40.15453125, 40.23296875, 40.19421875, 40.2140625, 40.31984375, 40.25765625, 40.3634375, 40.352031249999996, 40.3171875, 40.42296875, 40.44671875, 40.40796875, 40.45125, 40.41640625, 40.483125, 40.4521875, 40.5228125, 40.49578125, 40.60546875, 40.53546875, 40.5553125, 40.665, 40.595, 40.66171875, 40.6346875, 40.70140625, 40.72515625, 40.7840625, 40.79609375, 40.73390625, 40.84359375, 40.8634375, 40.883281249999996, 40.86015625, 40.833124999999995, 40.89984375, 40.47046875, 40.4903125, 40.82265625, 41.02609375, 40.32328125, 40.7025, 40.6325, 40.92578125];
bar([mem_cli; mem_ser]');
xlabel('Number of connections');
ylabel('Memory (MB)')
pbaspect([2 1 1])
axis([1 100 25 42])
set(gca,'FontSize',20)
legend('Client', 'Server', 'location', 'northwest');
print('figures/direct-memory','-depsc');
hs = [23409.0, 23541.5, 21171.0, 19126.5, 20961.0, 25773.5, 26249.0, 28753.0, 32941.0, 53546.5, 35657.0, 64334.5, 58760.0, 67631.5, 84328.0, 99225.5, 60313.0, 37430.5, 70172.0, 78274.0, 56867.0, 61996.5, 110830.0, 39373.0, 44137.0, 47075.0, 46812.0, 105708.5, 109011.0, 37190.5, 96915.0, 57232.5, 92772.0, 59617.0, 144764.0, 121523.5, 134997.0, 110715.0, 81698.0, 59798.0, 53730.0, 164295.0, 115397.0, 170997.5, 55157.0, 130780.0, 125880.0, 121787.0, 117247.0, 66017.5, 147131.0, 47381.0, 151817.0, 85433.0, 150347.0, 199234.0, 106084.0, 92431.0, 167887.0, 85469.5, 207529.0, 136349.0, 79625.0, 89439.5, 214128.0, 198111.0, 83250.0, 88807.0, 249734.0, 136346.0, 148864.0, 174795.5, 220066.0, 227742.0, 86283.0, 161068.5, 153957.0, 229475.0, 223157.0, 197528.0, 169343.0, 192943.5, 172935.0, 142267.0, 162233.0, 114247.0, 73271.0, 251676.5, 173951.0, 233613.0, 141930.0, 259763.0, 239505.0, 103632.0, 354317.0, 111290.5, 160822.0, 290715.0, 282464.5, 145898.0] / 1000;
tf = [37235.0, 35882.5, 36642.0, 34529.5, 39543.0, 42119.5, 49237.0, 45835.5, 49763.0, 99042.5, 66804.0, 122360.0, 90448.0, 130154.5, 169931.0, 186066.5, 103668.0, 67555.0, 94502.0, 156618.5, 80156.0, 85819.5, 227287.0, 84070.5, 93609.0, 100945.0, 76582.0, 180007.5, 206340.0, 86986.5, 164834.0, 124976.0, 171248.0, 136081.5, 217278.0, 153983.5, 175575.0, 144380.5, 152532.0, 138214.0, 91055.0, 391648.5, 152026.0, 301677.5, 131935.0, 168989.5, 164628.0, 161254.5, 234428.0, 179827.0, 188339.0, 128005.0, 194309.0, 188348.0, 194172.0, 341616.5, 156024.0, 137861.5, 214142.0, 239214.5, 254941.0, 287042.0, 155301.0, 209952.0, 272861.0, 473764.5, 153215.0, 247997.5, 434750.0, 284221.5, 202223.0, 385537.5, 274510.0, 283017.0, 188534.0, 217539.0, 336712.0, 429389.5, 281445.0, 298177.5, 339769.0, 263148.0, 268245.0, 368066.0, 325932.0, 210586.0, 158054.0, 319611.0, 238217.0, 303503.0, 333544.0, 340032.0, 306058.0, 310413.0, 558475.0, 255168.5, 546229.0, 360398.0, 352451.0, 372682.0] / 1000;
bar([hs; tf]');
xlabel('Number of connections');
ylabel('Latency (ms)')
set(gca,'FontSize',20)
pbaspect([2 1 1])
axis([1 100 0 600])
legend('Handshake latency', 'Transmission latency', 'location', 'northwest');
print('figures/art1-latency','-depsc');
cpu_cli = [1.8, 0, 0, 0, 0, 0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.0, 1.0, 1.0, 1.0, 2.0, 1.0, 1.0, 2.0, 2.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 4.0, 3.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 6.0, 6.0, 6.0, 6.0, 7.0, 6.0, 6.0, 6.0, 7.0, 7.0, 8.0, 7.0, 8.0, 7.0, 8.0, 8.0, 9.0, 8.0, 8.0, 8.0, 9.0, 8.0, 8.0, 8.0, 9.0, 9.0, 9.0, 8.0, 9.0, 9.0, 9.0, 9.0, 9.0, 9.0, 9.0, 9.0, 9.0, 9.0, 5.0, 9.0, 9.0, 5.5, 5.5, 9.0, 9.0, 6.0, 9.0, 9.0, 9.0];
cpu_ser = [0.5, 1.0, 1.0, 1.0, 2.0, 3.0, 4.0, 2.0, 3.0, 4.0, 5.0, 3.0, 6.0, 6.0, 6.0, 3.0, 3.5, 4.0, 6.0, 7.0, 6.0, 8.0, 7.0, 3.5, 4.0, 8.0, 9.0, 5.5, 5.5, 9.0, 9.0, 5.0, 6.5, 9.0, 9.0, 6.0, 7.0, 9.0, 8.0, 7.0, 6.0, 9.0, 9.0, 9.0, 6.5, 9.0, 9.0, 7.0, 9.0, 9.0, 9.0, 9.0, 9.5, 9.0, 9.5, 9.0, 9.5, 9.0, 9.5, 9.5, 9.5, 9.0, 9.5, 9.5, 9.5, 9.5, 9.5, 9.0, 9.5, 9.5, 9.0, 9.6, 9.5, 9.5, 9.0, 9.6, 9.6, 9.6, 9.6, 9.6, 9.5, 9.5, 9.3, 9.6, 9.6, 9.5, 9.0, 9.6, 9.5, 9.5, 9.0, 9.0, 9.5, 9.5, 9.5, 9.2, 9.5, 9.7, 9.5, 9.0];
bar([cpu_cli; cpu_ser]');
xlabel('Number of connections');
ylabel('CPU usage (%)')
set(gca,'FontSize',20)
pbaspect([2 1 1])
axis([1 100 0 13])
legend('Client', 'Server', 'location', 'northwest');
print('figures/art1-cpu','-depsc');
mem_cli = [28.79296875, 28.921875, 29.05078125, 29.05078125, 29.1875, 29.3125, 29.31640625, 29.44921875, 29.44921875, 29.58203125, 29.7109375, 29.7109375, 29.84765625, 29.97265625, 29.9765625, 30.11328125, 30.11328125, 30.24609375, 30.37109375, 30.37109375, 30.5078125, 30.63671875, 30.63671875, 30.7734375, 30.7734375, 30.90625, 31.03515625, 31.03515625, 31.171875, 31.296875, 31.30078125, 31.43359375, 31.43359375, 31.5703125, 31.6953125, 31.6953125, 31.83203125, 31.9609375, 31.9609375, 32.09765625, 32.09765625, 32.23046875, 32.35546875, 32.35546875, 32.4921875, 32.6171875, 32.62109375, 32.7578125, 32.7578125, 32.890625, 33.01953125, 33.01953125, 33.15625, 33.28125, 33.28515625, 33.41796875, 33.41796875, 33.5546875, 33.68359375, 33.68359375, 33.81640625, 33.9453125, 33.9453125, 34.08203125, 34.08203125, 34.21484375, 34.34375, 34.34375, 34.4765625, 34.60546875, 34.60546875, 34.7421875, 34.7421875, 34.87890625, 35.0078125, 35.0078125, 35.140625, 35.265625, 35.26953125, 35.40234375, 35.40234375, 35.5390625, 35.6640625, 35.6640625, 35.80078125, 35.9296875, 35.9296875, 36.06640625, 36.06640625, 36.19921875, 36.32421875, 36.32421875, 36.4609375, 36.58984375, 36.58984375, 36.73046875, 36.73046875, 36.86328125, 36.9921875, 36.9921875];
mem_ser = [28.78125, 28.9140625, 28.9140625, 29.03515625, 29.03515625, 29.03515625, 29.15625, 29.16796875, 29.17578125, 29.39453125, 29.390625, 29.51171875, 29.53515625, 29.6328125, 29.6328125, 29.76953125, 29.66796875, 29.62109375, 29.6640625, 29.91796875, 29.66796875, 29.8046875, 30.140625, 30.17578125, 30.1796875, 30.171875, 30.13671875, 30.421875, 30.5625, 30.4140625, 30.6875, 30.65234375, 30.71484375, 30.7734375, 30.87109375, 30.33203125, 30.48046875, 30.50390625, 31.05078125, 31.078125, 30.66015625, 31.31640625, 30.796875, 31.4375, 31.36328125, 30.8203125, 31.015625, 30.9765625, 31.74609375, 31.7578125, 31.078125, 31.61328125, 31.484375, 31.79296875, 31.33203125, 31.77734375, 31.7109375, 31.359375, 31.40234375, 32.41015625, 31.59375, 32.28125, 31.71484375, 32.3359375, 31.6640625, 32.78125, 31.80078125, 32.84375, 33.05078125, 33.0390625, 31.9296875, 33.16796875, 32.234375, 32.1328125, 32.359375, 32.71484375, 33.515625, 32.8203125, 32.328125, 33.11328125, 33.6875, 33.12109375, 32.4609375, 33.84765625, 33.4140625, 33.55859375, 32.921875, 32.81640625, 33.15234375, 33.125, 34.2890625, 32.87890625, 32.66796875, 34.1875, 33.33984375, 34.0078125, 34.234375, 32.99609375, 32.953125, 34.6875];
mem_bal = [39.101875, 39.1490625, 39.0790625, 39.14578125, 39.20078125, 39.2284375, 39.1584375, 39.268125, 39.198125, 39.26875, 39.2378125, 39.3475, 39.2775, 39.348125, 39.36796875, 39.3878125, 39.356875, 39.4275, 39.44734375, 39.50625, 39.43625, 39.45609375, 39.52671875, 39.5465625, 39.515625, 39.53546875, 39.61390625, 39.57515625, 39.64578125, 39.70078125, 39.7284375, 39.744375, 39.67046875, 39.78796875, 39.71796875, 39.81984375, 39.80453125, 39.85953125, 39.887187499999996, 39.89921875, 39.926875, 39.90375, 39.87671875, 39.8965625, 40.00625, 40.02609375, 40.006875, 40.02671875, 39.99578125, 40.01171875, 40.03546875, 40.14515625, 40.1259375, 40.1809375, 40.165625, 40.1346875, 40.15453125, 40.23296875, 40.19421875, 40.2140625, 40.31984375, 40.25765625, 40.3634375, 40.352031249999996, 40.3171875, 40.42296875, 40.44671875, 40.40796875, 40.45125, 40.41640625, 40.483125, 40.4521875, 40.5228125, 40.49578125, 40.60546875, 40.53546875, 40.5553125, 40.665, 40.595, 40.66171875, 40.6346875, 40.70140625, 40.72515625, 40.7840625, 40.79609375, 40.73390625, 40.84359375, 40.8634375, 40.883281249999996, 40.86015625, 40.833124999999995, 40.89984375, 40.47046875, 40.4903125, 40.82265625, 41.02609375, 40.32328125, 40.7025, 40.6325, 40.92578125];
bar([mem_cli; mem_ser; mem_bal]');
xlabel('Number of connections');
ylabel('Memory (MB)')
pbaspect([2 1 1])
axis([1 100 25 50])
set(gca,'FontSize',20)
legend('Client', 'Server', 'Service Dispatcher', 'location', 'northwest');
print('figures/art1-memory','-depsc');
export_fig 'figures/art1-memory.eps'
