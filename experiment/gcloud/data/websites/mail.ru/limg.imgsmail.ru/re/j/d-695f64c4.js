!function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var n="default"in e?e.default:e;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function r(t,e){return t(e={exports:{}},e.exports),e.exports}r((function(t){!function(){var e=/[\\'"\/\n\r\t\b\f<>]/g,n=/[\\'"\/\n\r\t\b\f<>]/,r=/[&<>"]/g,i=/[&<>"]/,o={'"':'\\"',"\\":"\\\\","/":"\\/","\n":"\\n","\r":"\\r","\t":"\\t","\b":"\\b","\f":"\\f","'":"\\'","<":"\\u003C",">":"\\u003E"},a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},s=/[<>]/g,u=/[<>]/,c={"<":"\\u003C",">":"\\u003E"};function l(t){return a[t]}function d(t){return o[t]}function f(t){return c[t]}var h={namespace:"fest_stdlib",core:{short_tags:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,wbr:!0},jschars:e,jschars_test:n,htmlchars:r,htmlchars_test:i,jshash:o,htmlhash:a,escapeJS:function(t){return"string"==typeof t&&n.test(t)?t.replace(e,d):null==t?"":t},replaceJS:d,escapeHTML:function(t){return"string"==typeof t&&i.test(t)?t.replace(r,l):null==t?"":t},replaceHTML:l,extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},param:function(t){return t.param=!0,t}},json:{jsonchars:s,jsonchars_test:u,jsonhash:c,replaceJSON:f,escapeJSON:function(t){return t=JSON.stringify(t),u.test(t)?t.replace(s,f):t}},plural:{format:function(t,e){return t.replace(/%./g,(function(t){return"%s"===t?e:"%"}))}}};new Function("stdlib","this.fest_stdlib = stdlib")(h),t.exports&&(t.exports=h)}()}));
/**
	 * @author RubaXa <trash@rubaxa.org>
	 * @license MIT
	 */var i=/-/g,o=/\s+/,a=/-(.)/g,s=function(t,e){return e.toUpperCase()},u={}.hasOwnProperty,c=[];function l(t,e){var n=t.__emList;return e=e.toLowerCase().replace(i,""),void 0===n?(n=t.__emList={})[e]=[]:void 0===n[e]&&(n[e]=[]),n[e]}var d=function(){};function f(t){if(t instanceof f)return t;if(t.type){for(var e in t)u.call(t,e)&&(this[e]=t[e]);t=t.type}this.type=t.toLowerCase().replace(i,"")}d.fn=d.prototype={constructor:d,on:function(t,e){for(var n=(t=t.split(o)).length;n--;)l(this,t[n]).push(e);return this},off:function(t,e){var n=arguments;if(void 0===t)this.__emList=t;else for(var r=(t=t.split(o)).length;r--;){var i=l(this,t[r]),a=i.length,s=-1;if(1===n.length)i.splice(0,1e5);else{if(i.indexOf)s=i.indexOf(e);else for(;a--;)if(i[a]===e){s=a;break}-1!==s&&i.splice(s,1)}}return this},one:function(t,e){var n=function(){return this.off(t,n),e.apply(this,arguments)};return this.on(t,n)},emit:function(t,e){var n,r,i,o,u,d=l(this,t),f=d.length;if((t="on"+t.charAt(0).toUpperCase()+t.substr(1)).indexOf("-")>-1&&(t=t.replace(a,s)),"function"==typeof this[t]&&(o=this[t].apply(this,[].concat(e))),f>0)for(u=(e=void 0===e?c:[].concat(e)).length;f--;)r=this,void 0!==(n=d[f])&&(void 0!==n.handleEvent&&(r=n,n=n.handleEvent),void 0!==(i=0===u?n.call(r):1===u?n.call(r,e[0]):2===u?n.call(r,e[0],e[1]):n.apply(r,e))&&(o=i));return o},trigger:function(t,e,n){var r=new f(t);return r.target=r.target||this,r.details=n,r.result=this.emit(t.type||t,[r].concat(e)),this}},f.fn=f.prototype={constructor:f,defaultPrevented:!1,propagationStopped:!1,isDefaultPrevented:function(){return this.defaultPrevented},preventDefault:function(){this.defaultPrevented=!0},stopPropagation:function(){this.propagationStopped=!0},isPropagationStopped:function(){return this.propagationStopped}},d.apply=function(t){return t.on=d.fn.on,t.off=d.fn.off,t.one=d.fn.one,t.emit=d.fn.emit,t.trigger=d.fn.trigger,t},d.version="0.4.0",d.Event=f,d.getListeners=l;var h={},p={},m=function(t){this.queryClassNames=[],this.listenStates=[],this.isAsync=!1,this.isInited=!1,this.isReady=!1,this.init()},v={tpl:{configurable:!0},id:{configurable:!0},inited:{configurable:!0}};v.tpl.get=function(){return m.templates[this.id]},v.id.get=function(){return this.__id||this.name},m.addInstance=function(t){h[t.id]||(h[t.id]=[]),h[t.id].push(t),t.isAsync||(t.isReady=!0,m.emit(t.id+".inited",t))},m.waitFor=function(t,e){return p[t]||(p[t]=new Promise((function(n,r){var i=h[t];i&&i.length&&i[0].isReady?n(i[0]):(m.one(t+".inited",(function(t){return n(t)})),e&&setTimeout((function(){r({message:t,type:"timeout"})}),e))})))},m.attachTemplate=function(t,e){m.templates[t]=e},m.registerTemplate=function(t,e){m.attachTemplate(t,e)},v.inited.get=function(){return this.isInited},m.prototype.setInited=function(){this.isInited=!0},m.prototype.render=function(t,e){e.state},m.prototype.init=function(){},m.prototype.emitReady=function(){this.isAsync&&(this.isReady=!0,m.emit(this.id+".inited",this))},Object.defineProperties(m.prototype,v),m.templates={},d.apply(m),d.apply(m.prototype);var g=function(){},_="undefined"!=typeof window&&window.navigator.userAgent.toLowerCase(),y=function(t){return _.indexOf(t.toLowerCase())>-1},w=function(t){return{log:g,send:g}},b=w("error_parse"),x=function(){return Math.round((new Date).getTime()+1e9*Math.random())},C=function(t){return"string"==typeof t},S=function(t){return Array.isArray(t)},E=function(t,e){return-1!==(t||"").indexOf(e)},I=function(t){return Array.prototype.slice.call(t)},O=function(t,e,n,r){var i;if(S(t))for(var o=t.length,a=n||0;n<o;a++)e.call(r,t[a],a,t);else for(i in t)e.call(r,t[i],i,t);return r},k=function(t){var e=I(arguments);return e.length>1&&e.forEach((function(e,n){n>0&&O(e,(function(e,n){t[n]=e}))})),t},N=function(t){if(!(t instanceof Error))return null;var e=(t.stack||"").replace(/\t+/g," ").split("\n").map((function(t,e){var n;if(y("chrome")){if(!e)return null;(n=t.match(/at(?:\s+([^\s(]+)\s)\(?((?:https?:)?[^():]+)(?::(\d+):(\d+))?\)?/i))||(n=t.match(/at\s+(a)?(https?:[^\s:(]+)(?::(\d+):(\d+))?/i))}else y("firefox")&&(n=t.match(/([^@]+)@((?:https?:)?[^:]+):(\d+):(\d+)/));if(n){var r=n[1],i=n[2],o=n[3],a=n[4];t={msg:(r?"at "+r+" ":"")+(i?"in "+i:"")+(o?":"+o+":"+a:""),func:r,file:i,line:o,col:a}}return t})).filter((function(t){return!!t}));return{name:t.name,message:t.message,stack:e,getMessage:function(){var n=t.name+": "+t.message;return e&&e[0]&&e[0].msg&&(n+=" "+e[0].msg),n}}},T=function(t,e){var n,r;try{n=JSON.parse(t)}catch(n){var i,o=N(r=n),a=n.message.match(/at position (\d+)/i)[1],s="at unknown";if(o&&o.stack.length>2){var u=2;y("firefox")&&u--,s=o.stack[u].msg||o.stack[u]||s}if(void 0!==a){var c=Math.max(0,a-40),l=Math.min(t.length,a+(60-(a-c)));i=" invalid: "+t.substring(c,l)}e&&(e=" source: "+e),b.send("json"),b.log(o.getMessage()+" "+s+";"+e+";"+i)}return{data:n,error:r}},j=function(t,e,n){var r=e.length;if(0===r)return t;if(r<1e4)n.apply(t,e);else for(var i,o=0;o<r;)i=Math.min(o+1e4,r),n.apply(t,e.slice(o,i)),o=i;return t},R=function(){var t=this,e=I(arguments);return e.reduce((function(e,n){return j(e,n,t)}))};var P=function(t){return Object.keys(t).map((function(e){return{name:e,value:t[e]}}))},M=Object.freeze({__proto__:null,noop:g,logger:function(t){b=(w=t)("error_parse")},rnd:x,randomInt:function(t,e,n){void 0===t&&(t=256),void 0===e&&(e=0),void 0===n&&(n=!1);var r,i=t>e?e:t,o=t>e?t:e,a="undefined"!=typeof window&&(window.crypto||window.msCrypto),s=o-i+1;if(a&&n){var u=new Uint32Array(1);a.getRandomValues(u),r=u[0]/4294967296}else r=Math.random();return r=Math.floor(r*s)+i},isString:C,isArray:S,contains:E,toArray:I,each:O,extend:k,merge:function(t){var e=I(arguments);return e.length>1&&e.forEach((function(e,n){n>0&&O(e,(function(e,n){n in t||(t[n]=e)}))})),t},parseError:N,parseJson:T,debounce:function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=100);var r=null;return function(){r||(t.apply(void 0,arguments),e&&setTimeout((function(){r=0}),e)),r++,n&&setTimeout((function(){r=0}),n)}},throttle:function(t,e){var n,r,i=!1,o=function(){if(i)return n=arguments,void(r=this);t.apply(void 0,arguments),i=!0,setTimeout((function(){i=!1,n&&(o.apply(r,n),n=r=null)}),e)};return o},arrayPush:function(){return R.apply(Array.prototype.push,arguments)},arrayUnshift:function(){return R.apply(Array.prototype.unshift,arguments)},arraySubstract:function(t,e){var n=e.slice(0);return t.filter((function(t){var e=n.indexOf(t),r=-1===e;return r&&(n=n.splice(e,1)),r}))},replaceUnsafeSymbols:function(t){if(!t)return"";var e={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},n="["+Object.keys(e).join("")+"]";return new RegExp(n).test(t)?t.replace(new RegExp(n,"g"),(function(t){return e[t]})):t},pluralize:function(t,e){var n=2,r=t%10,i=t%100;return 0===t?e[n=3]||(e[n]=""):(i<5||i>20)&&(1===r?n=0:r>=2&&r<=4&&(n=1)),e[n]},cloneObject:function(t){return t?JSON.parse(JSON.stringify(t)):t},getPropByFlatKey:function(t,e){if(/\[\s*[a-zA-Z]\s*\]/.test(e))return!1;try{var n=e.replace(/[\s'"]/g,"").split(/[.[\]]/).filter((function(t){return t})),r=t;return n.forEach((function(t){return r=r[t]})),r}catch(t){return}},openInNewTab:function(t,e){var n=document.createElement("a");e=e||document.body,n.style.cssText="display: block; visibility: hidden; width:0; height:0; overflow: hidden;",e.appendChild(n),n.target="_blank",n.rel="noopener",n.href=t,n.addEventListener("click",(function(t){return t.stopPropagation()})),n.click(),setTimeout((function(){return e.removeChild(n)}),100)},wait:function(t){void 0===t&&(t=0);for(var e,n,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];var o=new Promise((function(i,o){e=setTimeout.apply(void 0,[i,t].concat(r)),n=o}));return o.reject=function(){clearTimeout(e),n()},o},arrayFromObject:P}),A=("undefined"==typeof window?{}:window).location,L=function(t){return A.search.replace(new RegExp("[?&]"+t+"=([^&]*?)')","$1"))},H=function(t,e){var n=[],r=1&(e=e||0),i=2&e,o=4&e;return t.forEach((function(t){var e=t.value,i=t.name;0!==o&&null===e||n.push(i+"="+(0===r?encodeURIComponent(e):e))})),0===i&&n.push("_="+x()),n.join("&")},q=function(t,e,n){var r=H(e||[],n);return r?[t,r].join(E(t,"?")?"&":"?"):t},D=Object.freeze({__proto__:null,getDomain:function(t){return(t||A.href).replace(/https?:\/\//i,"").split("/")[0]},getParam:L,makeParams:H,hasParam:function(t){return!!L(t)},makeUrl:q}),B=document.getElementsByTagName("head")[0],F=function(t){return document.getElementById(t)},U=function(t){return document.createElement(t||"div")},z=function(t){var e=U();return e.innerHTML=t,1===e.children.length?e.children[0]:e},W=function(t){return C(t)&&(t=F(t)),t&&t.parentNode&&t.parentNode.removeChild(t)},J=function(t){return t&&1===t.nodeType},X=function(t,e){return J(t)&&t.classList.add(e)},K=function(t,e){return J(t)&&t.classList.remove(e)},V=function(t,e,n){var r=n||"afterend";return C(t)&&(t=F(t)),t.insertAdjacentHTML(r,e),t.nextSibling},Y=Object.freeze({__proto__:null,head:B,id:F,newElement:U,createElement:z,killElement:W,isNode:J,hasClass:function(t,e){return J(t)&&t.classList.contains(e)},addClass:X,removeClass:K,toggleClass:function(t,e,n){return J(t)&&t.classList.toggle(e,n)},conditionalToggleClass:function(t,e,n){return J(t)&&(n?X(t,e):K(t,e))},replaceClass:function(t,e,n){K(t,e),X(t,n)},sendForm:function(t){var e=z(t);return document.body.appendChild(e),e.submit()},hasParent:function(t,e){return J(e)?e.contains(t):t.closest("."+e)},getParent:function(t,e){return t.closest("."+e)||!1},appendHtmlAfter:V,replaceWithHtml:function(t,e){var n=V(t,e);return t.parentNode.removeChild(t),n},isVisible:function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},getScriptOrigin:function(){return document.currentScript||document.scripts[document.scripts.length-1]},scroll:function(t,e){var n=["left","top"],r=typeof t,i=document.scrollingElement,o=[document.body,document.documentElement],a=function(t){return"scroll"+t.charAt(0).toUpperCase()+t.slice(1)};if(void 0===e&&"object"!==r){var s=function(t){return t=a(t),i?i[t]:o[0][t]||o[1][t]};return"undefined"===r?{left:s("left"),top:s("top")}:s("left"===t?"left":"top")}if("object"===r)i?n.forEach((function(e){i[a(e)]=t[e]})):o.forEach((function(e){n.forEach((function(n){e[a(n)]=t[n]}))}));else{var u=a(t);i?i[u]=e:o.forEach((function(t){t[u]=e}))}},removeElementChilds:function(t){for(var e;e=t.lastChild;)t.removeChild(e)}}),G=function(t,e,n){var r=k({},n);if(void 0!==e)return null===e&&(e="",r.expires=-1),e=""+e,r.encode&&(e=encodeURIComponent(e)),document.cookie=t+"="+e+((i=r.expires)?("number"==typeof i?(o=new Date).setTime(o.getTime()+24*i*60*60*1e3):"toUTCString"in i&&(o=i),o?"; expires="+o.toUTCString():""):"")+(r.path?"; path="+r.path:"")+(r.domain?"; domain="+r.domain:"")+(r.secure?"; secure":""),e;var i,o,a=document.cookie||"";if(""!==a){var s=new RegExp("(?:^| )"+t+"\\=(\\S*)(?:; |$)");return void 0!==(e=(a.match(s)||[])[1])&&r.encode&&(e=decodeURIComponent(e)),e}},Q=function(){return 0===arguments[6].indexOf(arguments[0])?"":arguments[4]},Z=function(t,e,n,r){var i=G(t,void 0)||"";if(void 0===e)return i;var o=new RegExp("(^|\\|)("+e+"=)(.*?)(\\||$)"),a=(i.match(o)||[])[3];if(void 0===n)n=a;else if(void 0!==a||null===n){var s=Q;null!==n&&(s="$1$2"+n+"$4"),G(t,i.replace(o,s)||null,r)}else G(t,(i?i+"|":"")+e+"="+n,r);return n},tt=function(t,e){return e=k({domain:".mail.ru",expires:365,path:"/",secure:!1,encode:!1},e),{value:function(n){return Z(t,n,void 0,e)},add:function(n,r){if(void 0===r)throw new Error("cookie: value is required!");return Z(t,n,r,e)},remove:function(n){return Z(t,n,null,e)},test:function(){return function(t){try{var e;return document.cookie=t+"=1",e=-1!==document.cookie.indexOf(t+"="),document.cookie=t+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(t){return!1}}(t)}}},et=tt("s"),nt=Object.freeze({__proto__:null,cookie:tt,sCookie:et}),rt=function(){return 0|performance.now()},it={url:"//splash.radar.imgsmail.ru/update",project:"",name:"",email:"",vid:"",testId:""},ot={},at=function(t,e,n){var r=it.url+"?p="+t+"&t="+e+(n?"&email="+n:""),i=[],o={},a=0,s="",u=function(n,i){var o,a=[];a.push({name:"v",value:i||1}),n.length&&a.push({name:"i",value:n.map((function(t){return t.name+":"+t.value})).join(",")}),s&&(a.push({name:"rlog",value:t+"_"+e}),a.push({name:"rlog_message",value:s})),it.vid&&a.push({name:"vid",value:it.vid}),it.testId&&a.push({name:"test_id",value:it.testId}),document.referrer&&a.push({name:"r",value:encodeURIComponent(document.referrer)}),o=q(r,a,1),(new Image).src=o},c={add:function(t,e){return void 0===t||(isNaN(e)&&(e="1"),i.push({name:t,value:e}),i.length>=300&&c.commit()),c},time:function(t){return o[t]=rt(),c},timeEnd:function(t){if(o[t]){var e=rt()-o[t];a+=e,this.add(t,e),o[t]=null}return c},log:function(t){return s=t,c},commit:function(t){u(i,void 0===t?a:t),i=[],o={},a=0,s=""}};return c},st=function(t,e,n){if(t=t||it.name,ot[t])return ot[t];e=e||it.project,n=n||it.email;var r=at(e,t,n);return ot[t]={send:function(r,i){at(e,t,n).add(r,i).commit()},log:function(r){at(e,t,n).log(r).commit()},group:function(){return r},destroy:function(){ot[t]=null}}};st.setDefaults=function(t){Object.keys(it).forEach((function(e){return t[e]&&(it[e]=t[e])}))};var ut=function(){this.url="//fmdata.imgsmail.ru/",this.requestPixels={click:"pxt",show:"showpxt"},this.defaultsParams={}};ut.getInstance=function(){return this.instance||(this.instance=new this),this.instance},ut.click=function(t,e){void 0===e&&(e={}),this.getInstance().send("click",t,e)},ut.show=function(t,e){void 0===e&&(e={}),this.getInstance().send("show",t,e)},ut.setDefaults=function(t){void 0===t&&(t={}),this.getInstance().updateDefaults(t)},ut.disable=function(){this.getInstance().setDisabled()},ut.enable=function(){this.getInstance().setDisabled(!1)},ut.prototype.updateDefaults=function(t){void 0===t&&(t={}),k(this.defaultsParams,t)},ut.prototype.sendToServer=function(t){this.disabled||((new Image).src=t)},ut.prototype.parseParams=function(t){var e=[];return void 0!==t&&(e=P(t)).forEach((function(t){"function"==typeof t.value&&(t.value=t.value())})),e},ut.prototype.send=function(t,e,n){void 0===n&&(n={});var r=""+this.url+this.requestPixels[t];(n=k({},this.defaultsParams,n)).pxn=e;var i=q(r,this.parseParams(n),0);this.sendToServer(i)},ut.prototype.setDisabled=function(t){this.disabled=!0};var ct,lt=["i","b","span","div"],dt=function(t,e){try{var n=window.localStorage,r="inlineHub."+t;if(!e)return JSON.parse(n.getItem(r));n.setItem(r,JSON.stringify(e))}catch(t){st("inlinehub_store").log(t)}},ft=function(t){return dt(t)},ht=function(t,e,n){dt(t,{checksum:e,source:n.toString()}),ct||(ct=setTimeout((function(){ct=null;try{for(var t=new Date,e=window.localStorage,n=[],r=e.length;r--;){var i=e.key(r);if(0===i.indexOf("inlineHub.")){var o=ft(i.substr("inlineHub.".length));o&&n.push(o.checksum)}}t.setFullYear(t.getFullYear()+1),document.cookie="inlineHub="+n.join(",")+"; path=/; expires="+t.toUTCString()}catch(t){st("inlinehub_updatecookie").log(t)}}),0))},pt=function(t,e){var n=ft(t);if(n&&function(t){function e(t,e){return t<<e|t>>>32-e}function n(t,e){var n,r,i,o,a;return i=2147483648&t,o=2147483648&e,a=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(r=1073741824&e)?2147483648^a^i^o:n|r?1073741824&a?3221225472^a^i^o:1073741824^a^i^o:a^i^o}function r(t,r,i,o,a,s,u){return t=n(t,n(n(function(t,e,n){return t&e|~t&n}(r,i,o),a),u)),n(e(t,s),r)}function i(t,r,i,o,a,s,u){return t=n(t,n(n(function(t,e,n){return t&n|e&~n}(r,i,o),a),u)),n(e(t,s),r)}function o(t,r,i,o,a,s,u){return t=n(t,n(n(function(t,e,n){return t^e^n}(r,i,o),a),u)),n(e(t,s),r)}function a(t,r,i,o,a,s,u){return t=n(t,n(n(function(t,e,n){return e^(t|~n)}(r,i,o),a),u)),n(e(t,s),r)}function s(t){var e,n="",r="";for(e=0;e<=3;e++)n+=(r="0"+(t>>>8*e&255).toString(16)).substr(r.length-2,2);return n}var u,c,l,d,f,h,p,m,v,g=Array();for(g=function(t){for(var e,n=t.length,r=n+8,i=16*((r-r%64)/64+1),o=Array(i-1),a=0,s=0;s<n;)a=s%4*8,o[e=(s-s%4)/4]=o[e]|t.charCodeAt(s)<<a,s++;return a=s%4*8,o[e=(s-s%4)/4]=o[e]|128<<a,o[i-2]=n<<3,o[i-1]=n>>>29,o}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}(t)),h=1732584193,p=4023233417,m=2562383102,v=271733878,u=0;u<g.length;u+=16)c=h,l=p,d=m,f=v,h=r(h,p,m,v,g[u+0],7,3614090360),v=r(v,h,p,m,g[u+1],12,3905402710),m=r(m,v,h,p,g[u+2],17,606105819),p=r(p,m,v,h,g[u+3],22,3250441966),h=r(h,p,m,v,g[u+4],7,4118548399),v=r(v,h,p,m,g[u+5],12,1200080426),m=r(m,v,h,p,g[u+6],17,2821735955),p=r(p,m,v,h,g[u+7],22,4249261313),h=r(h,p,m,v,g[u+8],7,1770035416),v=r(v,h,p,m,g[u+9],12,2336552879),m=r(m,v,h,p,g[u+10],17,4294925233),p=r(p,m,v,h,g[u+11],22,2304563134),h=r(h,p,m,v,g[u+12],7,1804603682),v=r(v,h,p,m,g[u+13],12,4254626195),m=r(m,v,h,p,g[u+14],17,2792965006),h=i(h,p=r(p,m,v,h,g[u+15],22,1236535329),m,v,g[u+1],5,4129170786),v=i(v,h,p,m,g[u+6],9,3225465664),m=i(m,v,h,p,g[u+11],14,643717713),p=i(p,m,v,h,g[u+0],20,3921069994),h=i(h,p,m,v,g[u+5],5,3593408605),v=i(v,h,p,m,g[u+10],9,38016083),m=i(m,v,h,p,g[u+15],14,3634488961),p=i(p,m,v,h,g[u+4],20,3889429448),h=i(h,p,m,v,g[u+9],5,568446438),v=i(v,h,p,m,g[u+14],9,3275163606),m=i(m,v,h,p,g[u+3],14,4107603335),p=i(p,m,v,h,g[u+8],20,1163531501),h=i(h,p,m,v,g[u+13],5,2850285829),v=i(v,h,p,m,g[u+2],9,4243563512),m=i(m,v,h,p,g[u+7],14,1735328473),h=o(h,p=i(p,m,v,h,g[u+12],20,2368359562),m,v,g[u+5],4,4294588738),v=o(v,h,p,m,g[u+8],11,2272392833),m=o(m,v,h,p,g[u+11],16,1839030562),p=o(p,m,v,h,g[u+14],23,4259657740),h=o(h,p,m,v,g[u+1],4,2763975236),v=o(v,h,p,m,g[u+4],11,1272893353),m=o(m,v,h,p,g[u+7],16,4139469664),p=o(p,m,v,h,g[u+10],23,3200236656),h=o(h,p,m,v,g[u+13],4,681279174),v=o(v,h,p,m,g[u+0],11,3936430074),m=o(m,v,h,p,g[u+3],16,3572445317),p=o(p,m,v,h,g[u+6],23,76029189),h=o(h,p,m,v,g[u+9],4,3654602809),v=o(v,h,p,m,g[u+12],11,3873151461),m=o(m,v,h,p,g[u+15],16,530742520),h=a(h,p=o(p,m,v,h,g[u+2],23,3299628645),m,v,g[u+0],6,4096336452),v=a(v,h,p,m,g[u+7],10,1126891415),m=a(m,v,h,p,g[u+14],15,2878612391),p=a(p,m,v,h,g[u+5],21,4237533241),h=a(h,p,m,v,g[u+12],6,1700485571),v=a(v,h,p,m,g[u+3],10,2399980690),m=a(m,v,h,p,g[u+10],15,4293915773),p=a(p,m,v,h,g[u+1],21,2240044497),h=a(h,p,m,v,g[u+8],6,1873313359),v=a(v,h,p,m,g[u+15],10,4264355552),m=a(m,v,h,p,g[u+6],15,2734768916),p=a(p,m,v,h,g[u+13],21,1309151649),h=a(h,p,m,v,g[u+4],6,4149444226),v=a(v,h,p,m,g[u+11],10,3174756917),m=a(m,v,h,p,g[u+2],15,718787259),p=a(p,m,v,h,g[u+9],21,3951481745),h=n(h,c),p=n(p,l),m=n(m,d),v=n(v,f);return(s(h)+s(p)+s(m)+s(v)).toLowerCase()}(n.source)===e)return function(t,e){try{return new Function("\n\t\t\treturn "+t+"\n\t\t\t//# sourceURL=blocks/"+e+".js\n\t\t")()}catch(t){console.error("Error in block: "+e),console.log(t),st("block_error").send(e)}}(n.source,t)},mt={},vt=function(t,e,n,r){void 0===r&&(r=!1);var i=document.createElement("script");n&&(mt[e]=n),i.id=e,i.src=function(t,e){return STATIC_PATH+"/f/"+t+"/"+e+".js"}(t,e),r?document.write(i.outerHTML):document.getElementsByTagName("head")[0].appendChild(i)},gt=Object.freeze({__proto__:null,insertBlock:function(t,e,n){var r=pt(t,e);r?r(n):vt(t,e,n)},inlineHub:function(t,e,n){var r=!0;if(n||(n=pt(t,e),r=!1),n){var i,o=document.getElementById(e);if(mt[e])i=mt[e],delete mt[e];else{var a=o&&o.parentNode;i=document.createElement(lt[Math.floor(Math.random()*lt.length)]),a.insertBefore(i,o)}return n(i),r&&ht(t,e,n),o&&o.parentNode&&o.parentNode.removeChild(o),!0}return vt(t,e,null,!0),!1}}),_t=0,yt=function(){try{if(XMLHttpRequest&&"withCredentials"in new XMLHttpRequest)return!0}catch(t){}return!1}();var wt={util:M,url:D,dom:Y,cookie:nt,radar:st,StatGo:ut,inlineHub:gt,transport:function(t,e){var n,r,i,o=(e=e||{}).callback||"callback",a=e.method||"get",s=!!e.json,u=e.requestSource,c=!!e.crossOrigin,l=c&&!yt?"JSONP":e.type||"XHR",d=!1,f=function(t,n,r){return t=q(t,n,r),e.decorator?e.decorator(t):t},h=function(){d=!1,"XHR"===l&&r?(r.abort(),r=null):i&&window[i]&&window[i]({status:"cancel"})},p=function(e,i){var o=new XMLHttpRequest;d=!0,clearTimeout(n),e.timeout&&(n=setTimeout((function(){d&&(clearTimeout(n),h(),i({status:"error",errorType:"timeout"}))}),e.timeout)),o.onreadystatechange=function(){var e;d&&(4===o.readyState&&(clearTimeout(n),d=!1,e=200===o.status?function(e){if(s){var n=T(o.responseText,"transport "+t);n.error?e={status:"error",errorType:"parseError"}:(e=n.data).error&&!e.errorType&&(e.errorType="serverError")}else e=o.responseText;return e}(e):o.status?{status:"error",errorType:"netError"}:{status:"error"},u&&(e.requestSource=u),i(e)))};var l,p="get"===a,m=p?f(t,e.params,0):f(t,void 0,2),v={};for(var g in e.dataType&&"JSON"===e.dataType?l=JSON.stringify(e.params):p?l=null:(l=H(e.params,0),v["Content-type"]="application/x-www-form-urlencoded"),o.open(a,m,!0),c&&(o.withCredentials=!0),v){var _=v[g];_&&o.setRequestHeader(g,_)}o.send(l),r=o},m=function(e,n){var r,a=i="__callbackJSONP_"+_t++,s={name:o,value:a},c=U("script"),l=e.timeout,h=function(t,e,n){if(t)return setTimeout((function(){if(W(t),n)return n()}),e||1e3)},p=function(){var t=e.params.indexOf(s);e.params.splice(t,1),B.appendChild(c),c.onload=function(){h(c)},r=h(c,l||6e4,(function(){window[i]({status:"error",errorType:"timeout"})}))};e.params.push(s);var m=f(t,e.params,0);window[a]=function(t){d&&(clearTimeout(r),window[a]=g,i=null,d=!1,u&&(t.requestSource=u),t.error&&!t.errorType&&(t.errorType="serverError"),"cancel"!==t.status&&n(t))},c.defer="defer",c.async="async",c.type="text/javascript",c.src=m,"opera"in window&&"complete"!==document.readyState?window.addEventListener("DOMContentLoaded",(function(){d=!0,p()}),!1):(d=!0,p())};return{fetch:function(t){return new Promise((function(e,n){var r="XHR"===l?p:m,i=t||{},o=i.params||[];"get"===a&&o&&!Array.isArray(o)&&(o=P(o)),i.params=o,h(),r(i,e,n)}))},cancel:h}},Emitter:d},bt=wt.util,xt=wt.dom,Ct={template:function(t){return(mr.tpl[t.template]||mr.tpl["news-item"])(t)}},St=function(t,e){this._options=bt.extend({},Ct,e),this.setData(t),this._el=void 0,this._clientRect=null};St.factory=function(t,e){var n=St.getUid(t),r=St.itemsMap[n];return r?r.setData(t):r=St.itemsMap[n]=new this(t,e),r},St.prototype.setData=function(t){this._data=t||{},this._data.mods||(this._data.mods=new Set),this._lastRenderHash=void 0},St.prototype.getElement=function(t,e){void 0===e&&(e=!1);var n=this._data,r=this._options.mods,i=!this._el||e;"function"==typeof r?n.mods=r(this,t):bt.isArray(r)&&r.forEach((function(t){n.mods.add(add)}));var o=[];n.mods.forEach((function(t){o.push(t)}));var a=o.sort().join("|");return a!==this._lastRenderHash&&(this._lastRenderHash=a,i=!0),i&&(this._el&&this.constructor.elItemMap.delete(this._el),this._el=this._render(t),this.constructor.elItemMap.set(this._el,this),this._clientRect=null),this._el},St.prototype.getHeight=function(){return this.getElementBoundBox().height},St.prototype.getCountableBoundBox=function(){return this.getElementBoundBox()},St.prototype.getElementBoundBox=function(t){return this._clientRect=this._el.getBoundingClientRect(),this._clientRect},St.prototype.getData=function(){return this._data},St.getItemByElement=function(t){return this.elItemMap.get(t)},St.getUid=function(t){return(t.template||"news")+":"+t.id},St.prototype._render=function(){return xt.createElement(this._options.template(this))},St.elItemMap=new WeakMap,St.itemsMap={};var Et=wt.util,It=wt.dom,Ot=Et.throttle,kt=Et.isArray,Nt={template:void 0,hostElement:void 0,tabs:{},defaultTab:"",counters:{scroll:{},scrollRetarget:{}},counterFn:!1,scrollContainer:void 0},Tt=function(t){function e(e){t.call(this),this._options=Et.extend({},Nt,e),this._windowHeight=void 0,this._itemsOnPage=void 0,this._tab=void 0,this._tabCounters={},this._initialData={},this._actualData={},this._lazyScrollHandler=Ot(this._onScroll.bind(this),300),this._lazyResizeHandler=Ot(this._onResize.bind(this),300),this._lastState=void 0,this._sources={},this._itemFactories={},this._features=[],this._scrollOffsets={},this._ignoreNextScroll=!1,this._onItemClickEvt=this._onItemClickEvt.bind(this),this._mediaOrder=void 0,this._blockOffset=0,this._itemsOffsets=[],this._currentScrollCounter=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t,e){var n=e.state;!n.isInitial()&&this.el||(this._prepareElement(),Et.merge(this._initialData,this._mergeSources(t))),this._lastState&&n.isEqual(this._lastState)||(this._getItemHeight(!0),this._lastState=n),this._isRenderNeeded()&&this.tabSet(mr.tab()||this._options.defaultTab,!0)},e.prototype.tabSet=function(t,e){var n=this;void 0===e&&(e=!1),(e||this._tab!==t)&&(this._tab&&this.emit("tabLeave",this._tab),this._tab=t,this._tabCounters[t]||(this._tabCounters[t]=[]),this.emit("tabSet",t),this.fetchData(!0).then((function(t){t=t||[],n._showItems(t,!0),n._getFeedRemainHeight()&&n._onScroll(),n._options.saveScroll&&n._restoreScroll()})))},e.prototype.tabLeave=function(t){this._options.saveScroll&&this._saveScroll()},e.prototype.fetchData=function(t){void 0===t&&(t=!1);var e,n=this._tab,r=this._initialData[n],i=this._actualData[n];if(this._loadingState())return window.Promise.resolve([]);if(this._loadingState(!0),r)if(t){var o=this._getPageItemsCount();i&&i._itemsOnPage!==o&&(r.unshift.apply(r,i),i=this._actualData[n]=void 0),i||((i=this._actualData[n]=r.splice(0,o))._itemsOnPage=o),(e=i).forceReset=!0}else r.length&&(e=r.splice(0,this._getPageItemsCount()),i||(i=this._actualData[n]=[]),i.push.apply(i,e));else;return e||(e=[]),e.isLast=r&&!r.length,this._loadingState(!1),Promise.resolve(e)},e.prototype.registerSource=function(t,e){this._sources[t]=e,e.setFeed(this)},e.prototype.addItemClass=function(t,e){var n=function(n){return t.factory(n,e)};n.class=t,n.options=e,this._itemClassName=t.name,this._itemFactories[t.name]=n},e.prototype.setFeatures=function(t){var e=this;this._features=(t||[]).filter((function(t){return t})).reduce((function(t,n){var r=n.project,i=n.items;return t[r]=i.map((function(t){var n=t.id,i=t.nid,o=t.title,a=t.url;return!e.existInOtherNews(a)&&Et.merge({id:r+":"+n,project:r,counterId:"n"+i,alt:o||"",template:"hero"},t)})),t}),{})},e.prototype.setWidgets=function(t){this._widgets=Et.cloneObject(t)||{}},e.prototype._showItems=function(e,n){var r=this,i=document.createDocumentFragment(),o=this.el.children.length+1;n&&(It.removeElementChilds(this.el),o=1,this._itemsNew=[]),(e||[]).forEach((function(e,n){var a=o+n,s=r._itemFactories[r._itemClassName];if(s){var u=s(e),c=u.getElement(a);c.addEventListener("mousedown",r._onItemClickEvt),i.appendChild(c),e.template&&t.waitFor(e.template).then((function(t){t.setElement?t.setElement(c):t.element=t.el=c,mr.update(e.template,e)})),r._itemsNew.push(u)}})),this.el.appendChild(i),e&&!e.isLast||this._createMoreLink(),setTimeout((function(){return r._checkVisibleItems()}),100),this._collectItemsShift(6)},e.prototype._isUniqueCounter=function(t){var e=this._tabCounters[this._tab];return-1===e.indexOf(t)&&!!e.push(t)},e.prototype._onItemClick=function(t){},e.prototype._onItemClickEvt=function(t){var e=t.currentTarget,n=St.getItemByElement(e),r=!1;if(n){var i=this._sources[n.getData()._sourceId];n.onClick&&(r=!1===n.onClick(t)||t.defaultPrevented),!r&&i&&i.onItemClick&&(r=!1===i.onItemClick(n,t)||t.defaultPrevented),r||(r=!1===this._onItemClick(n,t)||t.defaultPrevented)}return n?!r:void 0},e.prototype._isRenderNeeded=function(){var t=!1;return this._lastState.isInitial()&&(t=!0),t},e.prototype._getItemElement=function(t){if(!t)return"";var e=mr.tpl[t.template]||mr.tpl["news-item"];return It.createElement(e(t))},e.prototype._prepareElement=function(){(this._options.scrollContainer||window).addEventListener("scroll",this._lazyScrollHandler),window.addEventListener("resize",this._lazyResizeHandler),this.el=It.replaceWithHtml(this._options.hostElement,'<div class="'+this._options.baseClassName+'"></div>')},e.prototype._getWindowHeight=function(){return this._windowHeight||(this._windowHeight=document.documentElement.clientHeight),this._windowHeight},e.prototype._getItemHeight=function(t){return 100},e.prototype._getPageItemsCount=function(){var t=this._getWindowHeight()-this.el.getBoundingClientRect().top;return this._itemsOnPage=Math.ceil(t/this._getItemHeight())+4,this._itemsOnPage},e.prototype._checkVisibleItems=function(){for(var t=this,e=this._itemsNew.length,n=this._getContainerBox().bottom,r=0,i=0;i<e;i++){var o=this._itemsNew[i].getCountableBoundBox();if(o.top&&o.top<=n&&o.bottom<=n&&r++,o.bottom>n)break}for(var a=this._itemsNew.splice(0,r),s=[],u=[],c={},l=a.length;l--;){var d=a[l],f=d.getData();!f._sourceId||f._isWidget||f._isFeature||(c[f._sourceId]||(c[f._sourceId]=[])).push(d),f.nid&&this._isUniqueCounter("nid"+f.nid)&&s.push(f.nid),f.isProjectMedia&&f.bid&&this._isUniqueCounter("bid"+f.bid)&&u.push(f.bid)}Object.keys(c).forEach((function(e){t._sources[e]&&t._sources[e].onItemsShow(c[e])})),s.length&&mr.counter.links(s),u.length&&mr.counter.bulk("imp",u)},e.prototype._onScroll=function(){var t=this;this._ignoreNextScroll?this._ignoreNextScroll=!1:(this._getFeedRemainHeight()<4*this._getItemHeight()&&this.fetchData(!1).then((function(e){return t._showItems(e,!1)})),this._tab===this._options.defaultTab&&this._isReadyToGetOffset&&(this._processScrollCounter(),this._checkVisibleItems()))},e.prototype._getContainerBox=function(){var t=this._options.scrollContainer;return t?t.getBoundingClientRect():{top:0,bottom:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},e.prototype._getFeedRemainHeight=function(){var t=this._getContainerBox().bottom;return this.el.getBoundingClientRect().bottom-t},e.prototype._createMoreLink=function(t){void 0===t&&(t=null),t=t||this._tab},e.prototype._getScroll=function(){return this._options.scrollContainer?this._options.scrollContainer.scrollTop:It.scroll("top")},e.prototype._saveScroll=function(t){void 0===t&&(t=null);this._options.scrollContainer;this._scrollOffsets[t||this._tab]=this._getScroll()},e.prototype._restoreScroll=function(t){void 0===t&&(t=null);var e=this._options.scrollContainer,n=this._getScroll(),r=this._scrollOffsets[t||this._tab]||0;n!==r&&(this._ignoreNextScroll=!0,e?e.scrollTop=r:It.scroll("top",r))},e.prototype._onResize=function(){this._windowHeight=null,this._onScroll()},e.prototype._loadingState=function(t){var e=this;return void 0!==t&&(t?this._isLoading=new window.Promise((function(t){e._loadingResolve=t})):(this._isLoading=!1,this._loadingResolve&&(this._loadingResolve(),this._loadingResolve=void 0))),this._isLoading},e.prototype._mergeSources=function(t){var e=this,n=this._createEmptyFeed();return t=t.reduce((function(t,e){return t[e.source]=e.data,t}),{}),Object.keys(this._sources).forEach((function(r){var i=e._sources[r],o=t[r]?i.process(t[r]):{};Object.keys(o).forEach((function(t){var e=o[t];e.length&&(e.forEach((function(t){return t._sourceId=r})),n[t]=e)}))})),n},e.prototype._createEmptyFeed=function(){return Object.keys(this._options.tabs).reduce((function(t,e){return t[e]=[],t}),{})},e.prototype.existInOtherNews=function(t){for(var e in this._features)if({}.hasOwnProperty.call(this._features,e))for(var n=this._features[e],r=n.length;r--;){var i=n[r];if(i&&(i.url.indexOf(t)>-1||t.indexOf(i.url)>-1))return!0}},e.prototype._injectIncut=function(t,e){var n,r,i=!this._incutOrder;if(!i&&this._incutOrder.length||(this._incutOrder=[].concat(this._options.incutOrder||[])),this._featureOrder&&this._featureOrder.length||(this._featureOrder=[].concat(this._options.featureOrder||[])),this._widgetOrder||(this._widgetOrder=[].concat(this._options.widgetOrder||[])),"stub"!==this._incutOrder.shift()&&(this._isLastWidget||(this._isLastWidget=n=this._injectWidget(t,this._widgetOrder.shift(),e)),!n&&t.length&&!i)){for(var o=0,a=void 0;!r&&(a=this._featureOrder.shift())&&o<this._featureOrder.length;o++)r=this._injectFeature(t,a,e);this._isLastWidget=!r}return!(!n&&!r)},e.prototype._injectWidget=function(t,e,n){var r="widget/"+e,i=this._widgets&&this._widgets[e],o=!1;if(t=t||[],i){if(kt(i.mods)){var a=new Set;i.mods.forEach((function(t){a.add(t)})),i.mods=a}mr.tpl[r]&&(i.template=r),i._isWidget=!0,void 0===n?t.push(i):t.splice(n,0,i),delete this._widgets[e],o=!0}return o},e.prototype._injectFeature=function(t,e,n){for(var r=!1,i=this._features[e]&&this._features[e].length||0,o=0;o<i;o++){var a=this._features[e][o];if(a&&!a._injected){a=Et.extend(a,{label:this._options.tabs[a.project],_isFeature:!0}),void 0===n?t.push(a):t.splice(n,0,a),a._injected=r=!0;break}}return r},e.prototype._collectItemsShift=function(){var t=this;this._itemsOffsets=Et.toArray(this.el.children).reduce((function(e,n,r){return t._options.counters.scroll&&t._options.counters.scroll[r+1]&&(e[r+1]=n.offsetTop),e}),{})},e.prototype._processScrollCounter=function(){var t=this,e=this.el.getBoundingClientRect().top,n=this._getWindowHeight();Object.keys(this._itemsOffsets).some((function(r,i){var o=t._itemsOffsets[r];if(i>=t._currentScrollCounter&&n>=e+o){var a=t._options.counters.scroll[r],s=t._options.counters.scrollRetarget[a];return a&&t._counter("d"+a),s&&t._counter(s,"retarget"),t._currentScrollCounter++}return!1}))},e.prototype._counter=function(t,e){var n=this._options.counterFn;if(n&&"function"==typeof n)return n(t,e)},e}(m),jt=wt.util,Rt={mainFeed:!0,filter:function(t){return t}},Pt=function(t){this._options=jt.extend({},Rt,t),this._tabCounters={}};Pt.prototype.setFeed=function(t){var e=this;this.feed=t,t.on("tabSet",(function(n){var r=e._tabCounters[n];r&&t._counter("d"+r)}))},Pt.prototype.process=function(t){var e=this,n={},r=this.feed._options,i=r.tabs,o=r.defaultTab;return t.forEach((function(t){if(t){var r=t.id,o=t.items,a=t.tab;"kino"===a&&(a="cinema"),a&&a!==e.feed._options.defaultTab&&(e._tabCounters[a]=r);var s=[];o.forEach((function(t){if(e._options.filter(t)){var n,r=t.id,o=(t.url,t.title),u=t.nid,c=t.label,l=t.isProjectMedia,d=c;"news"===d&&(d="main"),d&&!i[d]&&(d="regional"),a||l||(a=d),d&&(n=d+":"+r),c=l?i[d]:null,s.push(jt.merge({id:r,elementId:n,label:c,project:d,counterId:"n"+u,alt:o||"",isProjectMedia:l},t))}})),a&&(n[a]=s)}})),this._options.mainFeed&&(n[o]=this._makeMainFeed(n),n[o]=(n[o]||[]).map((function(t){var e=jt.extend({},t,{counterId:t.counterId+"sz16"});return e=jt.merge({label:i[t.project]},e)}))),n},Pt.prototype.onItemsShow=function(t){},Pt.prototype.onItemClick=function(t){},Pt.prototype._makeMainFeed=function(t){var e=this,n=jt.cloneObject(t)||{},r=this.feed._options,i=r.mediaOrder,o=r.defaultTab,a=[];return i.forEach((function(t){if(t in n){var r=3-/realty|health|deti/.test(t),i=e._getUniqueItems(n[t],r);i.length&&(mr.switches.noDesc&&i.forEach((function(t){return t.desc=null})),e.feed._injectIncut(a),a=a.concat(i))}})),a.length?a:t[o]},Pt.prototype._getUniqueItems=function(t,e){for(var n=this,r=[];t.length&&e;){var i=t.splice(0,e).filter((function(t){return!n.feed.existInOtherNews(t.url)}));r.push.apply(r,i),e-=i.length}return r};var Mt=e.dom.id,At=e.dom.addClass,Lt=e.dom.removeClass,Ht=e.dom.createElement,qt=e.util.merge,Dt=e.util.each,Bt=(e.util.extend,{}),Ft=e.radar("blocks").group();e.keeper.time("unblock");var Ut=function(t,e){t.render(e)},zt=function(t,e){Ut(t,e)};var $t,Wt=function(t,e,n){var r;t instanceof m?(t=(r=t).id,n=e):r=qt(e,{name:t,id:t,render:function(){},get inited(){return this.isInited},setInited:function(){this.isInited=!0}}),Bt[t]=r,Ft.time(t),zt(r,n),m.addInstance(r),Ft.timeEnd(t)},Jt=function(t){return Bt.hasOwnProperty(t)?Bt[t]:null};window.Splash={DOMEvent:{on:function(t,n,r,i){e.dom.isNode(n)&&(t?n.addEventListener(r,i,!1):n.removeEventListener(r,i,!1))}}},Tt.BaseItem=St,Tt.RbSource=Pt;var Xt={add:Wt,get:Jt,update:function(e,n){if(t.blocks&&!Object.entries(t.blocks).some((function(t){var r=t[0],i=t[1];if(r===e)return i&&i.set(n),!0}))){var r=Jt(e);if(!r)return;t.data[e]=n,Ut(r,n)}},iterate:function(t){Dt(Bt,(function(e,n){Jt(n)&&t.call(null,e,n)}))},tab:function(e,n){if(e){var r="set"===e;r?$t=n:n&&m.waitFor("widget/music").then((function(t){return t.onTabLeave()})),m.waitFor("grid").then((function(t){if(r){t.el.classList.add("is-"+n),t.el.classList.add("is-animate-tab"),setTimeout((function(){return t.el.classList.remove("is-animate-tab")}),500)}else n&&t.el.classList.remove("is-"+n)})),m.waitFor("mediaprojects").then((function(t){r?t.tabSet(n):n&&t.tabLeave(n)})),m.waitFor("news").then((function(t){return r&&t.set(n)})),m.waitFor("feed").then((function(t){return r&&t.tabSet(n)}))}return $t||($t=t.data.tabs&&t.data.tabs.autoopen?"regional":"main"),$t},replace:function(e,n){m.waitFor(e).then((function(n){n.destroy&&n.destroy(),n.el=Mt("auth"),t.insertHere({data:t.data.mailbox,instance:tutti.blocks.loggedIn(),name:e,where:n.el,parent:n.el.parentNode})}))},addInlineData:function(e,n){t.data[e]=n},id:Mt,addClass:At,insertHere:function(t){var e=t.data,n=t.instance,r=t.name,i=t.where,o=t.parent,a=["i","b","span","div"],s=document.currentScript;s||(s=Array.from(document.getElementsByTagName("script")).reverse().find((function(t){return!t.async})));var u=i||document.createElement(a[Math.floor(Math.random()*a.length)]);o?o.innerHTML=u:s.parentNode.insertBefore(u,s);window.$$PHEL=u,Wt(r,n,e)},removeClass:Lt,createElement:Ht,Block:m,Feed:Tt},Kt=function(t,e,n){return function(t,e){var r,i,o,a,s;function u(e){if(e)if(t){var o=e.split(":");r=o[0],i=o[1],a=t[r]===i}else a=!!t,r=e.split(":")[0];else a=!!t;return{is:a,to:c,state:n}}function c(t){if(r&&i)o=t;else{var n=t.split(":");r=n[0],o=n[1]}return{is:s=e[r]===o,back:l}}function l(){var t=i;return s||u(r+":"+o).to(t).is}return u.currentState=e,u.prevState=t,u.state=n,u}(t,e)},Vt=function t(e,n){var r=this;void 0===n&&(n=!1),this._isInitial=!!n;var i=t.allStatesMap;this._statesMap={},Object.keys(e).forEach((function(t){var n=e[t];r[t]=n,r._statesMap[t]=(i[t]||{})[n]})),t.history.unshift(this),t.history.length>t.MAX_HISTORY&&(t.history.length=t.MAX_HISTORY)};Vt.prototype.getPrev=function(t){return void 0===t&&(t=0),Vt.history[1+t]},Vt.prototype.isLessThan=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this._compareBy(t,(function(t,e){return t<=e}))},Vt.prototype.isMoreThan=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this._compareBy(t,(function(t,e){return t>=e}))},Vt.prototype.isBetween=function(t,e){},Vt.prototype.isEqual=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this._compareBy(t,(function(t,e){return t===e}))},Vt.prototype.isInitial=function(){return this._isInitial},Vt.prototype._compareBy=function(t,e){var n=this;return t=Vt.splitQuery(t),Object.keys(t).every((function(r){return Object.keys(t[r]).every((function(i){var o=n._statesMap[r],a=t[r][i];return(void 0!==a||void 0!==o)&&e(a,o)}))}))},Vt.current=function(){return Vt.history[0]},Vt.splitQuery=function(t){var e={},n=function(t,n){e[t]||(e[t]={}),e[t][n]=(Vt.allStatesMap[t]||{})[n]};return[].concat(t).forEach((function(t){t instanceof Vt?Object.keys(Vt.allStatesMap).forEach((function(e){n(e,t[e])})):n.apply(void 0,(t||"").split(":"))})),e},Vt.registerStates=function(t){Vt.allStates=t,Object.keys(t).forEach((function(e){Vt.allStatesMap[e]={},Object.keys(t[e]).forEach((function(t,n){Vt.allStatesMap[e][t]=n}))}))},Vt.MAX_HISTORY=10,Vt.allStates={},Vt.allStatesMap={},Vt.history=[];var Yt,Gt,Qt=n.util,Zt=(Qt.each,Qt.extend),te=Qt.contains,ee={},ne=[],re=[],ie={},oe=function(t,e,n){ee[t]=e,Gt=Yt,Yt=new Vt(ee,n)},ae=function(){ne=[],re=[],Object.entries(ie).forEach((function(t){var e=t[0];(t[1].mq.matches?ne:re).push(e)}))},se=function(t){var e=t.el||t.element;e&&t.queryClassNames&&t.queryClassNames.length&&[ne,re].forEach((function(n,r){n=ue(n,t.queryClassNames),(n=ce(n,t.name)).forEach((function(t){e.classList[r?"remove":"add"](t)}))}))},ue=function(t,e){return t.filter((function(t){return te(e,t)}))},ce=function(t,e){return t.map((function(t){var n=t.split(":");return e+"_"+n[0]+"-"+n[1]}))},le=function(t,e){t.render(e,Kt(void 0,ee,Yt)),t.inited||t.setInited()},de=function(t,e){le(t,e),se(t)},fe=n.util,he=fe.toArray,pe=fe.each,me=fe.extend,ve=n.url.makeUrl,ge=/^(?:cl([bn])|([adgin]))(\d+)(?:sz(\d+))?/,_e=t._.EXPERIMENTID||null,ye=t._.SITEZONE||null,we="//rs.mail.ru/",be=function(t){return(new Image).src=t},xe=function(t){var e;if(!(e=t.match(ge)))return null;var n="",r=!1;return e[1]?n="s"+e[1]:"n"===e[2]?n="nc":"i"===e[2]?(r=!0,n=e[1]):n=e[2],{type:n,noRandom:r,num:e[3],params:[{name:"sz",value:e[4]?e[4]:ye},{name:"test_id",value:_e}]}};function Ce(){var t={d:"imp",sb:"click"},e={};he(arguments).reverse().forEach((function(t){t&&t.split(",").reverse().forEach((function(t){var n=xe(t.trim());null!==n&&(e[n.type]||(e[n.type]=[]),e[n.type].push(n))}))})),pe(e,(function(e,n){1===e.length?Se(e[0]):e.length>1&&t[n]&&Ee(t[n],e.map((function(t){return t.num})))}))}var Se=function(t){if(null!==t){var e=[we,t.type,t.num,".gif"].join("");be(ve(e,t.params,1<<Number(t.noRandom)<<2))}},Ee=function(t,e,n){t&&e&&e.length&&be(ve("//rs.mail.ru/bulkstat/",[{name:"type",value:t},{name:"banner_ids",value:e.map(encodeURIComponent).join(",")},{name:"test_id",value:n||_e}],5))};me(Ce,{bulk:Ee,links:function(t){t&&t.length&&be(ve("//rs.mail.ru/ns.gif",[{name:"n",value:t.map(encodeURIComponent).join(",")}],1))}});var Ie,Oe=r((function(t,e){t.exports=function(){var t=/^([a-z][a-z0-9]*)/g,e=/^\.([A-z0-9\-\_]+)/g,n=/^#([A-z0-9\-\_]+)/g,r=/^@([A-z0-9\-\_]+)="([^"]+)"/g,i=/^\*(\d+)/g,o=new RegExp('"',"g"),a=/\s+/,s=/-(\w)/g;function u(t){for(var e,n=[],r=[];e=t.pop();){var i=document.createElement(e.tag||"div");for(var o in e.attrs||(e.attrs={}),e.id&&(e.attrs.id=e.id),e.classes&&(e.attrs.class=e.classes.join(" ")),e.attrs)e.attrs.hasOwnProperty(o)&&"length"!==o&&i.setAttribute(o,e.attrs[o]);for(var a=0,s=r;a<s.length;a++){var u=s[a];i.appendChild(u)}for(r.length=0,n.push(i),r.push(i),o=1;o<e.multi;o++){var c=i.cloneNode(!0);n.push(c),r.push(c)}}return{baits:n,nodes:r}}function c(t){return t.replace(s,(function(t,e){return e.toUpperCase()}))}function l(t){return null===t.offsetParent}function d(t,e){var n=e.available,r=e.styles;if(n){for(var i=0,o=r;i<o.length;i++){var a=o[i],s=a.field,u=a.value;t.style[s]=u}var l=window.getComputedStyle(t);return r.some((function(t){for(var e=t.field,n=t.value,r=0,i=function(t){return[t,c(t)]}(e);r<i.length;r++){var o=i[r];if(o in l)return l[o]!==n&&"auto"!==l[o]}}))}return!1}return function(){function s(t){this.config=t,this.container=null,this.styles=null,this.rules=null,this.baits=[]}return s.prototype.check=function(){try{this.config;var s=this.baits,c=this.rules,f=this.styles,h=this.container;if(s.length)return s.some((function(t){return l(t)||d(t,f)}));var p=this.config,m=p.baits,v=p.css;if(!m||!v)throw new Error("Empty config object. { baits: [...], css: [...] } is required.");c=this.rules=m.map((function(s){var u=s.split(a),c=(s.match(o)||[]).length;if(c>0&&c%2==0)for(var l=null,d=0;d<u.length;d++)if(null===l){var f=(u[d].match(o)||[]).length;f&&f%2&&(l=d)}else u[l]+=" "+u[d],-1!==u[d].indexOf('"')&&(l=null),u[d]=void 0;return u.filter((function(t){return t})).map((function(o){var a,s={id:null,tag:null,classes:null,attrs:null,multi:1};do{t.lastIndex=0,e.lastIndex=0,n.lastIndex=0,r.lastIndex=0,i.lastIndex=0,(a=t.exec(o))?(o=o.substr(t.lastIndex),s.tag=a[1]):(a=e.exec(o))?(o=o.substr(e.lastIndex),s.classes=s.classes||[],s.classes.push(a[1])):(a=n.exec(o))?(o=o.substr(n.lastIndex),s.id=a[1]):(a=r.exec(o))?(o=o.substr(r.lastIndex),s.attrs=s.attrs||{},s.attrs[a[1]]=a[2]):(a=i.exec(o))&&(o=o.substr(i.lastIndex),s.multi=parseInt(a[1],10))}while(a&&o.length);if(o.length)throw new Error('Unparsed template: "'+o+'"');return s}))})),f=this.styles=function(t){return{available:"function"==typeof window.getComputedStyle,styles:t.map((function(t){var e=t.split(/\s*:\s*/);return{field:e[0],value:e[1]}}))}}(v),(h=this.container=document.createElement("div")).style.position="absolute",h.style.visibility="hidden",h.style.top="-10000px",h.style.left="-10000px",document.body.appendChild(h);for(var g=0,_=c;g<_.length;g++){var y=u(_[g]);if(y.baits.length){for(var w=0,b=y.nodes;w<b.length;w++){var x=b[w];h.appendChild(x)}if(y.baits.some((function(t){return s.push(t),l(t)||d(t,f)})))return!0}}}catch(t){console.error(t)}return!1},s.prototype.destroy=function(){var t=this.baits,e=this.container;e&&(document.body.removeChild(e),this.container=null),t.length=0,this.rules=this.styles=null},s.version="2.0.3",s}()}()})),ke=!1;try{ke="http://example.com/"===new URL("http://example.com/").href}catch(t){}function Ne(t,e){return Math.random()*(e-t+1)+t|0}var Te=function(t){return Array.prototype.slice.call(t)},je={random:Ne,calcString:function(t,e){if(t=parseInt(t,10),function(){if(void 0===Ie)try{if("function"==typeof window.getComputedStyle){var t=document.createElement("div");t.style.height="calc(30px + 30px)",document.getElementsByTagName("body")[0].appendChild(t),Ie="60px"===window.getComputedStyle(t,null).getPropertyValue("height"),t.parentNode.removeChild(t)}}catch(t){Ie=!1}return Ie}()){for(var n=[],r=0,i=0,o=Ne(1,6);i<o;i++)n.push(Ne(-100,100)),r+=n[n.length-1];return r!==t&&n.push(t-r),"calc("+n.map((function(t){return t.toString()+e})).join(" + ")+")"}return t+e},replaceUrl:function(t,e,n){if(ke&&e){var r,i=t.charAt(0),o='"'===i||"'"===i,a=0+o;r=n?t.indexOf((o?i:"")+")"):o?t.indexOf(i,a+1):t.length;var s=t.slice(a,r);try{s=new URL(s,e).href}catch(t){}return t.slice(0,a)+s+t.slice(r)}return t},replaceContent:function(t){var e=t.charAt(0),n='"'===e||"'"===e,r=Number(n),i=n?t.indexOf(e,r):t.indexOf(";",r),o=t.slice(r,i),a="";if(/^\\[a-z0-9]+$/.test(o)||!n)a=o;else for(var s=0;s<o.length;s++){var u=o[s].charCodeAt(0);isNaN(u)||(a+="\\"+u.toString(16))}return t.slice(0,r)+a+t.slice(i)},iterate:function(t,e,n){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&"length"!==r&&e.call(n||this,t[r],r)},extend:function(){var t=Te(arguments),e=t.shift();return t.forEach((function(t){for(var n in t)e[n]=t[n]})),e},merge:function(){var t=Te(arguments),e=t.shift();return t.forEach((function(t){for(var n in t)e[n]||(e[n]=t[n])})),e},toArray:Te};function Re(t){t&&this.__rules.push(t)}function Pe(t,e){this.__style=function(t){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),(t=t||{}).rel="stylesheet",t.type="text/css",t.media=t.media||"screen",je.iterate(t,(function(t,n){t&&e.setAttribute(n,t)})),e}(t),this.__style.__created=!0,this.__rules=[],this.__originalNode=e}function Me(){this.__rules.length&&this.__style.appendChild(document.createTextNode(this.__rules.join("\n")))}Pe.prototype={constructor:Pe,insert:function(){Re.apply(this,arguments)},insertBlock:function(t,e){Re.apply(this,[t+"{"+e+"}"])},setContent:function(t){this.__style.appendChild(document.createTextNode(t))},apply:function(){this.__originalNode&&this.__originalNode.parentNode?(!function(t,e,n){var r=e.getAttribute(t);r&&n.setAttribute(t,r)}("id",this.__originalNode,this.__style),this.__originalNode.parentNode.replaceChild(this.__style,this.__originalNode)):(function(){for(var t=document.styleSheets,e=t.length;e>0;e--){var n=t[e-1];if(n&&n.ownerNode&&n.ownerNode.parentNode)return n.ownerNode.parentNode}}()||document.head).appendChild(this.__style),Me.apply(this)},getSheet:function(){return this.__style.sheet}};var Ae=/content\s*:\s*/;function Le(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}var He=/^(-?\d+)([a-z%]+)$/,qe=/\s(?![*+\-/]|[^()]+\)+|\(+)/;function De(t,e,n,r){for(var i,o="",a=e(t.selectorText),s=0;s<t.style.length;s++){var u="important"===t.style.getPropertyPriority(t.style[s])?" !important":"",c=t.style[s];/background-(repeat|position)-[xy]/.test(c)&&(c=c.replace(/-[xy]$/,""));var l=t.style[c]||t.style[Le(c)];if(void 0!==l&&l.length||(c=c.replace(/-(value|(ltr|rtl)-source)$/g,""),l=t.style[c]||t.style[Le(c)]),void 0===l&&"float"===c&&(l=t.style.cssFloat),void 0!==l&&l.length){if(r.randomize&&r.randomize.length&&r.randomize.indexOf(c)>-1&&a!=t.selectorText){for(var d=l.split(qe),f=d.length,h=[];f--;){var p=He.exec(d[f]);h.unshift(p?je.calcString(p[1],p[2]):d[f])}l=h.join(" ")}o+=c+": "+l+u+"; "}}return-1!==o.indexOf("url(")&&(o=function(t,e){var n=!0;return t.split("url(").map((function(t){return n?(n=!1,t):je.replaceUrl(t,e,!0)})).join("url(")}(o,n)),-1!==o.indexOf("content")&&(i=!0,o=o.split(Ae).map((function(t){return i?(i=!1,t):je.replaceContent(t)})).join("content:")),a+" { "+o+" }"}var Be=function(t,e,n,r,i){i=i||{},je.iterate(function(t){try{return t.cssRules||t.rules}catch(t){return null}}(t),(function(t){switch(t.type){case 1:r(De(t,e,n,i));break;case 4:var o=[];je.iterate(t.cssRules||t.rules,(function(t){o.push(De(t,e,n,i))})),r("@media "+t.media.mediaText+" { "+o.join(" ")+" }");break;default:r(t.cssText)}}))},Fe=new Function,Ue=function(t,e){var n=t,r="GET",i=null,o=!1,a=!1,s=function(){var t={readyState:4,status:-1};t.open=t.send=Fe;try{t=new window.XMLHttpRequest}catch(e){try{t=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}}return t}(),u=null,c=new Date,l={error:u,xhr:s};"object"==typeof t&&(n=t.url,r=t.method||r,i=t.body||i,o=t.sync||o,a=t.credentials||a),s.url=n;var d=function(){(u||4===s.readyState)&&(d=Fe,l.error=u,s.duration=new Date-c,s.onerror=s.onreadystatechange=null,"function"==typeof e&&e(u,s))};try{s.onreadystatechange=d,s.onerror=function(t){u=t,d()},s.open(r,n,!o),s.withCredentials=a,s.send(i)}catch(t){u=t,d()}return l},ze=/^(\/|https?:\/\/([^\/]*.)?(dev|imgs)?mail.ru\/)/,$e=/.*?\/\/.*?\//,We=!1,Je=!1;function Xe(t,e){var n=t(e);return We||n===e?n:n+","+e}function Ke(t){var e=Ue({url:t,sync:!0});if(e.error){var n="[CSS LOADING ERROR] Cant load "+t;throw window.ajs&&window.ajs.log&&window.ajs.log(n),e.error.description=n,e.error.sheet=t,e.error}return e.xhr.responseText}function Ve(t){var e;return t.ownerNode&&(e=((e=t.ownerNode.href||t.ownerNode.getAttribute("x-href"))||"").replace(/^https:/,"")),e}var Ye=function(t){t&&("boolean"==typeof t.justOneSelector&&(We=t.justOneSelector),"boolean"==typeof t.useRelativeProxy&&(Je=t.useRelativeProxy))},Ge=function(t,e,n,r){!function(t,e){var n=/^(https:)?\/\/[^/]+/,r=t.map((function(t){return t.replace(n,"")}));!function t(){je.iterate(document.styleSheets,(function(t){if("LINK"===t.ownerNode.tagName){var e=Ve(t).replace(n,"");r=r.filter((function(t){return e!==t}))}})),r.length?setTimeout(t,100):e()}()}(t,(function(){[].map.call(document.styleSheets,(function(t){return t})).forEach((function(t){if(t.ownerNode&&!t.ownerNode.__created&&!t.__updated&&"LINK"===t.ownerNode.tagName){var i=t;t.__updated=!0;var o=Ve(t);if(t.href&&ze.test(t.href))try{var a=function(t){var e=t.href;try{return Ke(e)}catch(t){if(Je)return Ke(e=e.replace($e,"/"));throw t}}(t);if(a){var s=new Pe({"x-href":o,media:t.media.mediaText},t.ownerNode);s.setContent(a),s.apply(),(i=s.getSheet()).__updated=!0}}catch(t){"function"==typeof n&&n(t)}var u=new Pe({"x-href":o,media:t.media&&t.media.mediaText},i.ownerNode);u.__updated=!0,Be(i,Xe.bind(null,e),o,(function(t){u.insert(t.toString())}),r),u.apply()}}))}))},Qe=function(t){if((t=(t||[]).map((function(t){return(t||"").replace(/^https:/,"")}))).length){var e=[];je.iterate(document.styleSheets,(function(n){var r=Ve(n);r&&-1!==t.indexOf(r)&&e.push(n)}));for(var n=e.length-1;n>=0;n--){var r=e[n];r.ownerNode.parentNode.removeChild(r.ownerNode)}}},Ze=function(t,e){var n=new Pe({}),r=Xe.bind(null,e),i=function(t,e){return r(t)+function(t){var e=[];return je.iterate(t,(function(t,n){e.push(n+":"+t+";")})),"{"+e.join("\n")+"}"}(e)};return je.iterate(t,(function(t,e){if(/@(media|supports|document|page|keyframes|font-feature-values)/.test(e)){var r=[];je.iterate(t,(function(t,e){r.push(i(e,t))})),n.insertBlock(e,r.join(""))}else n.insert(i(e,t))})),n.apply(),n};var tn=1e3,en=function(t){for(var e=0;e<10;e++)t.push(e.toString());for(e=0;e<25;e++)t.push(String.fromCharCode(97+e)),t.push(String.fromCharCode(65+e));return function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t}(t)}([]),nn=en.length;var rn=function(){for(var t=[],e=0;t.length<5&&e<en.length;e++)(t.length>0||!/[0-9]/.test(en[e]))&&t.push(en[e]);return t.join("")}();function on(){return rn+function t(e){return(e>=nn?t((e/nn>>0)-1):"")+en[e%nn>>0]}(tn++)}var an={};function sn(){var t=on();return an[t]=!0,t}var un,cn,ln,dn,fn=function(t){return void 0!==an[t]},hn=function(t,e){function n(t){t&&je.toArray(t.querySelectorAll(e)).forEach((function(t){var e=function t(e,n){for(var r=document.createDocumentFragment(),i=0,o=je.random(0,e);i<o;i++){var a=document.createElement("div");je.random(0,n)&&a.appendChild(t(e,n-1));var s=0;je.random(0,e)%2||(a.id=sn(),s++),je.random(0,e)%5||(a.setAttribute("data-bem",sn()),s++),je.random(0,e)%6||(a.setAttribute("data-mnemo",sn()),s++),je.random(0,e)%3&&s||(a.className=sn()),r.appendChild(a)}return r}(5,5),n=e.querySelectorAll("div"),r=n[je.random(0,n.length-1)];t&&r&&(t.originalParentNode=t.parentNode,t.parentNode.insertBefore(e,t),r.appendChild(t))}))}try{t.nodeType?n(t):t.length>=0?1===t.length?n(t[0]):je.toArray(t).forEach(n):console.warn('[Walter.wrap] this "context" not supported:',t)}catch(t){console.error(t)}},pn=on(),mn=0,vn={names:{},reverse:{},wraps:{}},gn={},_n=!1,yn=[],wn=!1,bn=/([@#:.]*)([\w$-]+)/gi,xn={},Cn=(cn=["top","right","bottom","left"],dn=["height","width","max-width","max-height","min-height","min-width"],(ln=["margin","padding"]).forEach((function(t){cn.forEach((function(e){dn.push(t+"-"+e)}))})),dn.concat(cn,ln));function Sn(t){On(t)}function En(t,e){_n&&t&&Ge(t,Rn,e,xn)}function In(t){return Ze(t,Rn)}function On(t,e){t=je.extend({},xn,t||{}),xn=t,t.enable&&(_n=!0),_n&&("boolean"==typeof t.translateAll&&(wn=t.translateAll),t.match&&t.match instanceof Array&&t.match.length>0&&(yn=yn.concat(t.match),un=new RegExp("^("+yn.join("|")+")"))),Ye(t.styleSheetsOptions),t.randomize&&(t.randomize=!0===t.randomize?Cn:t.randomize),t.links&&En(t.links,e),t.sheet&&In(t.sheet)}function kn(t,e){return(e?e+"@@@":"")+t}function Nn(t,e){var n=kn(t,e),r=vn.names[n];return!r&&_n&&(wn||un&&un.test(e||t))&&(r=on(),vn.names[n]=r,vn.reverse[r]=t),r||t}function Tn(t,e){var n=jn(t);return e?Nn(n.elem,e)+(n.mod?"_"+Nn(n.mod,e):""):Nn(n.elem)+(n.mod?"_"+Nn(n.mod,n.elem):"")}function jn(t){var e,n=(t?""+t:"").match(/^(.*?[^_])(_([^_]+))?$/);return n&&(t=n[1],e=n[3]),{elem:t,mod:e}}function Rn(t){return t.replace(bn,(function(t,e,n){return!e||/:/.test(e)?t:e+Tn(n)}))}function Pn(t,e){var n=jn(t);return e?(vn.names[kn(n.elem,e)]||n.elem)+(n.mod?"_"+(vn.names[kn(n.mod,e)]||n.mod):""):(vn.names[n.elem]||n.elem)+(n.mod?"_"+(vn.names[kn(n.mod,n.elem)]||n.mod):"")}function Mn(t,e,n){return(t||"").toString().split(/\s+/).map((function(t){return e(t,n)})).join(" ")}function An(t){var e=jn(t);return(vn.reverse[e.elem]||e.elem)+(e.mod?"_"+(vn.reverse[e.mod]||e.mod):"")}Sn.prototype={constructor:Sn,setup:On,selector:function(t,e){var n=Rn(t);return e||t==n?n:n+", "+t},transform:function(t,e){return Mn(t,Tn,e)},lookup:function(t,e){return Mn(t,Pn,e)},updateSheets:En,removeSheets:function(t){_n&&t&&Qe(t)},insertSheet:In,reverse:function(t){return Mn(t,An)},isWelter:function(t){return fn(t)},wrap:function(t,e){if(_n){var n;(e=e||document)[pn]?n=e[pn]:(n=++mn,e[pn]=n);var r=gn[n];null==r&&(r={}),t.forEach((function(t){if(!r[t]){var i=Rn(t);r[t]=i,gn[n]=r,hn(e,i)}}))}},calcString:function(t,e){return _n?je.calcString(t,e):t+e},removeCache:function(t){delete gn[t[pn]],delete t[pn]},isEnabled:function(){return _n}};var Ln=$.util.randomInt,Hn=mr.switches,qn=new function(t){return function(e){var n=t.getUrl(e);if(!n)return e;switch(t.type){case"xor":var r=function(t,e){for(var n="",r=0;r<e.length;r++){var i=e.charCodeAt(r),o=r%t.length,a=t.charCodeAt(o);n+=String.fromCharCode(i^a)}return n}(t.key,n);return r="hex"===t.encode?function(t){for(var e="",n=0;n<t.length;n++)e+=(256+t.charCodeAt(n)).toString(16).slice(1);return e}(r):encodeURIComponent(r),t.endpoint+"/"+(t.keyId||"")+r;case"plain":default:return t.endpoint+encodeURI(n)}}}({endpoint:"/"+mr.mimic.encryptPath,type:"xor",encode:"hex",key:mr.mimic&&mr.mimic.cryptoKey,keyId:mr.mimic&&mr.mimic.cryptoKeyId,getUrl:function(t){return t}}),Dn=new Sn({links:mr._.STYLE,match:["grid","grid__ccol","grid__lcol","grid__header","grid__container","grid:middle","grid-middle","grid-down","external","banner","news","i-pull","rectangle-banner","games","mediaprojects","tgb","informer","choose-city","horo-informer","rate","o-","i-","m-","weather","toolbar","notify","well","tabs"],randomize:!0}),Bn=/^.+\/count\//,Fn=/rs?\.(mail\.ru|mradx\.net)/,Un=/^(https?:)\/\//,zn=function(t){this.base=t.base||"",this.counters=t.counters||[],this.opts=t};zn.prototype.add=function(t){var e;return(e=this.counters).push.apply(e,(t||"").split(",").filter((function(t){return!!t}))),this},zn.prototype.send=function(){var t=this,e=this.counters.map((function(e){return t.fetchCounter(t.base+e)}));return this.counters.length=0,Promise.all(e)},zn.send=function(t,e){return new zn(e).add(t).send()},zn.prototype.fetchCounter=function(t){var e,n;return this.opts.mimic&&(Fn.test(t)?n=qn(t.replace(Un,"/")):Bn.test(this.base)&&(e=$.transport("/api-proxy/rb-mimic/v1/count/",{type:Hn.mimicAdsByXhr?"XHR":"JSONP",decorator:qn,json:!0}).fetch({params:this.getDirectParams(t),timeout:3e3}).then((function(t){if(200!==t.result.status)throw Error("invalid request")})))),e||(e=new Promise((function(e,r){var i=new Image;i.src=n||t,i.onload=e,i.onerror=r}))),e.catch((function(){$.radar("adblock_stat_error").send()})),e},zn.prototype.getDirectParams=function(t){var e=t.split(/^\/count\//,1).pop(),n=this.opts,r={key:e,location:location.protocol+"//"+location.host+location.pathname,search_uid:$.cookie("searchuid").value(),type:"resplash",site_charset:"utf-8"};return void 0!==n.stat_id&&(r.stat_id=String(n.stat_id)),void 0!==n.page_id&&(r.page_id=Number(n.page_id)),void 0!==n.cid&&(r.cid=Number(n.cid)),document.referrer&&(r.referer=document.referrer),navigator.userAgent&&(r.agent=navigator.userAgent),"object"==typeof n.context&&(r.context={},void 0!==n.context.title&&(r.context.title=String(n.context.title)),void 0!==n.context.headers&&(r.context.headers=n.context.headers)),r};var $n=function(t,e){var n=document.createElement("div");return n.className=e?Dn.transform(e):"",n.textContent=t||"",n},Wn=function(){return Math.random().toString(36).substring(Math.max(2,10*Math.random()))},Jn=function(t){return Array.apply(0,new Array(t)).map((function(t){return 0}))},Xn=function(){return Math.random()<=.5},Kn=0,Vn=function(t,e){return void 0===t&&(t=2),void 0===e&&(e=6),Jn(Ln(e,t)).reduce((function(t,e,n){return t+" news-rnd-"+(Kn<=99?Kn++:Kn=0)}),"")},Yn=["alt","title"],Gn=document.createElement("canvas"),Qn=Gn.getContext("2d");Gn.height=Gn.width=10;var Zn={textWrap:function(t,e){void 0===e&&(e="");var n=t.textContent,r=n.length,i="",o=0;t.textContent="";for(var a=0;a<r;a++)i+=n.charAt(a),(Math.random()<.5||i.length>r/2||a===r-1)&&(t.appendChild($n(Wn(),"i-hide")),t.appendChild($n(i,e)),i="",o++);if(Dn.wrap(["."+e+":nth-child("+Math.ceil(o/2)+")"||"div"],t),e){var s=t.querySelectorAll("div");e=Dn.transform(e),s.forEach((function(t){return t.classList.add(e)}))}},radarOnCaught:function(t,e,n){void 0===n&&(n=1e3),t instanceof HTMLElement&&(t=function(){return!$.dom.isVisible(t)}),setTimeout((function(){t&&mr.mimic.radar("caught_"+e)}),n)},hideAll:function(t,e){if(!mr._.STUCK_IN_POT)return t;var n=[],r=[];return e=e||document.body,Object.keys(t).forEach((function(i){var o=e.querySelector(i);if(o){var a=o.className+Vn(1,Math.max(1,6-o.classList.length));o.className=Dn.transform(a),o.id&&(o.id=Dn.transform(o.id)),t[i]&&r.push(i)}else n.push(i)})),Dn.wrap(r,e),n},insetRndImage:function(t,e,n){if(void 0===e&&(e=3),void 0===n&&(n=0),mr._.STUCK_IN_POT){var r;if(!n||Xn()){Qn.strokeText(Wn(),0,0),(r=new Image).src=Gn.toDataURL(),r.className=Dn.transform("i-hide "+Vn());for(var i=Yn.length;i--&&Xn();)r[Yn[i]]=Wn()}n<e&&[].forEach.call(t.children,(function(t){Zn.insetRndImage(t,e,n+1)})),r&&t.appendChild(r)}},spreadWide:function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=5);var r=t.parentNode,i=t.nextSibling;if(r&&mr._.STUCK_IN_POT)for(var o=function(o){var a=document.createDocumentFragment();Jn(Ln(n,e)).forEach((function(){var t=document.createElement("div");t.className=Dn.transform(Vn()),a.appendChild(t)})),o?r.insertBefore(a,t):i?r.insertBefore(a,i):r.appendChild(a)},a=0;a<2;a++)o(a)}},tr={encrypt:qn,locator:Dn,tools:Zn,Counter:zn,honeyPot:Oe};document.addEventListener("mousedown",(function(t){for(var e,n=[],r=t.target||t.srcElement;r.parentNode;)(e=r.getAttribute&&r.getAttribute("name"))&&n.push(e),r=r.parentNode;n.length&&Ce(n.join(","))})),n.util.extend(t,Xt,{counter:Ce,retarget:function(t){be(ve("https://ad.mail.ru/i"+t+".gif"))},honeyPot:tr.honeyPot}),n.util.logger(n.radar);var er=n.radar("adblock");tr.radar=er.send,tr.rLog=er.log,n.util.extend(t.mimic,tr),n.FagotDetector.init(["mouse","keyboard","keyspeed"]);var nr,rr,ir,or=function(t,e){var n;return t&&e?n="(min-height: "+t+"px) and (max-height: "+e+"px)":(t&&(n="(min-height: "+t+"px)"),e&&(n="(max-height: "+e+"px)")),n},ar=0,sr=640,ur=700,cr=778,lr=848,dr=900,fr=925,hr={x:[{name:"xl",query:"(min-width: 1361px)"}],y:[{name:"xxxl",query:or(fr)},{name:"xxl",query:or(dr,fr-1)},{name:"xl",query:or(lr,dr-1)},{name:"lg",query:or(cr,lr-1)},{name:"md",query:or(ur,cr-1)},{name:"sm",query:or(sr,ur-1)},{name:"xs",query:or(ar,sr-1)}]};t.switches.isAtlas?hr.x.push({name:"lg",query:"(min-width: 1289px) and (max-width: 1360px)"},{name:"md-atlas",query:"(max-width: 1288px)"}):hr.x.push({name:"lg",query:"(min-width: 1289px) and (max-width: 1360px)"},{name:"lte-md",query:"(max-width: 1288px)"},{name:"md",query:"(min-width: 1209px) and (max-width: 1288px)"},{name:"lte-sm",query:"(max-width: 1208px)"},{name:"sm",query:"(min-width: 1117px) and (max-width: 1208px)"},{name:"xs",query:"(max-width: 1116px)"}),nr=hr,rr={},ir=[],Object.entries(nr).forEach((function(t){var e=t[0];t[1].forEach((function(t){var n=t.name,r=t.query,i=e+":"+n,o=window.matchMedia(r);o.matches&&ir.push({direction:e,name:n}),o.addListener((function(t){!function(t,e,n){var r;if(ae(),!t.matches)for(var i=ne.length;i--;){var o=ne[i],a=ie[o].mq;if(a.matches){var s=o.split(":"),u=s[0],c=s[1];if(u===e){t=a,e=u,n=c;break}}}for(var l in t.matches&&(r=Zt({},ee),oe(e,n)),Bt){var d=Bt[l],f=d.listenStates,h=f&&f.length,p=!!r&&!1!==f;if(p&&h)for(p=!1;h--;){var m=f[h];if(Yt.isEqual(m)||Gt.isEqual(m)){p=!0;break}}p&&d.render(void 0,Kt(r,ee,Yt)),se(d)}}(t,e,n)})),ie[i]={mq:o},rr[e]||(rr[e]={}),rr[e][n]=r}))})),Vt.registerStates(rr),ir.forEach((function(t){var e=t.direction,n=t.name;return oe(e,n,!0)})),ae(),Ut=le,zt=de,document.addEventListener("visibilitychange",(function(){"IFRAME"===document.activeElement.tagName.toUpperCase()&&window.focus()})),t._.BAD_MRCU&&xray.send("bad-mrcu",{rlog:"resplash_research",rlog_message:{mimic:t._.STUCK_IN_POT},v:1}),window.mr=t}(mr,$);
