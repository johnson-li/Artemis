var tutti=function(){var t={toolbar:function(t){var e,a,o,i,s,r,n,c,l,d=this,m="",u=[],h=[],p="",g={},_=(fest_stdlib.core.short_tags,fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML);function f(t){l(t+'\nin block "" at line: \nfile: ')}function b(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(d,e)}fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,d&&"function"==typeof d.i18n&&d.i18n,l="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var y=t;try{var v=["color:"+y.color,"background-color:"+y.bg.color,"background-size:auto 40px"];y.bg.img&&v.push("background-image:url("+y.bg.img+")");var w=["min-width:"+y.minWidth+"px","max-width:"+y.maxWidth+"px","margin-left:auto","margin-right:auto"],x=[];y.content.offset.left&&x.push("margin-left:"+y.content.offset.left+"px"),y.content.offset.right&&x.push("margin-right:"+y.content.offset.right+"px");var k=y.buttons.primary,L=[];k.bg.img?L.push("width:"+k.width+"px","background:url("+k.bg.img+") no-repeat 50%","background-size:"+k.width+"px auto","text-align:center"):L.push("background:"+k.bg.color),k.color&&L.push("color:"+k.color);var C=y.buttons.close,E=[];C.offset&&E.push("margin-right:"+C.offset+"px"),C.color&&E.push("color:"+C.color),e=[w,v,x,L,E].map((function(t){return t.join(";")})),w=e[0],v=e[1],x=e[2],L=e[3],E=e[4]}catch(t){f(t.message)}try{var S=mr.mimic.locator.transform}catch(t){f(t.message)}try{i=y.tpl}catch(t){i=!1,f(t.message)}if(i){try{o=y.tpl}catch(t){o="",f(t.message)}c={};try{c=y}catch(t){f(t.message)}u.push(m,{name:o,params:c,cp:!1}),m=""}else{o="panel",c={};try{c=y}catch(t){f(t.message)}u.push(m,{name:o,params:c,cp:!1}),m=""}if(g.panel=function(t){var e="",a=function(t,a){e+=a};try{h[0]=_(S("toolbar i-block i-relative i-link-no-deco i-font-md"))}catch(t){h[0]="",f(t.message)}try{h[1]=_(v)}catch(t){h[1]="",f(t.message)}a(0,'<div class="'+h[0]+'" style="'+h[1]+'">');try{h[0]=_(S("toolbar__inner"))}catch(t){h[0]="",f(t.message)}try{h[1]=_(w)}catch(t){h[1]="",f(t.message)}a(0,'<div class="'+h[0]+'" style="'+h[1]+'">');try{h[0]=_(S("toolbar__content i-valign-middle"))}catch(t){h[0]="",f(t.message)}a(0,'<div class="'+h[0]+'">');try{i=y.before}catch(t){i=!1,f(t.message)}if(i){try{h[0]=_(S("i-valign-middle"))}catch(t){h[0]="",f(t.message)}try{h[1]=_(y.before.img)}catch(t){h[1]="",f(t.message)}try{h[2]=_(y.before.width)}catch(t){h[2]="",f(t.message)}try{h[3]=_(y.before.height)}catch(t){h[3]="",f(t.message)}a(0,'<img class="'+h[0]+'" src="'+h[1]+'" width="'+h[2]+'" height="'+h[3]+'"');try{i=y.before.img_2x}catch(t){i=!1,f(t.message)}if(i){a(0,' srcset="');try{a(0,_(y.before.img))}catch(t){f(t.message+"25")}a(0,", ");try{a(0,_(y.before.img_2x))}catch(t){f(t.message+"25")}a(0,' 2x"')}a(0,"/>")}try{h[0]=_(S("toolbar__text i-valign-middle"))}catch(t){h[0]="",f(t.message)}try{h[1]=_(x)}catch(t){h[1]="",f(t.message)}a(0,'<span class="'+h[0]+'" style="'+h[1]+'">');try{a(0,y.content.text)}catch(t){f(t.message+"32")}a(0,"</span>");try{i=y.after}catch(t){i=!1,f(t.message)}if(i){try{h[0]=_(S("i-valign-middle"))}catch(t){h[0]="",f(t.message)}try{h[1]=_(y.after.img)}catch(t){h[1]="",f(t.message)}try{h[2]=_(y.after.width)}catch(t){h[2]="",f(t.message)}try{h[3]=_(y.after.height)}catch(t){h[3]="",f(t.message)}a(0,'<img class="'+h[0]+'" src="'+h[1]+'" width="'+h[2]+'" height="'+h[3]+'"');try{i=y.after.img_2x}catch(t){i=!1,f(t.message)}if(i){a(0,' srcset="');try{a(0,_(y.after.img))}catch(t){f(t.message+"39")}a(0,", ");try{a(0,_(y.after.img_2x))}catch(t){f(t.message+"39")}a(0,' 2x"')}try{i=y.after.offset}catch(t){i=!1,f(t.message)}if(i){a(0,' style="margin-right:');try{a(0,_(y.after.offset))}catch(t){f(t.message+"43")}a(0,'px"')}a(0,"/>")}try{h[0]=_(S("toolbar__btn toolbar__btn_primary i-valign-middle"))}catch(t){h[0]="",f(t.message)}try{h[1]=_(L)}catch(t){h[1]="",f(t.message)}a(0,'<span class="'+h[0]+'" style="'+h[1]+'">');try{a(0,k.content)}catch(t){f(t.message+"50")}a(0,"</span></div>");try{h[0]=_(S("toolbar__aside"))}catch(t){h[0]="",f(t.message)}a(0,'<div class="'+h[0]+'">');try{h[0]=_(S("toolbar__btn toolbar__close"))}catch(t){h[0]="",f(t.message)}try{h[1]=_(E)}catch(t){h[1]="",f(t.message)}a(0,'<span class="'+h[0]+'" style="'+h[1]+'">');try{h[0]=_(S("toolbar__close-icon"))}catch(t){h[0]="",f(t.message)}try{h[1]=_(C.bg)}catch(t){h[1]="",f(t.message)}a(0,'<span class="'+h[0]+'" style="background-color:'+h[1]+'">&times;</span>');try{h[0]=_(S("toolbar__close-content"))}catch(t){h[0]="",f(t.message)}a(0,'<span class="'+h[0]+'">');try{a(0,C.content)}catch(t){f(t.message+"56")}a(0,"</span></span>");try{i=y.notes}catch(t){i=!1,f(t.message)}if(i){try{h[0]=_(y.notes.offset)}catch(t){h[0]="",f(t.message)}a(0,'<span style="margin-right:'+h[0]+'px">');try{a(0,y.notes.content)}catch(t){f(t.message+"60")}a(0,"</span>")}a(0,"<span>");try{a(0,_(y.age))}catch(t){f(t.message+"63")}return a(0,"+</span></div></div></div>"),e},r=u.length){for(s=0;s<r;s++)"string"==typeof(a=u[s])?p+=a:(n=g[a.name])&&(p+=b(n,a.params,a.cp));return p+m}return m},headline:function(t){var e,a,o,i,s,r,n,c=this,l="",d=[],m="",u={};function h(t){n(t+'\nin block "" at line: \nfile: ')}function p(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(c,e)}fest_stdlib.core.short_tags,fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML,fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,c&&"function"==typeof c.i18n&&c.i18n,n="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var g=t;try{a=g.template}catch(t){a="",h(t.message)}r={};try{r=g}catch(t){h(t.message)}if(d.push(l,{name:a,params:r,cp:!1}),l="",u.whitelist=function(t){var e="";return e+='<div class="headline__message"><p class="i-color-coral">Переключение между аккаунтами не работает из-за блокировщика рекламы.</p><p>Добавьте Mail.ru в исключения вашего блокировщика.</p><div class="headline__message-footer i-clearfix"><a href="https://help.mail.ru/mail-help/helpful/adblock" rel="nofollow" class="headline__message-button i-pull-left">Подробнее</a><a id="whiteLink" href="abp:subscribe?location=https://limg.imgsmail.ru/informers/whitelist/csp.txt" name="clb40372678" class="btn btn_blue i-pull-right">Разблокировать</a></div></div>'},i=d.length){for(o=0;o<i;o++)"string"==typeof(e=d[o])?m+=e:(s=u[e.name])&&(m+=p(s,e.params,e.cp));return m+l}return l},slidotype:function(t){var e,a,o,i,s,r,n,c,l,d=this,m="",u=[],h=[],p="",g={},_=[],f=fest_stdlib.core.short_tags,b=(fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML);function y(t,e){m+=e}function v(t){l(t+'\nin block "" at line: \nfile: ')}function w(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(d,e)}fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,d&&"function"==typeof d.i18n&&d.i18n,l="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var x=t;try{var k,L="i-relative slidotype slidotype_"+x.name;x.custom&&(L+=" slidotype_custom"),x.img&&(x.img.url&&x.img.width&&x.img.height&&(k=["background-image:url("+x.img.url+")","background-size:"+x.img.width+"px "+x.img.height+"px"]),x.img.centered&&k.push("background-position:50% 0","background-repeat:no-repeat"),k=k.join(";"));var C="color:"+x.foldColor,E=!1;x.url&&(E=x.fullClickable||x.title&&(x.titleHidden||!x.title.length)?"full":"title");var S=encodeURIComponent(x.shareUrl)}catch(t){v(t.message)}try{h[0]=b(L)}catch(t){h[0]="",v(t.message)}y(0,'<div class="'+h[0]+'" id="slidotype"><div class="slidotype_wrap i-relative"');try{o=k}catch(t){o=!1,v(t.message)}if(o){y(0,' style="');try{a=k}catch(t){a="",v(t.message)}y(0,a),y(0,'"')}y(0,">");try{o="full"==E}catch(t){o=!1,v(t.message)}if(o){y(0,'<a id="slidotype:full:link" class="slidotype__link o-overlay i-link-no-deco" target="_blank" href="');try{y(0,x.url)}catch(t){v(t.message+"13")}y(0,'" name="clb');try{y(0,b(x.id))}catch(t){v(t.message+"14")}y(0,'"><div class="slidotype__inner grid__container">'),a="slidotype__content",n={},u.push(m,{name:a,params:n,cp:!1}),m="",y(0,'</div></a><div class="slidotype__inner grid__container">'),a="slidotype__aside",n={},u.push(m,{name:a,params:n,cp:!1}),m="",y(0,"</div>")}else y(0,'<div class="slidotype__inner grid__container">'),a="slidotype__content",n={},u.push(m,{name:a,params:n,cp:!1}),m="",a="slidotype__aside",n={},u.push(m,{name:a,params:n,cp:!1}),m="",y(0,"</div>");if(y(0,"</div></div>"),g.slidotype__content=function(t){var e="",a=function(t,a){e+=a};a(0,'<div class="slidotype__content i-relative">');try{o=(x.titleHtml||x.title)&&!x.titleHidden}catch(t){o=!1,v(t.message)}if(o){try{"string"!=typeof(c="title"===E?"a":"span")&&(v("Element name must be a string"),c="div")}catch(t){c="div",v(t.message)}_.push(c),a(0,"<"+c),a(0,' id="slidotype:title" class="slidotype__title i-link-no-deco i-block"');try{o=x.titleColor}catch(t){o=!1,v(t.message)}if(o){a(0,' style="color:');try{a(0,b(x.titleColor))}catch(t){v(t.message+"43")}a(0,'"')}try{o="title"===E}catch(t){o=!1,v(t.message)}if(o){a(0,' target="_blank" href="');try{a(0,x.url)}catch(t){v(t.message+"48")}a(0,'" name="clb');try{a(0,b(x.id))}catch(t){v(t.message+"49")}a(0,'"')}a(0,(c=_[_.length-1])in f?"/>":">");try{a(0,x.titleHtml||x.title)}catch(t){v(t.message+"52")}(c=_[_.length-1])in f||a(0,"</"+c+">"),_.pop()}try{o=x.text&&!x.textHidden}catch(t){o=!1,v(t.message)}if(o){try{"string"!=typeof(c="title"==E?"a":"span")&&(v("Element name must be a string"),c="div")}catch(t){c="div",v(t.message)}_.push(c),a(0,"<"+c),a(0,' id="slidotype:text" class="slidotype__text i-link-no-deco i-block"');try{o="title"==E}catch(t){o=!1,v(t.message)}if(o){a(0,' target="_blank" href="');try{a(0,x.url)}catch(t){v(t.message+"62")}a(0,'" name="clb');try{a(0,b(x.id))}catch(t){v(t.message+"63")}a(0,'"')}a(0,(c=_[_.length-1])in f?"/>":">");try{a(0,x.text)}catch(t){v(t.message+"66")}(c=_[_.length-1])in f||a(0,"</"+c+">"),_.pop()}return a(0,"</div>"),e},g.slidotype__aside=function(t){var e="",a=function(t,a){e+=a};try{o=!x.shareDisabled}catch(t){o=!1,v(t.message)}if(o){a(0,'<div id="slidotype:share" class="slidotype__share i-absolute">');try{h[0]=b(S)}catch(t){h[0]="",v(t.message)}a(0,'<span class="slidotype__share-item slidotype__share-item_vk" name="clb9536298" data-href="https://vk.com/share.php?url='+h[0]+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M18.8 14.4c-.4-.5-.7-.8-1.4-1v-.1c.5-.2.9-.6 1.1-1 .3-.4.4-1 .4-1.5s-.1-.9-.3-1.3c-.2-.4-.5-.7-.9-.9-.4-.2-.8-.4-1.2-.4-.3-.1-1.2-.2-2-.2h-4.1v12H15c.8 0 1.4-.1 1.9-.2.5-.2 1-.4 1.4-.8.4-.3.6-.7.8-1.1.2-.5.3-1 .3-1.5 0-.9-.2-1.5-.6-2zM13.4 10h1c.4 0 .7.1 1 .2.3.2.5.9.5 1.4 0 .4-.1.8-.3.9-.2.2-.5.4-.9.4h-1.3V10zm2.1 7.8c-.2.1-.3.2-.7.2h-1.5v-3h1.5c.4 0 .5.1.7.2.4.2.8.7.8 1.2 0 .6-.4 1.1-.8 1.4z"/></svg></span>');try{h[0]=b(x.fbAppId?"app_id="+x.fbAppId+"&":"")}catch(t){h[0]="",v(t.message)}try{h[1]=b(S)}catch(t){h[1]="",v(t.message)}a(0,'<span class="slidotype__share-item slidotype__share-item_fb" name="clb9536295" data-href="https://www.facebook.com/dialog/share?'+h[0]+"href="+h[1]+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M14.9 14.9h2.2s.2-.8.3-1.8v-.2-.1-.2-.2h-2.6v-2c0-.3.5-.6.8-.6h1.8V7.2h-2.2c-2.9 0-3 2.6-3 3v2.2h-1.7V15h1.7v6h2.6V14.9z"/></svg>\n</span>');try{h[0]=b(S)}catch(t){h[0]="",v(t.message)}a(0,'<span class="slidotype__share-item slidotype__share-item_ok" name="clb9536293" data-href="http://odnoklassniki.ru/dk?st.cmd=addShare&amp;st._surl='+h[0]+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M14 14.2c2.2 0 4-1.8 4-3.9s-1.8-3.9-4-3.9-4 1.8-4 3.9 1.8 3.9 4 3.9zm0-5.5c.9 0 1.7.7 1.7 1.6 0 .9-.7 1.6-1.7 1.6-.9 0-1.7-.7-1.7-1.6 0-.8.8-1.6 1.7-1.6zm4.3 6.2c-.3-.5-1.1-.7-1.6-.4-1.6 1-3.7 1-5.4 0-.5-.3-1.3-.2-1.6.4-.3.5-.2 1.2.4 1.6.7.4 1.5.7 2.3.9l-2.2 2.2c-.5.4-.5 1.2 0 1.6.2.2.5.3.8.3.3 0 .6-.1.8-.3l2.2-2.1 2.2 2.1c.5.4 1.2.4 1.7 0s.5-1.2 0-1.6l-2.2-2.2c.8-.2 1.6-.5 2.3-.9.5-.3.6-1.1.3-1.6z"/></svg></span>');try{h[0]=b(S)}catch(t){h[0]="",v(t.message)}a(0,'<span class="slidotype__share-item slidotype__share-item_mm" name="clb9536286" data-href="http://connect.mail.ru/share?share_url='+h[0]+'"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M10.9 11.5c.8 0 1.4-.6 1.4-1.4 0-.8-.6-1.4-1.4-1.4-.8 0-1.4.6-1.4 1.4 0 .7.6 1.4 1.4 1.4zm5.9 0c.8 0 1.4-.6 1.4-1.4 0-.8-.6-1.4-1.4-1.4-.8 0-1.4.6-1.4 1.4 0 .7.6 1.4 1.4 1.4zm4.7 6l-1.7-3.1c-.2-.4-.7-.5-1.1-.3-.4.2-.5.8-.3 1.2l.2.4c-1.2 1.3-2.9 2-4.6 2-1.8 0-3.4-.7-4.6-2l.2-.4c.2-.4.1-.9-.3-1.2-.6-.2-1.1-.1-1.3.3l-1.7 3.1c-.2.4-.1.9.3 1.2.1.1.3.1.4.1.3 0 .6-.2.7-.4l.7-1.2c1.5 1.4 3.4 2.2 5.5 2.2s4-.8 5.5-2.2l.7 1.2c.2.3.4.4.7.4.1 0 .3 0 .4-.1.4-.3.5-.8.3-1.2z"/></svg></span>');try{h[0]=b(encodeURIComponent(x.title))}catch(t){h[0]="",v(t.message)}try{h[1]=b(S)}catch(t){h[1]="",v(t.message)}a(0,'<span class="slidotype__share-item slidotype__share-item_tw" name="clb9536301" data-href="https://twitter.com/intent/tweet?text='+h[0]+"&amp;url="+h[1]+'&amp;hashtags=mailru"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="M17.7 8.7c-1.6 0-2.8 1.3-2.8 2.9 0 .2 0 .4.1.7-2.4-.1-4.5-1.3-5.9-3-.2.4-.4.9-.4 1.4 0 1 .5 1.9 1.3 2.4-.5 0-.9-.1-1.3-.4 0 1.4 1 2.5 2.3 2.8-.2.1-.5.1-.7.1-.2 0-.4 0-.5-.1.4 1.1 1.4 2 2.7 2-1 .8-2.2 1.2-3.5 1.2h-.7c1.3.8 2.7 1.3 4.4 1.3 5.2 0 8.1-4.4 8.1-8.1v-.4c.6-.4 1-.9 1.4-1.5-.5.2-1.1.4-1.6.4.6-.4 1-.9 1.2-1.6-.5.3-1.2.6-1.8.7-.8-.5-1.5-.8-2.3-.8"/></svg></span></div>')}try{h[0]=b(C)}catch(t){h[0]="",v(t.message)}return a(0,'<span id="slidotype:fold" class="i-absolute slidotype__fold" style="'+h[0]+'"><span class="slidotype__fold-text">Свернуть</span><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-431 265 32 32"><path d="M-415 265c-8.9 0-16 7.1-16 16s7.1 16 16 16 16-7.1 16-16-7.1-16-16-16zm0 30c-7.8 0-14-6.2-14-14s6.2-14 14-14 14 6.2 14 14-6.2 14-14 14zm0-20l-1.5 1.5-7.5 7.5 1.5 1.5 7.5-7.5 7.5 7.5 1.5-1.5-7.5-7.5-1.5-1.5z"/></svg>\n</span>'),e},s=u.length){for(i=0;i<s;i++)"string"==typeof(e=u[i])?p+=e:(r=g[e.name])&&(p+=w(r,e.params,e.cp));return p+m}return m},logo:function(t){var e,a,o,i,s,r,n=this,c="",l=[],d=[],m="",u={},h=(fest_stdlib.core.short_tags,fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML);function p(t,e){c+=e}function g(t){r(t+'\nin block "" at line: \nfile: ')}function _(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(n,e)}fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,n&&"function"==typeof n.i18n&&n.i18n,r="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var f=t;try{var b=f.title||"Mail.ru: почта, поиск в интернете, новости, игры",y="//mail.ru",v=!f.img&&!f.isSwitcher&&f.url||y,w={logo:[],aside:[]},x=f.logo&&f.logo.aside,k=x&&x.corner,L=!1;f.logo&&(f.logo.bg&&(w.logo.push("background-image:url("+f.logo.bg.url+")"),w.logo.push("background-size:"+f.logo.bg.width+"px "+f.logo.bg.height+"px"),L=!0),f.logo.bgColor&&w.logo.push("background-color:"+f.logo.bgColor)),x&&(k>2?w.aside.push("top:76"+px):w.aside.push("top:0"),1===k||4===k?w.aside.push("right:100%"):w.aside.push("left:100%"),["left","top"].forEach((function(t){w.aside.push("margin-"+t+":"+f.logo.aside.offset[t]+"px")})),w.aside.push("height:"+x.height+"px"),w.aside.push("width:"+x.width+"px"),w.aside.push("background-image:url("+x.url+")"),w.aside.push("background-size:"+x.width+"px "+x.height+"px")),Object.keys(w).forEach((function(t){w[t]=w[t].join(";")}))}catch(t){g(t.message)}p(0,'<div id="logo" class="logo">');try{d[0]=h(v)}catch(t){d[0]="",g(t.message)}try{d[1]=h(w.logo)}catch(t){d[1]="",g(t.message)}p(0,'<a href="'+d[0]+'" style="'+d[1]+'" class="logo__img');try{a=mr.switches.isAtlas}catch(t){a=!1,g(t.message)}a&&p(0," logo__img_atlas"),p(0,'" title="');try{p(0,b)}catch(t){g(t.message+"12")}p(0,'"');try{a=!f.id}catch(t){a=!1,g(t.message)}if(a)p(0,' name="clb831530"');else{try{a=f.logo&&!f.logo.isSwitcher}catch(t){a=!1,g(t.message)}if(a){p(0,' name="clb');try{p(0,h(f.id))}catch(t){g(t.message+"23")}p(0,'"')}}try{a=v!=y}catch(t){a=!1,g(t.message)}a&&p(0,' target="_blank"'),p(0,">");try{a=L}catch(t){a=!1,g(t.message)}if(a)try{mr.counter("d44643181")}catch(t){g(t.message)}p(0,'<span class="logo__text">Mail.ru</span></a>');try{a=mr._.READY_FOR_EXTENSION&&(!f.logo||!f.logo.isSwitcher)}catch(t){a=!1,g(t.message)}a&&p(0,'<div id="logo-extension-target" class="logo__extension">сделать стартовой</div>'),p(0,"</div>");try{a=x}catch(t){a=!1,g(t.message)}if(a){try{a=x.screenWidth}catch(t){a=!1,g(t.message)}if(a){p(0,"<style>@media (max-width:");try{p(0,h(x.screenWidth-1))}catch(t){g(t.message+"50")}p(0,"px) {\n\t\t\t\t\t.slidotype__switcher {\n\t\t\t\t\t\tdisplay: none\n\t\t\t\t\t}\n\t\t\t\t}</style>")}try{d[0]=h(w.aside)}catch(t){d[0]="",g(t.message)}p(0,'<span id="slidotype:switcher" class="slidotype__switcher i-absolute" style="'+d[0]+'" title="');try{p(0,x.title)}catch(t){g(t.message+"60")}p(0,'"></span>')}if(i=l.length){for(o=0;o<i;o++)"string"==typeof(e=l[o])?m+=e:(s=u[e.name])&&(m+=_(s,e.params,e.cp));return m+c}return c},"mailbox/loggedIn":function(t){var e,a,o,i,s,r,n,c,l=this,d="",m=[],u=[],h="",p={},g=(fest_stdlib.core.short_tags,fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML);function _(t){c(t+'\nin block "" at line: \nfile: ')}function f(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(l,e)}fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,l&&"function"==typeof l.i18n&&l.i18n,c="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var b=t;try{a=b.template}catch(t){a="",_(t.message)}n={};try{n=b}catch(t){_(t.message)}if(m.push(d,{name:a,params:n,cp:!1}),d="",p.dropdownButton=function(t){var e="",a=function(t,a){e+=a};try{u[0]=g(t.email)}catch(t){u[0]="",_(t.message)}a(0,'<div class="mailbox__dropdown__button-account o-dropdown__button menu__item o-media account__container" data-email="'+u[0]+'">');try{u[0]=g(t.avatar)}catch(t){u[0]="",_(t.message)}try{u[1]=g(t.avatar)}catch(t){u[1]="",_(t.message)}try{u[2]=g(t.avatar_2x)}catch(t){u[2]="",_(t.message)}a(0,'<img id="mailbox:avatar" class="o-media__img userpic menu__userpic" src="'+u[0]+'" srcset="'+u[1]+", "+u[2]+' 2x"/><div class="o-media__body menu__body o-dropdown__button_body"><div class="o-media__content mailbox__dropdown__content"><div class="i-link-deco mailbox__account-name i-fade" name="clb24096393">');try{a(0,t.fullName||t.email)}catch(t){_(t.message+"9")}a(0,"</div>");try{o=t.fullName}catch(t){o=!1,_(t.message)}if(o){a(0,'<div id="mailbox:activeEmail" class="mailbox__account-email i-fade" name="clb790259">');try{a(0,t.email)}catch(t){_(t.message+"13")}a(0,"</div>")}return a(0,"</div></div></div>"),e},p.loggedIn=function(t){var e="",i=function(t,a){e+=a};i(0,'<div id="auth" class="well mailbox m-bordered m-bordered-square-top');try{o=mr.switches.isAtlas}catch(t){o=!1,_(t.message)}o&&i(0," mailbox_atlas"),i(0,'"><div id="mailbox:mailLink" class="mailbox__head mailbox__head_loggedin"><a id="mailbox:mailHeaderLink" name="clb1753622" href="//e.mail.ru/messages/inbox/');try{o=mr._.REFERRER}catch(t){o=!1,_(t.message)}if(o){i(0,"?rf=");try{i(0,g(mr._.REFERRER))}catch(t){_(t.message+"37")}}try{o=mr._.GP}catch(t){o=!1,_(t.message)}if(o){i(0,"&gp=");try{i(0,g(mr._.GP))}catch(t){_(t.message+"38")}}i(0,'"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,_(t.message)}o&&i(0,' target="_blank"'),i(0,'>Почта</a><a id="mailbox:logout_icon" class="mailbox__icon mailbox__icon_logout i-pull-right" title="Выход" href="https://auth.mail.ru/cgi-bin/logout?next=1&Page=');try{i(0,encodeURIComponent("//"+window.location.host+"/?from=logout&ref=main"))}catch(t){_(t.message+"54")}i(0,'"><?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" height="16px" width="16px" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16">\n <g id="v3" fill-rule="evenodd" fill="none">\n  <g id="mail_with_exit" transform="translate(-415 -157)">\n   <g id="left-column" transform="translate(153 85)">\n    <g id="mail">\n     <g id="login_auth" transform="translate(0 56)">\n      <g id="header" transform="translate(20 12)">\n       <g id="exit" transform="translate(242 4)">\n        <rect id="BG" y="0" x="0" height="16" width="16"/>\n        <path id="P_Exit_16x16" fill="#A6A6A6" d="m16 11.489c0 1.768-1.599 2.568-1.599 2.568l-2.684 1.791s0 0.001-0.001 0.001c-0.361 0.195-0.799 0.186-1.151-0.025-0.353-0.211-0.568-0.591-0.567-1.002 0.001-0.097 0.001-0.155 0.001-0.155v-0.667h-2.999c-1.104 0-2-0.896-2-2v-2c0-0.552 0.448-1 1-1s1 0.448 1 1v1.403c0 0.329 0.267 0.597 0.597 0.597h2.402l0.001-3v-3.308c0-1.796 1.503-2.463 1.503-2.463l2.228-1.131c-0.094-0.062-0.207-0.098-0.328-0.098h-5.806c-0.33 0-0.597 0.268-0.597 0.597v1.403c0 0.552-0.448 1-1 1s-1-0.448-1-1v-2c0-1.104 0.896-2 2-2h7c1.104 0 2 0.896 2 2v9.489zm-15.693-5.211l1.986-1.985c0.39-0.39 1.024-0.39 1.414 0s0.39 1.024 0 1.414l-0.293 0.293h3.586c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3.586l0.293 0.293c0.39 0.39 0.39 1.024 0 1.414s-1.024 0.39-1.414 0l-1.986-1.985c-0.005-0.005-0.009-0.01-0.014-0.015-0.149-0.148-0.241-0.331-0.276-0.523v-0.001l-0.001-0.001v-0.003-0.001-0.001l-0.001-0.003v-0.001-0.002l-0.001-0.003v-0.001c-0.006-0.033-0.01-0.066-0.012-0.101v-0.002-0.003-0.001-0.002-0.003l-0.001-0.001v-0.001-0.002-0.001-0.002-0.001-0.002-0.001-0.002-0.002-0.001-0.001-0.002-0.002-0.002h-0.001l1.2317e-16 -0.002v-0.003-0.001-0.001-0.001-0.004-0.001-0.001-0.005-0.019-0.002-0.004-0.001-0.002-0.003-0.001-0.003-0.002-0.001-0.001-0.002-0.002-0.001l0.001-0.001v-0.003-0.001-0.001-0.002-0.003c0.002-0.059 0.01-0.117 0.022-0.172 0.039-0.181 0.129-0.353 0.27-0.493 0.005-0.005 0.009-0.01 0.014-0.015z"/>\n       </g>\n      </g>\n     </g>\n    </g>\n   </g>\n  </g>\n </g>\n</svg>\n</a><a class="mailbox__icon mailbox__icon_calendar i-pull-right i-link-no-deco" title="Календарь" href="https://calendar.mail.ru/?utm_source=main_login&amp;utm_medium=mainpage&amp;utm_campaign=main_logo" name="clb3996328"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,_(t.message)}o&&i(0,' target="_blank"'),i(0,'><svg width="14" height="15" viewBox="0 0 14 15" xmlns="http://www.w3.org/2000/svg"><path d="M12 15H2a2 2 0 0 1-2-2V3a2 2 0 0 1 1.999-2 1 1 0 0 1 2 0h6a1 1 0 0 1 2 0H12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2zM2.999 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm8 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>\n<span id="cal" class="i-relative i-color-white"></span></a><a class="mailbox__icon mailbox__icon_cloud i-pull-right" title="Облако" href="https://cloud.mail.ru/?utm_source=mainpage&amp;utm_medium=mainpage&amp;utm_campaign=иконки%20на%20главной" name="clb3996478"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,_(t.message)}o&&i(0,' target="_blank"'),i(0,'><svg width="16" height="12" viewBox="0 0 16 12" xmlns="http://www.w3.org/2000/svg"><path d="M12.285 11.796c-.76 0-1.53-.668-2.118-1.086-.509.754-1.504 1.29-2.44 1.29-.983 0-2.118-.39-2.677-1.374a2.162 2.162 0 0 1-1.907 1.17C1.407 11.796 0 10.294 0 8.44c0-1.36.892-2.318 1.983-2.844-.08-.254-.256-.737-.256-1.02 0-1.403 1.066-2.542 2.381-2.542.366 0 .843.233 1.153.39C5.854 1.077 7.003 0 8.489 0c2.022 0 3.923 1.476 3.317 4.328.028 0 .45-.464.48-.464 2.05 0 3.714 1.775 3.714 3.964-.001 2.192-1.664 3.968-3.715 3.968z" fill-rule="evenodd"/></svg>\n</a>');try{o=mr.switches.showVideocalls}catch(t){o=!1,_(t.message)}if(o){i(0,'<a class="mailbox__icon mailbox__icon_videocalls i-pull-right" href="https://calls.mail.ru/?fm=1" name="clb60718721"');try{o=mr.switches.videocallsTitle}catch(t){o=!1,_(t.message)}if(o){i(0,' title="');try{i(0,g(mr.switches.videocallsTitle))}catch(t){_(t.message+"85")}i(0,'"')}try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,_(t.message)}o&&i(0,' target="_blank"'),i(0,'><svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8 12H3C1.344 12 0 10.656 0 9V3C0 1.344 1.344 0 3 0H8C9.656 0 11 1.344 11 3V3.938L14.355 1.236C14.53 1.089 14.755 1 15 1C15.552 1 16 1.448 16 2V10C16 10.552 15.552 11 15 11C14.747 11 14.515 10.906 14.339 10.75L11 8.061V9C11 10.656 9.656 12 8 12ZM3 8C3.552 8 4 8.448 4 9C4 9.552 3.552 10 3 10C2.448 10 2 9.552 2 9C2 8.448 2.448 8 3 8Z" fill="#005FF9"/>\n</svg>\n\n');try{o=mr.data.promo&&mr.data.promo.showVideocallsPulsar}catch(t){o=!1,_(t.message)}o&&i(0,'<div class="pulsar"></div>'),i(0,"</a>")}i(0,'</div><div class="mailbox__body mailbox__body_loggedin"><div class="mailbox__dropdown-sticky-placeholder"><div id="mailbox:dropdown" class="o-dropdown__container mailbox__dropdown"><div id="mailbox:dropdown_triangle_button" class="mailbox__triangle_button i-pointer"><div id="mailbox:dropdown_triangle" class="triangle triangle__down mailbox__triangle_shape"><svg width="6" height="5" viewBox="0 0 6 5" xmlns="http://www.w3.org/2000/svg"><path d="M6 .833C6 .333 5.7 0 5.25 0H.75C.3 0 0 .333 0 .833c0 .25.075.417.225.584L2.4 4.667c.15.166.375.333.6.333.225 0 .45-.167.6-.417l2.25-3.25C5.925 1.167 6 1 6 .833z" fill-rule="evenodd"/></svg>\n</div></div><div id="mailbox:dropdown_button">'),a="dropdownButton",n={};try{n=t}catch(t){_(t.message)}(r=p[a])&&(e+=f(r,n,!1)),i(0,'</div><div id="mailbox:dropdown_container" class="o-dropdown mailbox__dropdown__container i-hide"><div id="mailbox:dropdown:scroll-container" class="mailbox__dropdown-scroll-container i-relative"><div id="mailbox:dropdown_accounts_menu" class="menu menu_media mailbox__dropdown__menu_media i-relative"></div></div><div id="mailbox:loginButton" class="mailbox__addbox__container"><a href="https://e.mail.ru/login?from=main&amp;rf=auth.mail.ru" class="btn btn_white i-width-100%" name="clb1510862" tabindex="9">Добавить почтовый ящик</a></div></div></div></div><div class="menu menu_iconized mailbox__menu"><a id="mailbox:unreadEmails:link" class="menu__item i-link-deco" href="//e.mail.ru/messages/inbox/"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,_(t.message)}o&&i(0,' target="_blank"'),i(0,">");try{u[0]=g(t.letterIcon)}catch(t){u[0]="",_(t.message)}i(0,'<span id="mailbox:letterIcon" class="icon '+u[0]+' menu__icon menu__icon_letter"></span><div id="mailbox:unreadEmails" class="i-relative i-link-deco menu__item_desc">');try{i(0,t.unreadMessages)}catch(t){_(t.message+"136")}i(0,'</div></a><a id="mailbox:write_letter" class="menu__item" href="https://e.mail.ru/compose/"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,_(t.message)}o&&i(0,' target="_blank"'),i(0,'><span class="icon icon_write menu__icon menu__icon_write"></span><div class="i-relative i-link-deco menu__item_desc">Написать письмо</div></a></div></div><a id="signup" class="mailbox__footer" href="https://e.mail.ru/signup?from=main&amp;rf=auth.mail.ru" tabindex="9" name="clb1797086"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,_(t.message)}return o&&i(0,' target="_blank"'),i(0,">Создать почту</a></div>"),e},p.loading=function(t){var e="";return e+='<div class="spinner mailbox__spinner"></div>'},p.whiteList=function(t){var e="";return e+='<div class="mailbox__authmessage i-font-md"><span style="color: #db130c">Переключение между аккаунтами не работает из-за блокировщика рекламы.</span> Добавьте Mail.ru в исключения вашего блокировщика.<br/><a href="https://help.mail.ru/mail-help/helpful/adblock" rel="nofollow">Подробнее</a></div><div class="mailbox__addbox__container"><a id="whiteLink" href="abp:subscribe?location=https://limg.imgsmail.ru/informers/whitelist/csp.txt" name="clb40064673" class="btn btn_blue i-width-100%" tabindex="10">Разблокировать Mail.ru</a></div>'},p.dropdown=function(t){var e="",a=function(t,a){e+=a};try{var i;t.accounts.length>1&&t.accounts.forEach((function(t){t.isSwitchableAccount=!t.active&&!t.socialId,t.isSwitchableAccount&&(i=!0)}))}catch(t){_(t.message)}try{o=i}catch(t){o=!1,_(t.message)}if(o){var s,r,n,c;try{n=(c=t.accounts||[]).length}catch(t){c=[],n=0,_(t.message)}for(s=0;s<n;s++){r=c[s];try{o=r.isSwitchableAccount}catch(t){o=!1,_(t.message)}if(o){a(0,'<div class="menu__item o-media mailbox__dropdown__menu_media_item">');try{u[0]=g(r.email)}catch(t){u[0]="",_(t.message)}a(0,'<div class="account__container" data-email="'+u[0]+'">');try{u[0]=g(r.avatar)}catch(t){u[0]="",_(t.message)}a(0,'<img class="o-media__img userpic menu__userpic" src="'+u[0]+'"/><div class="o-media__body menu__body"><div class="o-media__content mailbox__account-data mailbox__dropdown__content">');try{o=r.counters.mail}catch(t){o=!1,_(t.message)}if(o){a(0,'<div class="menu__badge mailbox__menu_badge"><i class="badge i-valign-middle">');try{a(0,r.totalUnread)}catch(t){_(t.message+"211")}a(0,"</i></div>")}a(0,'<div class="mailbox__account-content"><div class="i-color-black mailbox__account-name mailbox__account-name_dropdown i-fade-white">');try{a(0,r.fullName)}catch(t){_(t.message+"217")}a(0,'</div><div class="i-color-warm-grey i-fade-white mailbox__account-email">');try{a(0,r.email)}catch(t){_(t.message+"220")}a(0,"</div></div></div></div></div></div>")}}}else a(0,'<div class="mailbox__authmessage i-font-md">Вы можете одновременно работать\n\t\t\t\t\tс несколькими почтовыми ящиками.<br/><a href="https://r.mail.ru/clb1126001/mailblog.mail.ru/multiauth-2/" target="_blank" rel="nofollow">Узнать больше</a></div>');return e},s=m.length){for(i=0;i<s;i++)"string"==typeof(e=m[i])?h+=e:(r=p[e.name])&&(h+=f(r,e.params,e.cp));return h+d}return d},"mailbox/loggedOut":function(t){var e,a,o,i,s,r,n,c,l=this,d="",m=[],u=[],h="",p={},g=(fest_stdlib.core.short_tags,fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML);function _(t,e){d+=e}function f(t){c(t+'\nin block "" at line: \nfile: ')}function b(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(l,e)}fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,l&&"function"==typeof l.i18n&&l.i18n,c="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var y=t;p.mailboxLoggedOutHead=function(t){var e="",a=function(t,a){e+=a};a(0,'<div class="mailbox__head mailbox__step_first"><a id="mailbox:mailHeaderLink" name="clb31774563" href="');try{o=mr.switches.loginPageUrl}catch(t){o=!1,f(t.message)}if(o)try{a(0,mr.switches.loginPageUrl)}catch(t){f(t.message+"8")}else a(0,"//e.mail.ru/login?from=main");try{o=mr._.REFERRER}catch(t){o=!1,f(t.message)}if(o){a(0,"&rf=");try{a(0,g(mr._.REFERRER))}catch(t){f(t.message+"14")}}try{o=mr._.GP}catch(t){o=!1,f(t.message)}if(o){a(0,"&gp=");try{a(0,g(mr._.GP))}catch(t){f(t.message+"15")}}a(0,'"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,f(t.message)}o&&a(0,' target="_blank"'),a(0,'>Почта</a><a class="mailbox__icon mailbox__icon_calendar i-pull-right i-link-no-deco" title="Календарь" href="https://promo.calendar.mail.ru/" name="clb3996332"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,f(t.message)}o&&a(0,' target="_blank"'),a(0,'><svg width="14" height="15" viewBox="0 0 14 15" xmlns="http://www.w3.org/2000/svg"><path d="M12 15H2a2 2 0 0 1-2-2V3a2 2 0 0 1 1.999-2 1 1 0 0 1 2 0h6a1 1 0 0 1 2 0H12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2zM2.999 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm8 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>\n<span id="cal" class="i-relative i-color-white"></span></a><a class="mailbox__icon mailbox__icon_cloud i-pull-right" title="Облако" href="https://cloud.mail.ru/?utm_source=mainpage_promo&amp;utm_medium=mainpage_promo&amp;utm_campaign=иконки%20на%20главной/" name="clb3996485"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,f(t.message)}o&&a(0,' target="_blank"'),a(0,'><svg width="16" height="12" viewBox="0 0 16 12" xmlns="http://www.w3.org/2000/svg"><path d="M12.285 11.796c-.76 0-1.53-.668-2.118-1.086-.509.754-1.504 1.29-2.44 1.29-.983 0-2.118-.39-2.677-1.374a2.162 2.162 0 0 1-1.907 1.17C1.407 11.796 0 10.294 0 8.44c0-1.36.892-2.318 1.983-2.844-.08-.254-.256-.737-.256-1.02 0-1.403 1.066-2.542 2.381-2.542.366 0 .843.233 1.153.39C5.854 1.077 7.003 0 8.489 0c2.022 0 3.923 1.476 3.317 4.328.028 0 .45-.464.48-.464 2.05 0 3.714 1.775 3.714 3.964-.001 2.192-1.664 3.968-3.715 3.968z" fill-rule="evenodd"/></svg>\n</a>');try{o=mr.switches.showVideocalls}catch(t){o=!1,f(t.message)}if(o){a(0,'<a class="mailbox__icon mailbox__icon_videocalls i-pull-right" href="https://calls.mail.ru/?fm=1" name="clb60718721"');try{o=mr.switches.videocallsTitle}catch(t){o=!1,f(t.message)}if(o){a(0,' title="');try{a(0,g(mr.switches.videocallsTitle))}catch(t){f(t.message+"51")}a(0,'"')}try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,f(t.message)}o&&a(0,' target="_blank"'),a(0,'><svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8 12H3C1.344 12 0 10.656 0 9V3C0 1.344 1.344 0 3 0H8C9.656 0 11 1.344 11 3V3.938L14.355 1.236C14.53 1.089 14.755 1 15 1C15.552 1 16 1.448 16 2V10C16 10.552 15.552 11 15 11C14.747 11 14.515 10.906 14.339 10.75L11 8.061V9C11 10.656 9.656 12 8 12ZM3 8C3.552 8 4 8.448 4 9C4 9.552 3.552 10 3 10C2.448 10 2 9.552 2 9C2 8.448 2.448 8 3 8Z" fill="#005FF9"/>\n</svg>\n\n');try{o=mr.data.promo&&mr.data.promo.showVideocallsPulsar}catch(t){o=!1,f(t.message)}o&&a(0,'<div class="pulsar"></div>'),a(0,"</a>")}return a(0,"</div>"),e},p.mailboxLoggedOutHeadSecondStep=function(t){var e="";return e+='<div class="mailbox__head mailbox__step_second mailbox__second-step-back" id="mailbox:mailHeaderSecondStepBack"><div class="mailbox__icon mailbox__icon_back i-link-no-deco" name="clb36299771"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M3.304 7.281l3.04-3.039a1 1 0 0 1 1.414 1.414L6.414 7h5.637a1 1 0 0 1 0 2H6.414l1.344 1.344a1 1 0 0 1-1.414 1.414l-3.04-3.039-.011-.012a.997.997 0 0 1 0-1.414l.011-.012z"/>\n</svg>\n</div><div id="mailbox:mailHeaderSecondStepEmail" class="mailbox__head__email" name="clb36299772"></div></div>'},p.mailboxLoggedOutSaveRow=function(t){var e="",a=function(t,a){e+=a};try{u[0]=g(mr.switches.twoStepAuth?"":" mailbox__row_extended")}catch(t){u[0]="",f(t.message)}a(0,'<div id="save:row" class="mailbox__row'+u[0]+' i-clearfix">');try{u[0]=g(mr.switches.twoStepAuth?" mailbox__control_left":"")}catch(t){u[0]="",f(t.message)}a(0,'<label class="mailbox__control mailbox__control_saveauth'+u[0]+' i-font-md i-color-black" for="mailbox:saveauth" tabindex="25"><input class="mailbox__saveauth" id="mailbox:saveauth" type="checkbox" name="saveauth"');try{o=y.saveauth}catch(t){o=!1,f(t.message)}o&&a(0,' checked="checked"'),a(0,"/>&nbsp;Запомнить</label>");try{u[0]=g(mr.switches.twoStepAuth?" mailbox__restore_right":"")}catch(t){u[0]="",f(t.message)}try{u[1]=g(mr._.AUTH||y.login?"615215":"615191")}catch(t){u[1]="",f(t.message)}a(0,'<a id="restore" class="mailbox__restore'+u[0]+' i-font-md i-color-black" href="https://e.mail.ru/password/restore/" tabindex="26" name="clb'+u[1]+'"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,f(t.message)}return o&&a(0,' target="_blank"'),a(0,">Забыли пароль?</a></div>"),e},p.mailboxLoggedOutLoginRow=function(t){var e,a,i,s,r="",n=function(t,e){r+=e};n(0,'<div class="mailbox__row mailbox__step_first"><div class="mailbox__select"><div id="mailbox:select_container" class="select mailbox__select-element i-no-left-radius mailbox__rwd-control"><div id="mailbox:select" class="mailbox__select-element_text i-fade-white mailbox_fade i-color-black">');try{n(0,g("@"+y.domain))}catch(t){f(t.message+"108")}n(0,'</div><svg width="6" height="5" viewBox="0 0 6 5" xmlns="http://www.w3.org/2000/svg"><path d="M6 .833C6 .333 5.7 0 5.25 0H.75C.3 0 0 .333 0 .833c0 .25.075.417.225.584L2.4 4.667c.15.166.375.333.6.333.225 0 .45-.167.6-.417l2.25-3.25C5.925 1.167 6 1 6 .833z" fill-rule="evenodd"/></svg>\n</div><select id="mailbox:domain" class="o-control" name="domain" tabindex="22">');try{i=(s=y.domainList||[]).length}catch(t){s=[],i=0,f(t.message)}for(e=0;e<i;e++){a=s[e],n(0,"<option");try{o=y.selected===e}catch(t){o=!1,f(t.message)}o&&n(0,' selected="selected"'),n(0,">");try{n(0,g("@"+a))}catch(t){f(t.message+"120")}n(0,"</option>")}n(0,'</select></div><div id="mailbox:loginContainer" class="mailbox__login">');try{u[0]=g(y.login)}catch(t){u[0]="",f(t.message)}return n(0,'<input id="mailbox:login" class="input i-no-right-radius i-width-100% mailbox__rwd-control" type="text" name="login" value="'+u[0]+'" tabindex="21" placeholder="Имя ящика"/></div></div>'),r},p.mailboxLoggedOutSubmitRow=function(t){var e="",a=function(t,a){e+=a};try{u[0]=g(mr.switches.twoStepAuth?"":"condensed")}catch(t){u[0]="",f(t.message)}a(0,'<div class="mailbox__row mailbox__row_'+u[0]+' i-clearfix">');try{u[0]=g(mr.switches.twoStepAuth?"mailbox__control_twostep":"")}catch(t){u[0]="",f(t.message)}a(0,'<label id="mailbox:submit" class="btn btn_blue mailbox__control '+u[0]+' mailbox__rwd-control" tabindex="24">');try{var i=mr.switches.twoStepAuth?"Ввести пароль":"Войти"}catch(t){f(t.message)}try{a(0,g(i))}catch(t){f(t.message+"137")}try{o=mr.switches.twoStepAuth}catch(t){o=!1,f(t.message)}o&&a(0,'<i class="mailbox__icon mailbox__icon_next"><svg height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m12.696 7.256-3.039-3.039a1 1 0 0 0 -1.415 1.414l1.344 1.344h-5.637a1.001 1.001 0 0 0 0 2h5.637l-1.344 1.343a1.002 1.002 0 0 0 0 1.415c.391.39 1.024.39 1.415 0l3.039-3.04a.993.993 0 0 0 .304-.718.997.997 0 0 0 -.293-.708z" fill-rule="evenodd"/></svg></i>');try{u[0]=g(i)}catch(t){u[0]="",f(t.message)}a(0,'<input class="o-control" type="submit" value="'+u[0]+'"/></label>');try{o=!mr.switches.twoStepAuth}catch(t){o=!1,f(t.message)}return o&&a(0,'<div class="mailbox__input__container"><input id="mailbox:password" class="input mailbox__input mailbox__input_password mailbox__rwd-control" type="password" name="password" tabindex="23" placeholder="Пароль"/></div>'),a(0,"</div>"),e},_(0,'<form id="auth" method="POST" action="//auth.mail.ru/cgi-bin/auth?from=splash" target="_top" class="well mailbox m-bordered m-bordered-square-top');try{o=mr.switches.isAtlas}catch(t){o=!1,f(t.message)}o&&_(0," mailbox_atlas"),_(0,'">'),a="mailboxLoggedOutHead",n={};try{n=y}catch(t){f(t.message)}m.push(d,{name:a,params:n,cp:!1}),d="";try{o=mr.switches.twoStepAuth}catch(t){o=!1,f(t.message)}if(o){a="mailboxLoggedOutHeadSecondStep",n={};try{n=y}catch(t){f(t.message)}m.push(d,{name:a,params:n,cp:!1}),d=""}_(0,'<div class="mailbox__body">'),a="mailboxLoggedOutLoginRow",n={};try{n=y}catch(t){f(t.message)}m.push(d,{name:a,params:n,cp:!1}),d="";try{o=!mr.switches.twoStepAuth}catch(t){o=!1,f(t.message)}if(o){a="mailboxLoggedOutSubmitRow",n={};try{n=y}catch(t){f(t.message)}m.push(d,{name:a,params:n,cp:!1}),d=""}try{o=mr.switches.twoStepAuth}catch(t){o=!1,f(t.message)}o&&_(0,'<div class="mailbox__row mailbox__input__container mailbox__input__container_fullwidth i-clearfix mailbox__step_second"><input id="mailbox:password" class="input mailbox__input mailbox__input_password mailbox__input_with-right mailbox__rwd-control" type="password" name="password" tabindex="23" placeholder="Пароль"/><a id="mailbox:smsLoginLink" target="_blank" class="mailbox__sms-login-link i-hide" name="clb36299926">Войти по СМС</a></div>'),_(0,'<div id="mailbox:error" class="mailbox__row mailbox__row_condensed i-hide i-font-md i-color-coral"></div>');try{o=mr.switches.twoStepAuth}catch(t){o=!1,f(t.message)}if(o){a="mailboxLoggedOutSubmitRow",n={};try{n=y}catch(t){f(t.message)}m.push(d,{name:a,params:n,cp:!1}),d=""}a="mailboxLoggedOutSaveRow",n={};try{n=y}catch(t){f(t.message)}m.push(d,{name:a,params:n,cp:!1}),d="",_(0,'</div><a id="signup" class="mailbox__footer" href="https://e.mail.ru/signup?from=main&amp;rf=auth.mail.ru" tabindex="27" name="clb1797086"');try{o=mr.switches.openMailLinksBlank}catch(t){o=!1,f(t.message)}if(o&&_(0,' target="_blank"'),_(0,'>Создать почту</a><div class="mailbox__sticky-login i-valign-middle"><span id="sticky-login-link" class="btn btn_darkgray mailbox__sticky-login-link" name="clb30493042">Войти<span class="mailbox__sticky-login-full-text"> в Почту</span></span></div></form>'),s=m.length){for(i=0;i<s;i++)"string"==typeof(e=m[i])?h+=e:(r=p[e.name])&&(h+=b(r,e.params,e.cp));return h+d}return d},tutorial:function(t){var e,a,o,i,s,r,n,c,l=this,d="",m=[],u=[],h="",p={},g=(fest_stdlib.core.short_tags,fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML);function _(t,e){d+=e}function f(t){c(t+'\nin block "" at line: \nfile: ')}function b(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(l,e)}fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,l&&"function"==typeof l.i18n&&l.i18n,c="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var y,v,w,x,k=t;p.item=function(t){var e="",a=function(t,a){e+=a};a(0,'<div class="tutorial__content"><span class="tutorial__content__image">');try{u[0]=g(t.icon)}catch(t){u[0]="",f(t.message)}try{u[1]=g(t.iconWillAnimate?"?_="+$.util.rnd():"")}catch(t){u[1]="",f(t.message)}a(0,'<img src="'+u[0]+u[1]+'"');try{o=t.icon_2x}catch(t){o=!1,f(t.message)}if(o){a(0,' srcset="');try{a(0,g(t.icon))}catch(t){f(t.message+"7")}a(0,", ");try{a(0,g(t.icon_2x))}catch(t){f(t.message+"7")}a(0,' 2x"')}a(0,"/>");try{o=t.bubble}catch(t){o=!1,f(t.message)}if(o){a(0,'<span class="tutorial__content__bubble" style="');try{o=t.bubbleBg}catch(t){o=!1,f(t.message)}if(o){a(0,"background-color:");try{a(0,g(t.bubbleBg))}catch(t){f(t.message+"16")}a(0,";")}try{o=t.bubbleColor}catch(t){o=!1,f(t.message)}if(o){a(0,"color:");try{a(0,g(t.bubbleColor))}catch(t){f(t.message+"19")}a(0,";")}a(0,'"><?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 14">\n <path fill-rule="evenodd" d="m14.995 10.414v9.576c0 0.552-0.446 0.999-0.997 0.999s-0.998-0.447-0.998-0.999v-9.563l-2.292 2.298c-0.391 0.391-1.0244 0.391-1.415 0-0.3907-0.391-0.3907-1.026 0-1.417l3.918-3.9227c0.025-0.0318 0.052-0.0625 0.081-0.0918l-0.001 0.001c0.187-0.1885 0.442-0.2945 0.707-0.2945h0.011c0.265 0 0.52 0.106 0.707 0.2945v-0.001c0.031 0.0307 0.059 0.0629 0.085 0.0963l3.913 3.9182c0.253 0.253 0.352 0.622 0.259 0.968-0.092 0.346-0.362 0.616-0.707 0.708-0.345 0.093-0.714-0.006-0.966-0.259l-2.305-2.311z" transform="rotate(180 9.504 10.495)" fill="currentColor"/>\n</svg>\n</span>')}a(0,'</span><span class="tutorial__content__text" style="');try{o=t.textColor}catch(t){o=!1,f(t.message)}if(o){a(0,"color:");try{a(0,g(t.textColor))}catch(t){f(t.message+"32")}}a(0,'">');try{a(0,t.text)}catch(t){f(t.message+"36")}try{o=t.subtext}catch(t){o=!1,f(t.message)}if(o){a(0,'<span class="tutorial__content__subtext" style="');try{o=t.subtextColor}catch(t){o=!1,f(t.message)}if(o){a(0,"color:");try{a(0,g(t.subtextColor))}catch(t){f(t.message+"42")}}a(0,'">');try{a(0,t.subtext)}catch(t){f(t.message+"46")}a(0,"</span>")}return a(0,"</span></div>"),e};try{u[0]=g(k.type)}catch(t){u[0]="",f(t.message)}try{u[1]=g(k.where)}catch(t){u[1]="",f(t.message)}try{u[2]=g(k.showType)}catch(t){u[2]="",f(t.message)}try{u[3]=g(k.name)}catch(t){u[3]="",f(t.message)}_(0,'<div class="tutorial tutorial_'+u[0]+" tutorial_from"+u[1]+" tutorial_"+u[2]+'" id="tutorial-'+u[3]+'">');try{o="pulsar"===k.showType||"all"===k.showType}catch(t){o=!1,f(t.message)}o&&_(0,'<div class="tutorial__pulsar"><svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M4.992 3.58L7.774.8a.999.999 0 1 1 1.414 1.414L6.406 4.995 9.2 7.787c.39.391.39 1.024 0 1.415-.391.39-1.024.39-1.415 0L4.992 6.409 2.216 9.185c-.391.39-1.024.39-1.415 0a1.002 1.002 0 0 1 0-1.415l2.776-2.775L.806 2.223A.999.999 0 1 1 2.22.809L4.992 3.58z" fill-rule="evenodd"/></svg>\n</div>'),_(0,'<div class="tutorial__popup m-shadow" style="');try{o=k.bgColor}catch(t){o=!1,f(t.message)}if(o){_(0,"background-color:");try{_(0,g(k.bgColor))}catch(t){f(t.message+"63")}}_(0,'"><a href="javascript:void(0)" class="tutorial__close" data-role="close" style="');try{o=k.closeColor}catch(t){o=!1,f(t.message)}if(o){_(0,"color:");try{_(0,g(k.closeColor))}catch(t){f(t.message+"71")}}_(0,'"><svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M4.992 3.58L7.774.8a.999.999 0 1 1 1.414 1.414L6.406 4.995 9.2 7.787c.39.391.39 1.024 0 1.415-.391.39-1.024.39-1.415 0L4.992 6.409 2.216 9.185c-.391.39-1.024.39-1.415 0a1.002 1.002 0 0 1 0-1.415l2.776-2.775L.806 2.223A.999.999 0 1 1 2.22.809L4.992 3.58z" fill-rule="evenodd"/></svg>\n</a>');try{o=k.title}catch(t){o=!1,f(t.message)}if(o){_(0,'<div class="tutorial__title">');try{_(0,k.title)}catch(t){f(t.message+"78")}_(0,"</div>")}try{w=(x=k.blocks||[]).length}catch(t){x=[],w=0,f(t.message)}for(y=0;y<w;y++){v=x[y],a="item",n={};try{n=v}catch(t){f(t.message)}m.push(d,{name:a,params:n,cp:!1}),d=""}try{o=!k.blocks}catch(t){o=!1,f(t.message)}if(o){a="item",n={};try{n=k}catch(t){f(t.message)}m.push(d,{name:a,params:n,cp:!1}),d=""}try{o=k.button}catch(t){o=!1,f(t.message)}if(o){_(0,'<div class="tutorial__button"><span class="btn btn_blue">');try{_(0,g(k.button.title))}catch(t){f(t.message+"89")}_(0,"</span></div>")}if(_(0,"</div></div>"),s=m.length){for(i=0;i<s;i++)"string"==typeof(e=m[i])?h+=e:(r=p[e.name])&&(h+=b(r,e.params,e.cp));return h+d}return d},extension:function(t){var e,a,o,i,s,r,n=this,c=[],l="",d={};function m(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(n,e)}fest_stdlib.core.short_tags,fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML,fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,n&&"function"==typeof n.i18n&&n.i18n,s="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;try{mr.mimic.locator.transform}catch(t){r=t.message,s(r+'\nin block "" at line: \nfile: ')}if(o=c.length){for(a=0;a<o;a++)"string"==typeof(e=c[a])?l+=e:(i=d[e.name])&&(l+=m(i,e.params,e.cp));return l+""}return""},"extension/bubble-home":function(t){var e,a,o,i,s,r,n,c,l=this,d="",m=[],u=[],h="",p={},g=[],_=fest_stdlib.core.short_tags,f=(fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML);function b(t){c(t+'\nin block "" at line: \nfile: ')}function y(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(l,e)}fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,l&&"function"==typeof l.i18n&&l.i18n,c="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var v=t;try{var w={blockName:"bubble-home",data:v}}catch(t){b(t.message)}!function(t){try{var e=mr.mimic.locator.transform}catch(t){b(t.message)}p.bubble=function(t){var o="",i=function(t,e){o+=e};try{u[0]=f(e(t.blockName))}catch(t){u[0]="",b(t.message)}i(0,'<div id="'+u[0]+'" class="');try{i(0,f(e("bubble "+t.blockName+" "+t.blockName+"_"+t.data.style)))}catch(t){b(t.message+"11")}try{a=!t.data.onlyButtonClick}catch(t){a=!1,b(t.message)}a&&i(0," i-pointer"),i(0,'">');try{u[0]=f(e("bubble__content "+t.blockName+"__content i-absolute"))}catch(t){u[0]="",b(t.message)}i(0,'<div class="'+u[0]+'"');try{a=t.data.bg||t.data.bgImage}catch(t){a=!1,b(t.message)}if(a){i(0,' style="');try{a=t.data.bg}catch(t){a=!1,b(t.message)}if(a){i(0,"background-color:");try{i(0,f(t.data.bg))}catch(t){b(t.message+"22")}i(0,";")}try{a=t.data.bgImage}catch(t){a=!1,b(t.message)}if(a){i(0,"background-image: url(");try{i(0,f(t.data.bgImage))}catch(t){b(t.message+"25")}i(0,");")}i(0,'"')}i(0,">");try{u[0]=f(e(t.blockName+"-close"))}catch(t){u[0]="",b(t.message)}try{u[1]=f(e("bubble__close "+t.blockName+"__close")+" i-pointer")}catch(t){u[1]="",b(t.message)}i(0,'<span id="'+u[0]+'" class="'+u[1]+'"');try{a=t.data.close&&t.data.close.closeColor}catch(t){a=!1,b(t.message)}if(a){i(0,' style="color:');try{i(0,f(t.data.close.closeColor))}catch(t){b(t.message+"34")}i(0,';"')}i(0,'><svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M4.992 3.58L7.774.8a.999.999 0 1 1 1.414 1.414L6.406 4.995 9.2 7.787c.39.391.39 1.024 0 1.415-.391.39-1.024.39-1.415 0L4.992 6.409 2.216 9.185c-.391.39-1.024.39-1.415 0a1.002 1.002 0 0 1 0-1.415l2.776-2.775L.806 2.223A.999.999 0 1 1 2.22.809L4.992 3.58z" fill-rule="evenodd"/></svg>\n</span><div class="o-media"');try{a=!(t.data&&t.data.onlyButtonClick)}catch(t){a=!1,b(t.message)}if(a){i(0,' id="');try{i(0,f(e(t.blockName+"-install")))}catch(t){b(t.message+"47")}i(0,'"')}i(0,">");try{a=t.data.img}catch(t){a=!1,b(t.message)}if(a){try{u[0]=f(e("o-media__img bubble__img "+t.blockName+"__img i-relative"))}catch(t){u[0]="",b(t.message)}i(0,'<span class="'+u[0]+'">');try{u[0]=f(t.data.img)}catch(t){u[0]="",b(t.message)}try{u[1]=f(t.data.imgWidth)}catch(t){u[1]="",b(t.message)}try{u[2]=f(t.data.imgHeight)}catch(t){u[2]="",b(t.message)}i(0,'<img src="'+u[0]+'" width="'+u[1]+'" height="'+u[2]+'"');try{a=t.data.img_2x}catch(t){a=!1,b(t.message)}if(a){i(0,' srcset="');try{i(0,f(t.data.img))}catch(t){b(t.message+"56")}i(0,", ");try{i(0,f(t.data.img_2x))}catch(t){b(t.message+"56")}i(0,' 2x"')}i(0,"/></span>")}try{u[0]=f(e("o-media__body bubble__body "+t.blockName+"__body"))}catch(t){u[0]="",b(t.message)}i(0,'<div class="'+u[0]+'">');try{u[0]=f(e("bubble__title "+t.blockName+"__title"))}catch(t){u[0]="",b(t.message)}i(0,'<div class="'+u[0]+'"');try{a=t.data.titleColor}catch(t){a=!1,b(t.message)}if(a){i(0,' style="color:');try{i(0,f(t.data.titleColor))}catch(t){b(t.message+"67")}i(0,';"')}i(0,">");try{i(0,t.data.title)}catch(t){b(t.message+"71")}try{a=t.data.logo}catch(t){a=!1,b(t.message)}if(a){try{u[0]=f(e(t.blockName+"__logo"))}catch(t){u[0]="",b(t.message)}i(0,'<span class="'+u[0]+'">');try{u[0]=f(t.data.logo)}catch(t){u[0]="",b(t.message)}try{u[1]=f(t.data.logoWidth)}catch(t){u[1]="",b(t.message)}try{u[2]=f(t.data.logoHeight)}catch(t){u[2]="",b(t.message)}i(0,'<img src="'+u[0]+'" width="'+u[1]+'" height="'+u[2]+'"');try{a=t.data.logo_2x}catch(t){a=!1,b(t.message)}if(a){i(0,' srcset="');try{i(0,f(t.data.logo))}catch(t){b(t.message+"77")}i(0,", ");try{i(0,f(t.data.logo_2x))}catch(t){b(t.message+"77")}i(0,' 2x"')}i(0,"/></span>")}try{a=t.data.titleTail}catch(t){a=!1,b(t.message)}if(a)try{i(0,t.data.titleTail)}catch(t){b(t.message+"84")}i(0,"</div>");try{a=t.data.text}catch(t){a=!1,b(t.message)}if(a){try{u[0]=f(e("bubble__text "+t.blockName+"__text"))}catch(t){u[0]="",b(t.message)}i(0,'<div class="'+u[0]+'"');try{a=t.data.textColor}catch(t){a=!1,b(t.message)}if(a){i(0,' style="color:');try{i(0,f(t.data.textColor))}catch(t){b(t.message+"92")}i(0,';"')}i(0,">");try{i(0,t.data.text)}catch(t){b(t.message+"96")}i(0,"</div>")}try{"string"!=typeof(n=t.data&&t.data.onlyButtonClick?"a":"span")&&(b("Element name must be a string"),n="div")}catch(t){n="div",b(t.message)}g.push(n),i(0,"<"+n),i(0,' class="');try{i(0,f(e("btn btn_blue")+" "+e(t.blockName+"__btn")))}catch(t){b(t.message+"102")}i(0,'"');try{a=t.data.url&&t.data&&t.data.onlyButtonClick}catch(t){a=!1,b(t.message)}if(a){i(0,' href="');try{i(0,f(t.data.url))}catch(t){b(t.message+"106")}i(0,'"')}i(0,' id="');try{i(0,f(e(t.blockName+"-install")))}catch(t){b(t.message+"110")}i(0,'" name="clb');try{i(0,f(t.data.success))}catch(t){b(t.message+"113")}i(0,'"');try{a=t.data.btnBg||t.data.btnColor||t.data.btnBorder}catch(t){a=!1,b(t.message)}if(a){i(0,' style="');try{a=t.data.btnBg}catch(t){a=!1,b(t.message)}if(a){i(0,"background-color:");try{i(0,f(t.data.btnBg))}catch(t){b(t.message+"118")}i(0,";")}try{a=t.data.btnColor}catch(t){a=!1,b(t.message)}if(a){i(0,"color:");try{i(0,f(t.data.btnColor))}catch(t){b(t.message+"121")}i(0,";")}try{a=t.data.btnBorder}catch(t){a=!1,b(t.message)}if(a){i(0,"border-color:");try{i(0,f(t.data.btnBorder))}catch(t){b(t.message+"124")}i(0,";")}i(0,'"')}i(0,(n=g[g.length-1])in _?"/>":">");try{i(0,f(t.data.btnText))}catch(t){b(t.message+"130")}return(n=g[g.length-1])in _||i(0,"</"+n+">"),g.pop(),i(0,"</div></div></div></div>"),o}}(),r={};try{r=w}catch(t){b(t.message)}if(m.push(d,{name:"bubble",params:r,cp:!1}),d="",i=m.length){for(o=0;o<i;o++)"string"==typeof(e=m[o])?h+=e:(s=p[e.name])&&(h+=y(s,e.params,e.cp));return h+d}return d},"extension/bubble-fullscreen":function(t){var e,a,o,i,s,r,n,c,l=this,d="",m=[],u=[],h="",p={},g=[],_=fest_stdlib.core.short_tags,f=(fest_stdlib.core.jschars,fest_stdlib.core.jschars_test,fest_stdlib.core.htmlchars,fest_stdlib.core.htmlchars_test,fest_stdlib.core.jshash,fest_stdlib.core.htmlhash,fest_stdlib.core.escapeJS,fest_stdlib.core.replaceJS,fest_stdlib.core.escapeHTML);function b(t){c(t+'\nin block "" at line: \nfile: ')}function y(t,e,a){if(a)for(var o in e)"function"==typeof e[o]&&e[o].param&&(e[o]=e[o]());return t.call(l,e)}fest_stdlib.core.replaceHTML,fest_stdlib.core.extend,fest_stdlib.core.param,l&&"function"==typeof l.i18n&&l.i18n,c="undefined"==typeof __fest_error?"undefined"!=typeof console&&console.error?function(){return Function.prototype.apply.call(console.error,console,arguments)}:function(){}:__fest_error;var v=t;try{var w={blockName:"bubble-fullscreen",data:v}}catch(t){b(t.message)}!function(t){try{var e=mr.mimic.locator.transform}catch(t){b(t.message)}p.bubble=function(t){var o="",i=function(t,e){o+=e};try{u[0]=f(e(t.blockName))}catch(t){u[0]="",b(t.message)}i(0,'<div id="'+u[0]+'" class="');try{i(0,f(e("bubble "+t.blockName+" "+t.blockName+"_"+t.data.style)))}catch(t){b(t.message+"11")}try{a=!t.data.onlyButtonClick}catch(t){a=!1,b(t.message)}a&&i(0," i-pointer"),i(0,'">');try{u[0]=f(e("bubble__content "+t.blockName+"__content i-absolute"))}catch(t){u[0]="",b(t.message)}i(0,'<div class="'+u[0]+'"');try{a=t.data.bg||t.data.bgImage}catch(t){a=!1,b(t.message)}if(a){i(0,' style="');try{a=t.data.bg}catch(t){a=!1,b(t.message)}if(a){i(0,"background-color:");try{i(0,f(t.data.bg))}catch(t){b(t.message+"22")}i(0,";")}try{a=t.data.bgImage}catch(t){a=!1,b(t.message)}if(a){i(0,"background-image: url(");try{i(0,f(t.data.bgImage))}catch(t){b(t.message+"25")}i(0,");")}i(0,'"')}i(0,">");try{u[0]=f(e(t.blockName+"-close"))}catch(t){u[0]="",b(t.message)}try{u[1]=f(e("bubble__close "+t.blockName+"__close")+" i-pointer")}catch(t){u[1]="",b(t.message)}i(0,'<span id="'+u[0]+'" class="'+u[1]+'"');try{a=t.data.close&&t.data.close.closeColor}catch(t){a=!1,b(t.message)}if(a){i(0,' style="color:');try{i(0,f(t.data.close.closeColor))}catch(t){b(t.message+"34")}i(0,';"')}i(0,'><svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M4.992 3.58L7.774.8a.999.999 0 1 1 1.414 1.414L6.406 4.995 9.2 7.787c.39.391.39 1.024 0 1.415-.391.39-1.024.39-1.415 0L4.992 6.409 2.216 9.185c-.391.39-1.024.39-1.415 0a1.002 1.002 0 0 1 0-1.415l2.776-2.775L.806 2.223A.999.999 0 1 1 2.22.809L4.992 3.58z" fill-rule="evenodd"/></svg>\n</span><div class="o-media"');try{a=!(t.data&&t.data.onlyButtonClick)}catch(t){a=!1,b(t.message)}if(a){i(0,' id="');try{i(0,f(e(t.blockName+"-install")))}catch(t){b(t.message+"47")}i(0,'"')}i(0,">");try{a=t.data.img}catch(t){a=!1,b(t.message)}if(a){try{u[0]=f(e("o-media__img bubble__img "+t.blockName+"__img i-relative"))}catch(t){u[0]="",b(t.message)}i(0,'<span class="'+u[0]+'">');try{u[0]=f(t.data.img)}catch(t){u[0]="",b(t.message)}try{u[1]=f(t.data.imgWidth)}catch(t){u[1]="",b(t.message)}try{u[2]=f(t.data.imgHeight)}catch(t){u[2]="",b(t.message)}i(0,'<img src="'+u[0]+'" width="'+u[1]+'" height="'+u[2]+'"');try{a=t.data.img_2x}catch(t){a=!1,b(t.message)}if(a){i(0,' srcset="');try{i(0,f(t.data.img))}catch(t){b(t.message+"56")}i(0,", ");try{i(0,f(t.data.img_2x))}catch(t){b(t.message+"56")}i(0,' 2x"')}i(0,"/></span>")}try{u[0]=f(e("o-media__body bubble__body "+t.blockName+"__body"))}catch(t){u[0]="",b(t.message)}i(0,'<div class="'+u[0]+'">');try{u[0]=f(e("bubble__title "+t.blockName+"__title"))}catch(t){u[0]="",b(t.message)}i(0,'<div class="'+u[0]+'"');try{a=t.data.titleColor}catch(t){a=!1,b(t.message)}if(a){i(0,' style="color:');try{i(0,f(t.data.titleColor))}catch(t){b(t.message+"67")}i(0,';"')}i(0,">");try{i(0,t.data.title)}catch(t){b(t.message+"71")}try{a=t.data.logo}catch(t){a=!1,b(t.message)}if(a){try{u[0]=f(e(t.blockName+"__logo"))}catch(t){u[0]="",b(t.message)}i(0,'<span class="'+u[0]+'">');try{u[0]=f(t.data.logo)}catch(t){u[0]="",b(t.message)}try{u[1]=f(t.data.logoWidth)}catch(t){u[1]="",b(t.message)}try{u[2]=f(t.data.logoHeight)}catch(t){u[2]="",b(t.message)}i(0,'<img src="'+u[0]+'" width="'+u[1]+'" height="'+u[2]+'"');try{a=t.data.logo_2x}catch(t){a=!1,b(t.message)}if(a){i(0,' srcset="');try{i(0,f(t.data.logo))}catch(t){b(t.message+"77")}i(0,", ");try{i(0,f(t.data.logo_2x))}catch(t){b(t.message+"77")}i(0,' 2x"')}i(0,"/></span>")}try{a=t.data.titleTail}catch(t){a=!1,b(t.message)}if(a)try{i(0,t.data.titleTail)}catch(t){b(t.message+"84")}i(0,"</div>");try{a=t.data.text}catch(t){a=!1,b(t.message)}if(a){try{u[0]=f(e("bubble__text "+t.blockName+"__text"))}catch(t){u[0]="",b(t.message)}i(0,'<div class="'+u[0]+'"');try{a=t.data.textColor}catch(t){a=!1,b(t.message)}if(a){i(0,' style="color:');try{i(0,f(t.data.textColor))}catch(t){b(t.message+"92")}i(0,';"')}i(0,">");try{i(0,t.data.text)}catch(t){b(t.message+"96")}i(0,"</div>")}try{"string"!=typeof(n=t.data&&t.data.onlyButtonClick?"a":"span")&&(b("Element name must be a string"),n="div")}catch(t){n="div",b(t.message)}g.push(n),i(0,"<"+n),i(0,' class="');try{i(0,f(e("btn btn_blue")+" "+e(t.blockName+"__btn")))}catch(t){b(t.message+"102")}i(0,'"');try{a=t.data.url&&t.data&&t.data.onlyButtonClick}catch(t){a=!1,b(t.message)}if(a){i(0,' href="');try{i(0,f(t.data.url))}catch(t){b(t.message+"106")}i(0,'"')}i(0,' id="');try{i(0,f(e(t.blockName+"-install")))}catch(t){b(t.message+"110")}i(0,'" name="clb');try{i(0,f(t.data.success))}catch(t){b(t.message+"113")}i(0,'"');try{a=t.data.btnBg||t.data.btnColor||t.data.btnBorder}catch(t){a=!1,b(t.message)}if(a){i(0,' style="');try{a=t.data.btnBg}catch(t){a=!1,b(t.message)}if(a){i(0,"background-color:");try{i(0,f(t.data.btnBg))}catch(t){b(t.message+"118")}i(0,";")}try{a=t.data.btnColor}catch(t){a=!1,b(t.message)}if(a){i(0,"color:");try{i(0,f(t.data.btnColor))}catch(t){b(t.message+"121")}i(0,";")}try{a=t.data.btnBorder}catch(t){a=!1,b(t.message)}if(a){i(0,"border-color:");try{i(0,f(t.data.btnBorder))}catch(t){b(t.message+"124")}i(0,";")}i(0,'"')}i(0,(n=g[g.length-1])in _?"/>":">");try{i(0,f(t.data.btnText))}catch(t){b(t.message+"130")}return(n=g[g.length-1])in _||i(0,"</"+n+">"),g.pop(),i(0,"</div></div></div></div>"),o}}(),r={};try{r=w}catch(t){b(t.message)}if(m.push(d,{name:"bubble",params:r,cp:!1}),d="",i=m.length){for(o=0;o<i;o++)"string"==typeof(e=m[o])?h+=e:(s=p[e.name])&&(h+=y(s,e.params,e.cp));return h+d}return d}},e=$.dom,a=$.util,o=$.Emitter,i=(e.id,e.replaceWithHtml),s=(e.killElement,a.toArray,a.throttle,a.rnd),r=(a.extend,a.openInNewTab),n=mr.mimic.locator,c=function(){var t,e,a,l=document.body,d={get extensionTarget(){return t}};o.apply(d);var m=function(){var t=e.buttons.close,a=t.id,o=t.period,i=t.type;a&&o&&i&&((new Image).src="//rs.mail.ru/ux?id="+a+"&period="+o+"&type="+i+"&_="+s()),c.element.classList.remove("i-block"),c.element.classList.add("i-hide"),mr.Block.waitFor("grid").then((function(t){t.el.classList.contains("grid_slidotype-close")&&t.el.classList.remove("grid_slidotype-close")})),l.classList.remove("is-toolbar"),d.emit("close")},u=function(o){var s;a=!0,e=o,c.element=__element=i(c.element||$$PHEL,(tutti.tpl.toolbar||mr.tpl.toolbar)(e)),t=__element,l.classList.add("is-toolbar"),(s=c.element.querySelector(n.selector(".toolbar__close")))&&(s.addEventListener("mousedown",(function(t){t.stopPropagation(),t.preventDefault()})),s.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),mr.counter("clb"+e.buttons.close.counter),m()}))),c.element.addEventListener("click",(function(){m(),mr.counter("clb"+e.id),e.url&&!e.extension&&r(e.url)}))};return d.element=null,d.render=function(t,e){t&&!a&&(u(t),mr.counter("d"+t.id),mr.Block.waitFor("ad").then((function(){mr._.STUCK_IN_POT&&(u(t),n.wrap([".toolbar"],c.element.parentNode))})))},d},l=($.util,mr.mimic),d=(mr.ph,mr.switches),m=(l.locator,l.tools,function(t){function e(){t.apply(this,arguments),this.name="headline",this.isDefaultMsg=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.init=function(){var t=this;d.adblockWarning&&/authmenu/.test(d.adblockWarning)&&__PH.loadAccountsList((function(e){var a=e.status;t.switchMessageToAdblock(mr._.STUCK_IN_POT&&/timeout|error/.test(a))}))},e.prototype.insertAdblockMsg=function(t){this.adblockMsg=document.createElement("div"),t.parentNode.insertBefore(this.adblockMsg,t.nextSibling)},e.prototype.switchMessageToAdblock=function(t){if(this.isDefaultMsg!==t){this.isDefaultMsg=t;var e=__PH._.authMenu._dropdown.querySelector(".x-ph__menu__dropdown_auth__Msg");t&&!this.adblockMsg&&this.insertAdblockMsg(e),e&&(e.style.display=t?"none":"block")}},e}(mr.Block)),u=$.dom,h=$.util,p=$.Emitter,g=u.id,_=u.replaceWithHtml,f=u.addClass,b=u.removeClass,y=u.replaceClass,v=h.toArray,w=h.throttle,x=h.rnd,k=11790321,L=28822740,C=11790322,E=["touchstart","touchmove"],S=function(){var t,e,a,o,i=document.body,s=window,r={element:null,get extensionTarget(){return t}},n=!1;p.apply(r);var c,l,d,m,u=function(){return mr.Block.waitFor("grid")},h=function(t){t.preventDefault(),s.open(t.currentTarget.getAttribute("data-href"),"","toolbar=0,status=0,width=626,height=436")},B=function(t){var e=void 0===t?!n:!!t;if(e!==n)if(e)n=!0,u().then((function(t){return y(t.el,"grid_slidotype-close","grid_slidotype-open")})),f(i,"is-slidotype"),mr.counter("d"+L),mr.counter("d44643178"),r.emit("open");else{n=!1,u().then((function(t){return y(t.el,"grid_slidotype-open","grid_slidotype-close")})),b(i,"is-slidotype"),a&&(a=!1,u().then((function(t){return b(t.el,"grid_slidotype-visible")}))),setTimeout((function(){return r.emit("close")}),400),mr.counter("clb"+C);var s=o.closeId,c=o.closePeriod,l=o.closeType;s&&c&&l&&((new Image).src="//rs.mail.ru/ux?id="+s+"&period="+c+"&type="+l+"&_="+x())}},H=function(t){n&&t.wheelDelta<0&&B(!1)},M=function(t){var e;return t&&(e={x:t.pageX,y:t.pageY}),e||null},T=function(t){if(!(t.touches.length>1)){l=!0;var e=t.changedTouches[0];d=e.identifier,m=M(e)}},A=function(t){if(l||c){var e=M(function(t){var e,a=t.changedTouches;return v(a).some((function(t){return t.identifier===d&&(e=t,!0)})),e||null}(t));e&&(l&&(m.y-e.y>=Math.abs(m.x-e.x)&&(c=!0),l=!1),c&&B(!1))}},I=function(t){n&&("touchstart"===t.type?T:A)(t)},P=function(c,l){var d;o=c,S.element=_($$PHEL,(tutti.tpl.slidotype||mr.tpl.slidotype)(o)),t=g("slidotype:full:link"),(o.autoopen&&l||o.openByShareUrl&&o.get===o.name)&&(f(i,"is-slidotype"),n=!0,a=!0,r.autoOpen=!0,mr.counter("d"+k+",d"+o.id),mr.counter("d44643178"),u().then((function(t){return f(t.el,"grid_slidotype-visible")}))),e=o.shareDisabled,g("slidotype:fold").addEventListener("click",(function(t){t.preventDefault(),B(!1)})),e||v(g("slidotype:share").children).forEach((function(t){t.addEventListener("click",h)})),d="onwheel"in document.createElement("div")?"wheel":"mousewheel",s.addEventListener(d,w(H,100)),"tablet"===mr._.DEVICE&&E.forEach((function(t){s.addEventListener(t,I)}))};return r.render=function(t,e){!t||e&&e().is||P(t,!0)},r.toggle=B,r.visible=function(){return n},r.autoOpen=!1,r},B=$.dom,H=B.id,M=B.replaceWithHtml,T=function(){var t,e,a,o=function(t){t.preventDefault(),mr.Block.waitFor("slidotype").then((function(a){var o=a.visible();e.contains(t.target)?mr.counter("clb"+(o?24282439:16057115)):mr.counter("clb"+(o?24282400:24271087)),a.toggle()}))},i=function(){e||(e=M($$PHEL,(tutti.tpl.logo||mr.tpl.logo)(t)),a=H("logo-extension-target"),function(){if(e.addEventListener("click",(function(){$.StatGo.click("mail_click_logo")})),t.logo){t.logo.isSwitcher&&e.addEventListener("click",o),t.logo.aside&&H("slidotype:switcher").addEventListener("click",t.logo.isSwitcher?o:function(){var e=!t.img&&!t.isSwitcher&&t.url||"//mail.ru";"//mail.ru"!==e&&mr.counter("clb"+t.id),window.location.href=e})}}())};return{render:function(e,a){T.inited||(!function(e){t=e||{}}(e),i())},get el(){return e},get extensionTarget(){return a}}},A=(mr.ph,mr._),I=mr.switches,P=(mr.Block,$.util),O=P.extend,N=(P.toArray,P.pluralize),j=P.replaceUnsafeSymbols,R=P.throttle,F=$.dom,z=F.id,U=F.addClass,D=(F.hasClass,F.hasParent),G=(F.getParent,F.removeClass),W=F.sendForm,J=F.replaceClass,V=Math.min,q=Math.floor,X=function(){return mr.Block.waitFor("grid")},Z=$.util,K=Z.rnd,Y=Z.replaceUnsafeSymbols,Q=$.dom,tt=Q.id,et=Q.addClass,at=Q.conditionalToggleClass,ot=(Q.appendHtmlAfter,Q.removeClass),it=(Q.replaceClass,Q.sendForm),st=(mr.ph,mr._),rt=mr.switches,nt=mr.Block,ct=st.CSRF,lt=function(){return nt.waitFor("grid")},dt=$.dom,mt=$.util,ut=$.radar,ht=dt.createElement,pt=dt.newElement,gt=mt.arraySubstract,_t=mt.throttle,ft=document,bt=window,yt="tutorial:data",vt=function(t){function e(){var e,a=this;t.call(this),this.el=null,this.data=null,this.lastState=null,this.containerEl=pt(),this.containerEl.id="tutorial-container",this.containerEl.classList.add("tutorial-container");try{e=bt.localStorage.getItem(yt)}catch(t){}if(e)try{this.userData=JSON.parse(e)}catch(t){bt.localStorage.removeItem(yt)}this.userData||(this.userData={blocks:{},orderHistory:[]}),this.onPopupClose=this.onPopupClose.bind(this),this.onHostHover=this.onHostHover.bind(this),mr.Block.waitFor("toolbar").then((function(t){t.on("close",(function(){return a.refreshAllPos()}))})),mr.Block.waitFor("slidotype").then((function(t){t.on("open",(function(){a.containerEl.classList.add("m-transparent")})).on("close",(function(){a.containerEl.classList.remove("m-transparent"),a.refreshAllPos()})),t.autoOpen&&a.containerEl.classList.add("m-transparent")})),mr.Block.waitFor("ad").then((function(){return mt.wait(150)})).then((function(){return a.refreshAllPos()})),ft.addEventListener("scroll",_t((function(){return a.refreshAllPos()}),100))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getBlockByEl=function(t){var e=t.id.replace("tutorial-","");return this.data.list[e]},e.prototype.render=function(t,e){var a,o=this,i=!!t;e&&e.state!==this.lastState&&(this.lastState=e.state,a=!0),i&&($$PHEL.parentNode.insertBefore(this.containerEl,$$PHEL),this.data=t,this.data.order=this.str2arr(t.order),this.order=gt(this.data.order||[],this.userData.orderHistory)),a&&this.data&&Object.keys(this.data.list).forEach((function(t){return o.renderBlock(t)}))},e.prototype.getBlockPosition=function(t){var e={};if(!t.hostEl)return e;var a=t.hostEl.getBoundingClientRect(),o=t.hostEl.closest(mr.mimic.locator.selector(".grid__container")).firstChild.getBoundingClientRect(),i=a.top+a.height/2,s=a.left+a.width/2-o.left,r=t.el.getBoundingClientRect();switch(t.where){case"right":e.top=i-r.height/2+"px",e.left=s+"px";break;case"top":e.bottom="-"+i+"px",e.left=s-r.width/2+"px";break;case"bottom":e.top=i+"px",e.left=s-r.width/2+"px"}return e},e.prototype.onPopupClose=function(t){t.stopPropagation(),this.emit("close");var e=this.getBlockByEl(t.target.closest(".tutorial")),a="free"===e.hide?"i-invisible":"tutorial_closed";if(e.el.classList.add(a),"free"!==e.hide){if("order"===e.show)this.userData.orderHistory.push(e.name);else{var o=this.userData[e.name]||{};o.closedCnt=o.closedCnt?o.closedCnt+1:1,o.closedTime=Date.now(),this.userData[e.name]=o}this.saveUserData()}},e.prototype.onHostHover=function(t,e){var a="mouseenter"===t.type;a&&this.sendStatistic(e,"hover"),e.el.classList[a?"add":"remove"]("tutorial_hovered")},e.prototype.saveUserData=function(){try{bt.localStorage.setItem(yt,JSON.stringify(this.userData))}catch(t){}},e.prototype.refreshBlockPos=function(t){if(t.el){var e=this.getBlockPosition(t);Object.keys(e).forEach((function(a){t.el.style[a]=e[a]||null}))}},e.prototype.refreshAllPos=function(){var t=this,e=this.data&&this.data.list;Object.keys(e||{}).forEach((function(e){return t.refreshBlockPos(t.data.list[e])}))},e.prototype.sendStatistic=function(t,e){t.counters&&t.counters[e]&&mr.counter(t.counters[e]),t.radar&&ut(t.name+"_tutorial_"+e).send()},e.prototype.refreshBlock=function(t,e){this.data.list[t]&&Object.assign(this.data.list[t],e),this.renderBlock(t,!0)},e.prototype.onHandlers=function(t){var e=this;if(t.closeIconEl=t.el.querySelector("[data-role=close]"),t.buttonEl=t.button&&t.el.querySelector(".btn"),t.closeIconEl&&(t.closeIconEl.addEventListener("click",this.onPopupClose),t.closeIconEl.addEventListener("click",(function(){return e.sendStatistic(t,"close")}))),"hover"!==t.showType&&"pulsar"!==t.showType||(t.hostEl.addEventListener("mouseenter",(function(a){return e.onHostHover(a,t)})),t.hostEl.addEventListener("mouseleave",(function(a){return e.onHostHover(a,t)}))),"free"!==t.hide){var a=function(e){e.stopPropagation(),e.target.removeEventListener(e.type,a),t.el.addEventListener("click",this.onPopupClose),t.el.click(),t.el.removeEventListener("click",this.onPopupClose)}.bind(this);t.hostEl.addEventListener("click",a)}t.buttonEl?(t.el.classList.add("tutorial__clickable"),t.el.addEventListener("click",(function(a){e.sendStatistic(t,"button");var o=t.button.url;if(o){var i=o+(t.urlParams||"");mr.switches.openMailLinksBlank?(bt.open(i),e.onPopupClose(a)):bt.location.href=i}else t.hostEl.click()}))):t.el.addEventListener("click",(function(){e.sendStatistic(t,"body")}))},e.prototype.renderBlock=function(t,e){void 0===e&&(e=!1);var a,o=this.data.list[t],i=this.userData[t]||{},s=o&&o.showType||"popup";if(o){if(o.name=t,o.el&&!e)a=!0;else if("order"===o.show)this.order.length&&this.order[0]===t&&(a=!0);else{var r=this.str2arr(o.show);"skip"===(s=r[Math.min((i.showCnt||0)+(i.skipCnt||0),r.length-1)]||"skip")?i.skipCnt=i.skipCnt?i.skipCnt+1:1:a=!0}o.showCnt&&i.showCnt>=o.showCnt&&(a=!1),o.hostEl=a&&ft.querySelector(o.for),o.hostEl&&o.hostEl.getClientRects().length||(a=!1),i.closedCnt&&(s="hover"),o.showType=s}if(a)if(o.el||(o.el=ht((tutti.tpl.tutorial||mr.tpl.tutorial)(o)),o.el.classList.add("i-invisible"),this.containerEl.appendChild(o.el),i.showCnt=i.showCnt?i.showCnt+1:1,"popup"!==s&&"all"!==s||this.sendStatistic(o,"show"),this.onHandlers(o)),"skip"===s)o.el.classList.add("i-invisible");else{if(this.refreshBlockPos(o),o.iconWillAnimate)if(o.refreshImage)o.el.querySelector("img").src=o.icon+"?_="+mt.rnd();else o.refreshImage=!0;o.el.classList.remove("i-invisible")}else o&&o.el&&o.el.classList.add("i-invisible");this.userData[t]=i,this.saveUserData()},e.prototype.str2arr=function(t){return t.split(",").map((function(t){return t.trim()})).filter((function(t){return!!t}))},e}(mr.Block),wt=$.cookie,xt=$.util,kt=xt.rnd,Lt=(xt.isArray,xt.extend,xt.openInNewTab),Ct=$.dom.id,Et=mr.mimic.locator,St=function(t){function e(){t.apply(this,arguments),this.onlyButtonClick=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var a={extensionTarget:{configurable:!0}};return a.extensionTarget.get=function(){return this.target},e.prototype.init=function(t,e){this.name=t},e.prototype.render=function(t,e){var a=this;if(t){if(t.close&&wt("eh").value(t.close.id))return;var o=Object.assign({},t);if("widget"===o.type&&e){var i="bubble-home"===this.name&&"function"==typeof bubbleHome&&bubbleHome||"function"==typeof tutti.tpl["extension/"+this.name]&&tutti.tpl["extension/"+this.name];if(!i)return;e.insertAdjacentHTML("beforeend",i(Object.assign(o,{onlyButtonClick:this.onlyButtonClick}))),this.initWidget(o)}o.target?mr.Block.waitFor(o.target).then((function(t){o.element=t.extensionTarget,a.bindHanlers(o)})):(o.element=document.querySelector(o.element),this.bindHanlers(o))}},e.prototype.getActiveElement=function(t){return t.element},e.prototype.onClick=function(t,e){var a=e.url;t.preventDefault(),Lt(a)},e.prototype.remove=function(t,e){t.preventDefault();var a=e.id,o=e.period,i=e.type;a&&o&&i&&((new Image).src="//rs.mail.ru/ux?id="+a+"&period="+o+"&type="+i+"&_="+kt(),wt("eh",{expires:o/8}).add(a,"1"));var s=$.dom.id(Et.transform(this.name));s&&s.parentNode&&s.parentNode.removeChild(s)},e.prototype.initWidget=function(t){var e=this,a=t.close;this.target=Ct(Et.selector(this.name+"-install")),Ct(Et.selector(this.name+"-close")).addEventListener("click",(function(t){var o=a.counter;o&&e.count(o),e.remove(t,a)})),this.target.addEventListener("click",(function(t){e.remove(t,a)}))},e.prototype.customPixel=function(t){(new Image).src=t+"&_="+kt()},e.prototype.count=function(t,e){mr.counter("clb"+t),e&&this.customPixel(e)},e.prototype.installExtension=function(t,e){var a=e.successPixel;this.count(a),this.onClick(t,e)},e.prototype.bindHanlers=function(t){var e=this,a=this.getActiveElement(t);a&&a.addEventListener("click",(function(a){var o=t.clickPixel;o&&e.customPixel(o),e.installExtension(a,t)}))},Object.defineProperties(e.prototype,a),e}(mr.Block),Bt=function(t){function e(){t.apply(this,arguments),this.onlyButtonClick=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(e,a){this.onlyButtonClick=!0,t.prototype.render.call(this,e,a)},e.prototype.onClick=function(){return!1},e.prototype.getActiveElement=function(t){return t.element.querySelector(".btn")},e}(St),Ht=(mr._.SUPPORTS_EXTENSIONS,mr.mimic.locator),Mt=["toolbar","slidotype"],Tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.init=function(){t.prototype.init.call(this,"bubble-home")},e.prototype.render=function(e){var a=this;(e&&e.items||[]).concat(Mt.map((function(t){return mr.data[t]&&mr.data[t].extension}))).filter((function(t){return t&&t.url})).forEach((function(e){var o=document.querySelector("."+Ht.lookup("portal-headline"));t.prototype.render.call(a,e,o)}))},e}(St),At=mr.Block,It=mr.switches,Pt=mr._.SUPPORTS_EXTENSIONS,$t=mr.mimic.locator,Ot=$t.lookup,Nt=($.dom.id,function(){return At.waitFor("grid")}),jt=function(){return(mr._.STUCK_IN_POT&&/popup-honeypot/.test(It.adblockWarning)||/popup-all/.test(It.adblockWarning))&&mr.data.bubbleFullscreen&&"adblock"===mr.data.bubbleFullscreen.use};return{tpl:t,blocks:{toolbar:c,Headline:m,slidotype:S,logo:T,loggedIn:function(){var t,e,a,o,i=I.maxAccounts,s=z("mailbox"),r=!1,n=mr.switches.isAtlas,c=function(t){var e;return+t?((e=[]).push(t),e.push(N(t,["новое","новых","новых"])),e.push(N(t,["письмо","письма","писем"])),e=e.join(" ")):e="Входящие",e},l=function(t,e,a){return"https://filin.mail.ru/pic?from=splash&width="+a+"&height="+a+"&email="+encodeURIComponent(t)+(e?"&name="+encodeURIComponent(e):"")},d=function(t){var a,o;e.avatar.setAttribute("name","clb"+(t?"615196":"615204")),e.unreadEmailsLink.setAttribute("name","clb"+(t?"615201":"615209")),e.writeLetter.setAttribute("name","clb"+(t?"615200":"615208")),e.logoutIcon.setAttribute("name","clb"+(t?"615199":"615207")),t?J(e.letterIcon,"icon_letter_gray","icon_letter"):J(e.letterIcon,"icon_letter","icon_letter_gray"),a=t,(o=__PH.updateCounter)&&o({mail:a||0})},m=function(t,a){var o,i=a||!1,r=i?"https://auth.mail.ru/cgi-bin/auth?from=splash":"https://e.mail.ru/messages/inbox/?back=1";if(i){var n=t.target.closest(".account__container"),c=!!((o=n)&&o.dataset&&o.dataset.email)&&o.dataset.email;if(c){var l=Array.from(n.parentNode.children).indexOf(n),d=mr.switches.openMailLinksBlank?"_blank":"_self";mr.counter("clb1195611"),$.StatGo.click("mail_select_account",{account_number:l+2,selected_email:c,extern:r}),W('\n\t\t\t\t\t<form style="display:none" method="POST" action="'+r+'" target="'+d+'">\n\t\t\t\t\t\t<input type="text" name="Login" value="'+c+'">\n\t\t\t\t\t</form>\n\t\t\t\t')}}else{var m=s.querySelector(".mailbox__account-name"),u=z("mailbox:activeEmail"),h="block";t.target.contains(m)?h="name":t.target.contains(u)?h="email":t.target.contains(e.avatar)&&(h="avatar"),$.StatGo.click("mail_click_"+h,{extern:r}),mr.switches.openMailLinksBlank?window.open(r):window.location.href=r}},u=function(t){if(D(t.target,e.dropdown)){if(D(t.target,e.dropdownAccountsMenu)){if(D(t.target,"mailbox__authmessage"))return;t.preventDefault(),_(),m(t,!0)}}else t.preventDefault(),_()},h=function(){if(r){var t=e.dropdownScrollContainer,o=a.length,s=t.getBoundingClientRect().top,c=o>=i?0:e.loginButton.getBoundingClientRect().height,l=e.dropdownAccountsMenu.children[0].getBoundingClientRect().height,d=20-(window.innerHeight-(n?0:window.pageYOffset)-s-c-o*l),m=V(3,o-1),u=q((o*l-d)/l);u<m&&(u=m);var h=Math.max(0,o-u-1);e.loginButton.classList[h?"add":"remove"]("m-bordered-top"),t.classList[h?"add":"remove"]("m-scrollable-y"),t.style.marginRight=h?"-"+(t.offsetWidth-t.clientWidth)+"px":"",t.style.height=d>0?u*l-(h?16:0)+"px":""}},p=R(h,300),g=function(){var t=setTimeout((function(){var t;t=tutti.tpl["mailbox/loggedIn"]({template:"loading"}),e.dropdownAccountsMenu.innerHTML=t}),500);__PH.loadAccountsList((function(o){var s,r;clearTimeout(t),/timeout|error/.test(o.status)?("error"===o.status&&(r=tutti.tpl["mailbox/loggedIn"]({template:"whiteList"}),e.dropdownAccountsMenu.innerHTML=r,U(e.loginButton,"i-hide")),$.radar(o.status).send()):((a=o.accounts.filter((function(t){return!t.socialId}))).length=V(a.length,i),a.length>=i?U(e.loginButton,"i-hide"):G(e.loginButton,"i-hide"),s=(s=a).map((function(t,e,a){var o=j(t.firstName+" "+t.lastName),i=l(t.email,o),s=t.counters.mail;return O(t,{fullName:o,avatar:i,totalUnread:s>999?"999+":s})})),e.dropdownAccountsMenu.innerHTML=tutti.tpl["mailbox/loggedIn"]({template:"dropdown",accounts:s}),h(),a.length>4&&(window.addEventListener("resize",p),window.addEventListener("orientationchange",p)))}))},_=function(){r=!1,J(e.dropdownTriangle,"triangle__up","triangle__down"),U(e.dropdownContainer,"i-hide"),document.removeEventListener("click",u),window.removeEventListener("resize",p)},f=function(t){r?_():(r=!0,J(e.dropdownTriangle,"triangle__down","triangle__up"),setTimeout((function(){document.addEventListener("click",u)}),100),G(e.dropdownContainer,"i-hide"),g(),mr.counter("clb1195610"))},b=function(t,e){A.EMAIL=t.data.email,mr.refresh("mailbox"),e()},y=function(){e={dropdown:z("mailbox:dropdown"),dropdownContainer:z("mailbox:dropdown_container"),dropdownButton:z("mailbox:dropdown_button"),triangleButton:z("mailbox:dropdown_triangle_button"),dropdownTriangle:z("mailbox:dropdown_triangle"),dropdownAccountsMenu:z("mailbox:dropdown_accounts_menu"),dropdownScrollContainer:z("mailbox:dropdown:scroll-container"),loginButton:z("mailbox:loginButton"),unreadEmails:z("mailbox:unreadEmails"),unreadEmailsLink:z("mailbox:unreadEmails:link"),writeLetter:z("mailbox:write_letter"),avatar:z("mailbox:avatar"),infoMenu:z("mailbox:info_menu"),letterIcon:z("mailbox:letterIcon"),containerEl:z("mailbox-container"),signupLink:z("signup")};var a=z("mailbox:mailHeaderLink");e.logoutIcon=z("mailbox:logout_icon"),e.logoutIcon.addEventListener("click",(function(){var e=t.accounts&&t.accounts[1]?t.accounts[1]:"";$.StatGo.click("mail_exit_account",{next_email:e})})),e.dropdownButton.addEventListener("click",m),e.triangleButton.addEventListener("mousedown",(function(){f(),$.StatGo.show("mail_multi_show")})),e.loginButton.addEventListener("click",(function(t){t.preventDefault(),mr.counter("clb1195612"),_(),__PH.authForm.show()})),__PH.on("authChange",b),d(t.totalUnread),e.signupLink.addEventListener("click",(function(){$.radar("loggedIn_signup").send(),$.StatGo.click("mail_create_account",{extern:e.signupLink.href})})),a.addEventListener("click",(function(){$.StatGo.click("mail_click_head",{extern:a.href})})),e.unreadEmailsLink.addEventListener("click",(function(){$.StatGo.click("mail_unread_counter",{email_unread_count:t.totalUnread,extern:e.unreadEmailsLink.href})})),e.writeLetter.addEventListener("click",(function(){$.StatGo.click("mail_write_email",{email_unread_count:t.totalUnread,extern:e.writeLetter.href})})),s.querySelector(".mailbox__icon_calendar").addEventListener("click",(function(t){$.StatGo.click("mail_goto_calendar",{extern:t.currentTarget.href})})),s.querySelector(".mailbox__icon_cloud").addEventListener("click",(function(t){$.StatGo.click("mail_goto_cloud",{extern:t.currentTarget.href})})),X().then((function(t){t.on("stickychange",(function(t){n=t,clearTimeout(o),o=setTimeout(h,n?300:0)}))}))},v={render:function(a,o){if(!o||!o().is||a){if("mailbox/loggedIn"!==a.tpl)return X().then((function(t){t.el.classList.remove("is-loggedin"),t.el.classList.add("is-loggedout")})),mr.data.mailbox=a,void mr.insertHere({data:mr.data.mailbox,instance:tutti.blocks.loggedOut(),name:"mailbox",MAILBOX:s});if(e){if(a.activeEmail!==t.email)return mr.data.mailbox=a,mr.replace("mailbox",a.tpl),void(A.EMAIL=a.activeEmail);a.email=a.activeEmail,(i=a).email===t.email&&void 0!==i.totalUnread&&i.totalUnread!==t.totalUnread&&(t.totalUnread=i.totalUnread,t.unreadMessages=c(i.totalUnread),e.unreadEmails.innerHTML=t.unreadMessages,d(i.totalUnread))}else A.EMAIL=a.activeEmail,t=O(function(t){var e=t.fullName,a=t.activeEmail,o=t.totalUnread,i=t.accounts,s=+o?"icon_letter":"icon_letter_gray";return{fullName:e,email:a,totalUnread:o,unreadMessages:c(o),avatar:l(a,e,45),avatar_2x:l(a,e,90),letterIcon:s,accounts:i}}(a),{template:"loggedIn"}),s.innerHTML=tutti.tpl["mailbox/loggedIn"](t),y(),v.el=z("auth"),mr.calendar&&mr.calendar(),$.StatGo.show("mail_b_show");var i}},destroy:function(){__PH.removeListener("authChange",b),document.removeEventListener("click",u)},getAccounts:function(){return a}};return v},loggedOut:function(){var t,e,a,o,i,s,r,n=!mr.isServer&&tt("mailbox"),c=/^[0-9a-zA-Z!@#$%^&*()\-<>'"_+=;:,./?\\|`~[\]{} ]+$/i,l=/[а-яА-Яєїґіё]/i,d=["input","keyup"],m={"bk.ru":"6111534","corp.mail.ru":"6111529","gmail.com":"6111538","hotmail.com":"6126637","inbox.ru":"6111536","list.ru":"6111535","mail.ru":"6111529",other:"6111540","outlook.com":"6126635","rambler.ru":"6111539","ya.ru":"6111537","yahoo.com":"6126590","yandex.by":"6111537","yandex.com":"6111537","yandex.kz":"6111537","yandex.ru":"6111537","yandex.ua":"6111537"},u=rt.jsapiMaxAttempts||0,h="https://auth.mail.ru/api/v1/pushauth/info",p="first",g="second",_=mr.switches.twoStepAuth,f=mr.switches.twoStepAuthLink,b=mr.switches.secondStepLoginForAll,y=!1,v=0,w=p,x=function(){var e=[t.saveRow,t.loginInput,t.passwordInput,t.domainSelectContainer];y=!1,t.errorText.innerHTML="",et(t.errorText,"i-hide"),e.forEach((function(t){ot(t,"is-error")}))},k=function(e,a){y=!0;var o=t.domainSelectContainer,i=t.loginInput,s=t.passwordInput;ot(t.errorText,"i-hide"),t.errorText.innerHTML=a;var r=[t.saveRow];switch(e){case"emptyLogin":r.push(i,o);break;case"wrongPass":r.push(s);break;case"badlogin":r.push(i,o);break;case"failAuth":r.push(i,s,o)}r.forEach((function(t){et(t,"is-error")}))},L=function(){var e=t.passwordInput.value,a=t.saveAuthCheckbox.checked?"1":"0",o=t.loginInput.value,i=t.domainSelectDiv.innerHTML;return $.util.contains(o,"@")?(i=o.substr(o.indexOf("@")+1,o.length),o=o.substr(0,o.indexOf("@"))):i=i.replace("@",""),{login:o,domain:i,password:e,saveauth:a}},C=function(){o=!1,t.submitBtn.classList.remove("is-disabled")},E=function(){var t=L(),e=t.login,a=t.domain,o=t.password,i=t.saveauth,s=mr._.FROMACCOUNT?"1":"0";it('\n\t\t\t<form style="display:none" method="POST" action="https://auth.mail.ru/cgi-bin/auth?from=splash"/>\n\t\t\t\t<input type="text" name="Login" value="'+Y(e)+'">\n\t\t\t\t<input type="text" name="Domain" value="'+Y(a)+'">\n\t\t\t\t<input type="text" name="Password" value="'+Y(o)+'">\n\t\t\t\t<input type="text" name="saveauth" value="'+i+'">\n\t\t\t\t<input type="text" name="FromAccount" value="'+s+'">\n\t\t\t\t<input type="hidden" name="act_token" value="'+ct+'">\n\t\t\t</form>\n\t\t')},S=function(){++v>u&&E()},B=function(t){var e=L(),a=e.login,o=e.domain,i=$.radar;a&&o&&xray.send(t+"-xray",{email:a+"@"+o}),i(t).send()},H=function(t,e,a){var o;B("auth_try");try{var i=Date.now();t.fetch(e).then((function(t){o=!0,$.radar("auth_"+t.status).group().commit(Date.now()-i),function(t,e){switch(t.status){case"ok":var a="https://e.mail.ru/messages/inbox/?back=1";mr.counter("clb"+("enter"===e.type?33069638:33069639)),(new Image).src="//r3.mail.ru/k?auth=1&rnd="+K();case"continue":t.continue_url&&(a=t.continue_url),$.StatGo.click("mail_button_ok",{type:e.type,extern:a,remember:e.remember?1:0}),window.location.href=a;break;case"error":case"fail":switch($.radar("auth_"+t.status+t.code).send(),!mr.switches.upAdOnAuthError||"badlogin"!==t.code&&"auth"!==t.code||nt.waitFor("ad").then((function(t){return t.updateAds(t.slotHandlers)})),$.StatGo.click("mail_button_fail",{type:e.type,error_type:t.status+"_"+t.code,remember:e.remember?1:0}),t.code){case"auth":var o="Неверное имя или пароль";if(__PH.emit("reloadAds"),k("failAuth",o),mr.switches.tutorialAuthLink)o=M().errorText||o;(mr.switches.tutorialAuth||mr.switches.tutorialAuthLink)&&v>=mr.switches.attemptCountForAuthByPhone&&A(T),mr.counter("d20051194"),S();break;case"captcha":var i=t.requestSource,s=i.login,r=i.domain,n="https://e.mail.ru/login?captcha=1&fail=1&email="+encodeURIComponent(s+"@"+r);t.body&&t.body.extra&&t.body.extra.captcha_type&&(n+="&captcha_type="+t.body.extra.captcha_type),window.location.href=n;break;case"badlogin":mr.counter("d20051720"),k("badlogin","Неверное имя ящика"),S();break;default:E()}break;case"break":$.StatGo.click("mail_button_fail",{type:e.type,error_type:"break_"+t.status,remember:e.remember?1:0}),E();break;default:$.StatGo.click("mail_button_fail",{type:e.type,error_type:"unknown",remember:e.remember?1:0}),E()}}(t,a)}))}catch(t){return $.radar("auth_fail_xhrJsError").send(),$.StatGo.click("mail_button_fail",{type:a.type,error_type:"xhr_exception",remember:a.remember?1:0}),void E()}setTimeout((function(){o||($.radar("auth_fail_responseTimeout").send(),$.StatGo.click("mail_button_fail",{type:a.type,error_type:"xhr_timeout",remember:a.remember?1:0}),E())}),1e3)},M=function(){var t=void 0;if(void 0===t){var e=mr.data&&mr.data.tutorial&&mr.data.tutorial&&mr.data.tutorial.list.auth;t=e||{}}return t},T=function(){if(mr.switches.tutorialAuth)O();else if(mr.switches.tutorialAuthLink&&s.valid){var t=M(),e=t.errorText,a=t.errorLinkText,o=t.button;if(e&&a&&o&&o.url){var i=o.url+"&email="+encodeURIComponent(s.email);k("failAuth",e+". "+('<a onclick="mr.counter(\'d33708787\')" class="mailbox__error-link i-color-coral" href="'+i+'" target="_blank">'+a+"</a>")),mr.counter("d33708855")}}},A=function(t){var e=L(),a=e.login+"@"+e.domain;if(s&&s.email===a)return s.needHide=!1,void t(s.body);var o=$.transport(h,{crossOrigin:!0,json:!0,method:"get"}),i=[{name:"login",value:a}];s={email:a,needHide:!1,valid:!1},o.fetch({params:i}).then((function(e){var a=200===e.status&&e.body;s.body=a,s.valid=a&&a.exists&&a.phone&&!a.twostep&&a.available,t(s.body)}),(function(){s.body=null,s.valid=!1,t(s.body)}))},I=function(t){var e=void 0===t||!0===t;(e=e||"scroll"===t.type||"mousedown"===t.type&&!t.target.closest(".tutorial")&&!t.target.closest(".mailbox"))&&(s.needHide=!0,O())},P=function(){return I(!0)},O=function(){var t=s.valid&&!s.needHide,e=function(){if(!i){i=$.Overlay.create({classNames:["login-phone-overlay"],containerEl:tt("grid:middle"),id:"login-phone-overlay"})}return i}();mr.Block.waitFor("tutorial").then((function(a){a.refreshBlock("auth",{show:t?"popup":"skip",urlParams:"&email="+encodeURIComponent(s.email)}),t&&(lt().then((function(t){return t.el.classList.add("grid_login-phone-overlay")})),B("auth_sms_login_tutorial_show")),e[t?"show":"hide"]().then((function(){var e=(t?"add":"remove")+"EventListener",o=t?"on":"off";window[e]("scroll",I),window[e]("mousedown",I),a[o]("close",P),t||lt().then((function(t){return t.el.classList.remove("grid_login-phone-overlay")}))}))}))},N=function(e){var a=function(t){return"https://account.mail.ru/login?opener=splash2s&fail=1&email="+encodeURIComponent(t)}(e);t.smsLoginLink.href=a,ot(t.smsLoginLink,"i-hide"),et(t.passwordInput,"mailbox__input_with-right"),mr.counter("d36299926"),B("auth_sms_login_link_show")},j=function(){__PH.emit("reloadAds"),A((function(e){if(e&&!e.exists)return mr.counter("d20051720"),void k("badlogin","Неверное имя ящика");x();var a,o=L(),i=o.domain,s=o.login+"@"+i;(et(t.smsLoginLink,"i-hide"),ot(t.passwordInput,"mailbox__input_with-right"),b||(a=e&&e.auth,mr.switches.secondStepLoginForCode&&"sms"===a))?function(t){var e=b?"all":"code";__AG.show({email:t,allow_external:1,opener:"splash2"+e,page:"https://e.mail.ru/inbox"}),B("auth_show_second_step")}(s):(e&&e.exists&&e.phone&&!e.twostep&&e.available&&f&&N(s),t.secondStepEmail.textContent=s,et(t.form,"mailbox__current-step_second"),w=g,C(),t.passwordInput.focus(),et(t.submitBtn,"mailbox__control_twostep-short"),t.submitBtn.firstChild.nodeValue="Войти",mr.counter("d36299749"),B("auth_show_second_step"))}))},R=function(e){if(a="",i="",s=t.loginInput.value,r=t.passwordInput.value,n=!s.length,c=!(r.length||_&&w!==g),n&&c?(i="failAuth",a="Введите имя ящика и пароль"):n?(i="emptyLogin",a="Введите имя ящика"):c&&(i="wrongPass",a="Введите пароль"),!(a&&($.radar("auth_validation_"+i).send(),mr.counter("d20051482"),k(i,a),__PH.emit("reloadAds"),1)||o)){var a,i,s,r,n,c;o=!0,t.submitBtn.classList.add("is-disabled"),setTimeout(C,500);var l=L(),d=l.domain,u=l.saveauth;if(_&&w===p)return B("auth_twostep_submit_first"),void j();B(_?"auth_twostep_submit_second":"auth_submit");var h="1"===u;mr.counter("clb"+(d in m?m[d]:m.other),"d"+(h?666520:666522)+",d703061"),$.FagotDetector.sendRadars((function(t){$.radar(t).send()})),e.remember=h,function(t){var e=L(),a=[{name:"login",value:e.login+"@"+e.domain},{name:"password",value:e.password},{name:"saveauth",value:e.saveauth},{name:"token",value:ct},{name:"project",value:"e.mail.ru"}],o=$.transport("https://auth.mail.ru/jsapi/auth",{method:"post",crossOrigin:!0,json:!0,requestSource:e});H(o,{params:a},t)}(e)}},F=function(){var t=a?"click":"enter";a=!1,"enter"===t?((!_||_&&w===g)&&mr.counter("clb"+(mr.auth||mr.data.mailbox.user?615211:615189)),_&&(w===p?mr.counter("clb36299735"):mr.counter("clb36299769"))):((!_||_&&w===g)&&(r?mr.counter("clb615190"):mr.counter("clb615214")),_&&(w===p?mr.counter("clb36299732"):mr.counter("clb36299763"))),R({type:t})},z=function(){var e=t.loginInput,o=t.passwordInput,i=t.domainSelect,s=t.saveAuthCheckbox,r=[e,o],m=t.restoreLink,u=t.secondStepBack,h=t.smsLoginLink,g=tt("mailbox:mailHeaderLink");r.forEach((function(a){a.addEventListener("input",(function(){y&&x(),a===e&&function(e){var a=$.util.contains(e,"@");at(t.domainSelectContainer,"i-hide",a),at(t.domainSelect,"i-hide",a),at(t.loginInputContainer,"i-width-100%",a)}(e.value)}))})),d.forEach((function(t){o.addEventListener(t,(function(t){13!==t.keyCode&&function(t){t&&!c.test(t)?(l.test(t)?k("wrongPass","Смените раскладку"):k("wrongPass","Вы ввели недопустимые символы"),mr.counter("d755623")):x()}(o.value)}))})),o.addEventListener("focus",(function(){o.setSelectionRange(o.value.length,o.value.length)})),i.addEventListener("change",(function(e){t.domainSelectDiv.innerHTML=i.value,x()})),s.addEventListener("change",(function(t){var e;t.preventDefault(),e=s.checked,$.sCookie.add("a",e?"1":"0")})),t.restoreLink.addEventListener("click",(function(){var e=t.restoreLink;if(rt.newRestorePassword){var a,o=L(),i=o.login,s=o.domain;i&&s&&(a=i+"@"+s);var r="https://account.mail.ru/recovery"+(a?"?email="+a:"");e.setAttribute("href",r)}})),t.signupLink.addEventListener("click",(function(){B("auth_signup"),B(_?w===p?"auth_signup_twostep_first":"auth_signup_twostep_second":"auth_signup_onestep"),$.StatGo.click("mail_create_account",{extern:t.signupLink.getAttribute("href")})})),t.submitBtn.addEventListener("mousedown",(function(){a=!0,B("auth_submit_btn")})),t.submitBtn.addEventListener("keypress",(function(t){"Enter"===t.key&&F()})),h&&h.addEventListener("click",(function(){B("auth_sms_login_link_click")})),m.addEventListener("click",(function(){B("auth_restore"),B(_?w===p?"auth_restore_twostep_first":"auth_restore_twostep_second":"auth_restore_onestep"),_&&(w===p?mr.counter("clb36299733"):mr.counter("clb36299779")),$.StatGo.click("mail_forgot_pass")})),t.form.addEventListener("submit",(function(t){t.preventDefault(),F()})),t.stickyLoginLink.addEventListener("click",(function(){__PH.authForm.show()})),g&&g.addEventListener("click",(function(){$.StatGo.click("mail_click_head",{extern:g.href})})),n.querySelector(".mailbox__icon_calendar").addEventListener("click",(function(t){$.StatGo.click("mail_goto_calendar",{extern:t.currentTarget.href})})),n.querySelector(".mailbox__icon_cloud").addEventListener("click",(function(t){$.StatGo.click("mail_goto_cloud",{extern:t.currentTarget.href})})),u&&u.addEventListener("click",(function(e){t.passwordInput.value="",ot(t.form,"mailbox__current-step_second"),et(t.smsLoginLink,"i-hide"),ot(t.passwordInput,"mailbox__input_with-right"),x(),w=p,ot(t.submitBtn,"mailbox__control_twostep-short"),t.submitBtn.firstChild.nodeValue="Ввести пароль",mr.counter("d36299731"),B("auth_back_to_first_step")}))},U=function(t){var e,a=t.selected,o=t.domains[a];return mr.isServer||(e=void 0===(e=$.sCookie.value("a"))||"1"===e),{domain:o,domainList:t.domains,selected:a,login:t.user,saveauth:e}},D=function(t,e){st.EMAIL=t.data.email,mr.refresh("mailbox"),e()},G={el:null,render:function(a,o){if(!o||!o().is){if(r=!mr._.AUTH&&!a.login,"mailbox/loggedOut"!==a.tpl)return lt().then((function(t){t.el.classList.remove("is-loggedout"),t.el.classList.add("is-loggedin")})),mr.data.mailbox=a,void mr.insertHere({data:mr.data.mailbox,instance:tutti.blocks.loggedIn(),name:"mailbox",MAILBOX:n});var i,s=U(a);if(i=s,!e||!Object.keys(i).every((function(t){return"object"==typeof i[t]||i[t]===e[t]})))e=s,$.dom.replaceWithHtml(tt("auth")||$$PHEL,tutti.tpl["mailbox/loggedOut"](s)),t={domainSelect:tt("mailbox:domain"),domainSelectContainer:tt("mailbox:select_container"),domainSelectDiv:tt("mailbox:select"),errorText:tt("mailbox:error"),form:tt("auth"),loginInput:tt("mailbox:login"),loginInputContainer:tt("mailbox:loginContainer"),passwordInput:tt("mailbox:password"),saveAuthCheckbox:tt("mailbox:saveauth"),saveRow:tt("save:row"),stickyLoginLink:tt("sticky-login-link"),submitBtn:tt("mailbox:submit"),signupLink:tt("signup"),restoreLink:tt("restore"),secondStepBack:tt("mailbox:mailHeaderSecondStepBack"),secondStepEmail:tt("mailbox:mailHeaderSecondStepEmail"),smsLoginLink:tt("mailbox:smsLoginLink")},z(),_&&mr.counter("d36299731"),G.el=tt("auth"),mr.calendar&&mr.calendar(),__PH.on("authChange",D),$.StatGo.show("mail_b_show",{count_of_email:st.ACC_CNT})}},renderServer:function(t){return(tutti.tpl["mailbox/loggedOut"]||mr.tpl["mailbox/loggedOut"])(U(t))},destroy:function(){__PH.removeListener("authChange",D)}};return G},Tutorial:vt,BubbleHome:Tt,initBubbleFullscreen:function(){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.init=function(){t.prototype.init.call(this,"bubble-fullscreen")},e.prototype.remove=function(e,a){var o=this;t.prototype.remove.call(this,e,a),this.Overlay.hide(),Nt().then((function(t){return t.el.classList.remove(Ot(o.name+"__parent"))}))},e.prototype.initWidget=function(e){t.prototype.initWidget.call(this,e),this.showOverlay(e)},e.prototype.render=function(e){var a=this;(jt()||Pt&&mr.data.bubbleFullscreen&&"extension"===mr.data.bubbleFullscreen.use)&&Nt().then((function(o){return t.prototype.render.call(a,e,o.el)}))},e.prototype.showOverlay=function(t){var e=this;Nt().then((function(a){e.Overlay=$.Overlay.create({classNames:[$t.transform(e.name+"-overlay")],containerEl:a.el,id:$t.transform(e.name+"-overlay")}),a.el.classList.add(Ot(e.name+"__parent")),document.querySelector($t.selector("#"+e.name+"-overlay")).addEventListener("click",(function(a){e.remove(a,t.close)})),e.Overlay.show()}))},e}(jt()?Bt:St)}}}}();
