!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("wafer-experiment-scrollview",[],t):"object"==typeof exports?exports["wafer-experiment-scrollview"]=t():(e.wafer=e.wafer||{},e.wafer.wafers=e.wafer.wafers||{},e.wafer.wafers["wafer-experiment-scrollview"]=t())}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://s.yimg.com/aaq/wf/",t(t.s="./src/entry.js")}({"./src/entry.js":function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d="index",h="next",f="prev",v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.windowLimit,r=void 0===i?5:i;n(this,e),this.active=null,this.elemMapping=new Map,this.tail=null,this.cycle=!1,this.head=null,this.scrollItemsLimit=Math.floor(r/2),this.maxChildren=r}return c(e,[{key:"add",value:function(e){var t=this.tail,i=this.elemMapping.size;if(t){var n=this.elemMapping.get(t);this.elemMapping.set(e,new Map([[d,i],[h,n.get(h)],[f,t]])),this.elemMapping.get(this.tail).set(h,e),this.elemMapping.get(this.head).set(f,e),this.tail=e}else this.elemMapping.set(e,new Map([[d,i],[h,e],[f,e]])),this.head=this.tail=e;this.active||(this.active=e)}},{key:"getActive",value:function(){return this.active}},{key:"setNextAsActive",value:function(){this.active=this.elemMapping.get(this.active).get(h)}},{key:"setPreviousAsActive",value:function(){this.active=this.elemMapping.get(this.active).get(f)}},{key:"getElementToAppend",value:function(){var e=this.elemMapping.get(this.active),t=e.get(d),i=this.elemMapping.size,n=this.scrollItemsLimit;return this.cycle?this.getForward(n+1):t<n?null:i>t+n-1?this.getForward(n+1):null}},{key:"getElementToPrepend",value:function(){var e=this.elemMapping.get(this.active),t=e.get(d),i=this.elemMapping.size,n=this.scrollItemsLimit;return this.cycle?this.getBackward(n):t>=i-n?null:t-n-1>=0?this.getBackward(n+1):null}},{key:"getFragmentToRelace",value:function(){var e=this,t=this.elemMapping.get(this.active).get(d),i=this.elemMapping.size,n=this.maxChildren%2==0,r=0,a=0;this.handleLogicByTreadmill({onCycle:function(){r=e.scrollItemsLimit-1,a=e.scrollItemsLimit},onSmallSizeTreadmillDisabled:function(){r=t,a=i-1-r},onHeadTreadmillDisabled:function(){r=t,a=e.maxChildren-1-r},onMiddleTreadmillEnabled:function(){r=n?e.scrollItemsLimit-1:e.scrollItemsLimit,a=e.scrollItemsLimit},onTailTreadmillDisabled:function(){a=i-1-t,r=e.maxChildren-1-a}});for(var s=document.createDocumentFragment(),l=r;l>0;l--){var o=this.getBackward(l);o&&s.appendChild(o)}s.appendChild(this.getActive());for(var u=1;u<=a;u++){var c=this.getForward(u);c&&s.appendChild(c)}return s}},{key:"getScrollVirtualCounter",value:function(){var e=this,t=this.elemMapping.get(this.active).get(d),i=this.elemMapping.size,n=this.maxChildren%2==0,r=0;return this.handleLogicByTreadmill({onCycle:function(){r=e.scrollItemsLimit-1},onSmallSizeTreadmillDisabled:function(){r=t},onHeadTreadmillDisabled:function(){r=t},onMiddleTreadmillEnabled:function(){r=n?e.scrollItemsLimit-1:e.scrollItemsLimit},onTailTreadmillDisabled:function(){r=e.maxChildren-1-(i-1-t)}}),r}},{key:"handleLogicByTreadmill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onCycle,i=e.onSmallSizeTreadmillDisabled,n=e.onHeadTreadmillDisabled,r=e.onMiddleTreadmillEnabled,a=e.onTailTreadmillDisabled,s=this.elemMapping.get(this.active).get(d),l=this.elemMapping.size,o=this.scrollItemsLimit-1+0,u=l-1-(this.scrollItemsLimit-1);this.cycle?"function"==typeof t&&t():l<=this.maxChildren?"function"==typeof i&&i():s<=o?"function"==typeof n&&n():s>=u?"function"==typeof a&&a():"function"==typeof r&&r()}},{key:"getForward",value:function(e){for(var t=0,i=this.active;t++<e;){if(i=this.elemMapping.get(i).get(h),!this.cycle&&i===this.head)return null}return i}},{key:"getBackward",value:function(e){for(var t=0,i=this.active;t++<e;){if(i=this.elemMapping.get(i).get(f),!this.cycle&&this.tail===i)return null}return i}},{key:"appendWithReplace",value:function(e,t){e=e||this.active;var i=this.elemMapping.get(e),n=i.get(f),r=i.get(h),a=t[0],s=a,l=n;this.elemMapping.get(n).set(h,s);for(var o=1;o<t.length;o++){var u=t[o];this.elemMapping.set(s,new Map([[h,u],[f,l]])),l=s,s=u}this.elemMapping.set(s).set(s,new Map([[h,r],[f,l]])),this.elemMapping.get(r).set(f,s),e===this.head?this.head=a:e===this.tail&&(this.tail=s),e===this.active&&(this.active=a),this.elemMapping.delete(e);for(var c=this.elemMapping.get(n),v=c.get(d);c;){var p=c.get(h);c=this.elemMapping.get(p),c.set(d,++v),p===this.tail&&(c=null)}}},{key:"size",get:function(){return this.elemMapping.size}}]),e}(),p=v,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},m=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),y=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(n)},b=window.wafer,w=b.base,_=b.constants,C=b.features,E=b.utils,k=b.WaferBaseClass,M=C.transformProperty,D=_.ATTR_PREFIX,T=E.bindEvent,x=E.convertNodeListToArray,L=E.elementInView,A=E.fetchWithCache,W=E.getConfigFromJSONScriptNode,O=E.isVisible,B=E.throttle,I=E.unbindEvent,P=30,X=5,j=250,S="ease-out",V="active",N=["next","prev"],z=function(e,t,i){e.style.webkitTransition="transform "+t+"ms "+i,e.style.transition="transform "+t+"ms "+i},F=function(e){e.style.webkitTransition="",e.style.transition=""},H=function(){var e=[],t=!1;return{add:function(t,i,n){e.push(function(e){return function(){return t.call(e)}}(i)),this.exec(n||i._util.transitionDuration+50)},exec:function(i){var n=this;t||(t=!0,setTimeout(function(){t=!1,e.shift().call(),e.length&&n.exec(i)},i))}}}(),R=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.counter,s=void 0===n?0:n,l=i.syncDelay,o=void 0===l?25:l;r(this,t);var u=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{},{})),c=e.getAttribute(D+"behavior");if(u._util={elem:e,behavior:c},"native"===c){u._syncWithThrottle=B(function(){w.sync(e)},o,u);var d=void 0;if(x(e.children).some(function(e){return!!e.classList.contains(V)&&(d=e,!0)}),d&&0===e.scrollLeft){var h=e.getBoundingClientRect(),f=h.width,v=d.getBoundingClientRect(),m=v.width,y=v.left;e.scrollLeft=m>=f?y-P:y-(f-m)/2}return u.addEventListeners(),a(u)}var b=parseInt(e.getAttribute(D+"edge-padding"))||0,_=parseInt(e.getAttribute(D+"right-padding"))||0,C=e.getAttribute(D+"resize-end"),E=e.getAttribute(D+"pagination-target"),k=e.getAttribute(D+"trigger-wf-during-transition"),M=e.getAttribute(D+"scrollview-td"),T=e.getAttribute(D+"scrollview-ttf"),L=e.getElementsByClassName("wafer-indicators-counts")[0],A=W(L).counts,O=e.getAttribute(D+"cycle"),I=E&&document.body.querySelector(E)||x(e.getElementsByClassName("indicators"))[0],F=void 0,H=void 0;I&&"count"===(F=I.getAttribute(D+"pagination-type")||"default")&&(H=x(I.getElementsByClassName("current-page"))[0]);var R=new p({windowLimit:X});R.cycle=O;var Y=u._util=g({},u._util,{counter:s,cycle:null===O||void 0===O?0:Number(O),dataList:R,drag:{endX:0,endY:0,isVerticalDirection:!1,startX:0,startY:0},edgePadding:b,elem:e,indicatorCountElem:H,indicatorElem:I,indicatorsCustomCount:A,indicatorType:F,nextBtn:x(e.getElementsByClassName("next-btn"))[0],resizeEnd:null===C||void 0===C?0:Number(C),prevBtn:x(e.getElementsByClassName("prev-btn"))[0],rightPadding:_,sliderElem:x(e.getElementsByClassName("slides"))[0],sliderItemsDataMapping:new Map,transitionDuration:null===M||void 0===M?j:Number(M),transitionTimingFunction:null===T||void 0===T?S:T,triggerWafersDuringTransition:"1"===k?1:0});u._state={disableEventHandlers:!1,hasBeenThreadmilled:!1,slideWidth:null,triggerNodeMap:new Map,virtualCounter:null},Y.sliderItems=x(Y.sliderElem.children),Y.indicatorItems=Y.indicatorElem?x(Y.indicatorElem.children):null;var U=Y.sliderItems.length;u._state.slideWidth=100/U,u.updateWidth(),z(Y.sliderElem,Y.transitionDuration,Y.transitionTimingFunction),Y.sliderElem.style.cursor="-webkit-grab",Y.sliderElem.style["padding-left"]=b+"px";for(var q=document.createDocumentFragment(),J=void 0,G=!1,K=0;K<U;K++){var Q=Y.sliderItems[K];R.add(Q),Q.style.width=u._state.slideWidth+"%",!G&&K>0&&Q.classList.contains(V)&&(J=K,G=!0),q.appendChild(Q)}if(Y.sliderElem.appendChild(q),J)for(var Z=0;Z<J;Z++)u.showCurrent(1);return N.forEach(function(e){u[e]=u[e].bind(u)}),u.addEventListeners(),0===s&&(u.preFetch(),u.updateIndicators(s),u.updateButtons(!0),R.getActive().classList.add(V)),u}return s(t,e),m(t,[{key:"slidesHasBeenUpdated",value:function(){var e=this._util;e.sliderItems=x(e.sliderElem.children);var t=e.sliderItems.length;this._state.slideWidth=100/t;for(var i=0;i<t;i++){e.sliderItems[i].style.width=this._state.slideWidth+"%"}this.updateWidth()}},{key:"updateWidth",value:function(){var e=this._util,t=this._state.virtualCounter,i=e.edgePadding,n=e.rightPadding,r=e.sliderElem,a=e.sliderItems;r.style.width="",e.containerWidth=r.getBoundingClientRect().width,e.itemWidth=i?e.containerWidth-2*i:n?e.containerWidth-n:e.containerWidth,r.style.width=e.itemWidth*a.length+"px",r.style[M]="translateX(-"+(t*e.itemWidth+this.negativeWidthCoefficient)+"px)"}},{key:"addEventListeners",value:function(){var e=this._util,i=e.elem;if("native"===e.behavior)return void T(i,"scroll",this._syncWithThrottle);y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addEventListeners",this).call(this)}},{key:"removeEventListeners",value:function(){var e=this._util,i=e.elem;if("native"===e.behavior)return void I(i,"scroll",this._syncWithThrottle);y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeEventListeners",this).call(this)}},{key:"preFetch",value:function(){for(var e=this._util.dataList,t=0;t<3;t++){var i=e.getForward(t),n=e.getBackward(t);i&&this.renderSlide(i,{prefetch:!0}),n&&this.renderSlide(n,{prefetch:!0})}}},{key:"handleResize",value:function(){var e=this._util,t=e.behavior,i=e.transitionDuration,n=e.transitionTimingFunction;if("native"!==t){var r=this._util.sliderElem;O(r)&&(F(r),this.updateWidth(),setTimeout(function(){z(r,i,n)},0))}}},{key:"handleFetch",value:function(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.fetchBody,a=n.fetchUrl,s=n.prefetch,l=void 0!==s&&s,o=n.replace,u=void 0!==o&&o,c=n.resultSelector;if(!l||e.parentNode){var d=this._util,h=d.dataList,f=d.sliderElem,v=d.sliderItemsDataMapping;v.has(e)||v.set(e,{});var p=v.get(e);!a||void 0!==p.fetchStatus&&2!==p.fetchStatus?(l?w.prefetch(e):w.sync(e),u&&this.slidesHasBeenUpdated()):(p.fetchStatus=0,A(a,{body:r}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.assets,r=void 0===n?{}:n,a=t.html;if(a){var s=void 0;if(w.destroy(e),u){var o=document.createElement("div"),d=e.parentNode,v=x(d.children);o.innerHTML=a;var g=c&&o.querySelector(c),m=x((g||o||{}).children),y=v.indexOf(e);h.appendWithReplace(e,m),-1!==y&&(i.showCurrent(0,{},!0),H.add(function(){i._state.virtualCounter=h.getScrollVirtualCounter(),F(f),i.updateWidth()},i)),s=d,i._state.hasBeenThreadmilled=!1}else e.innerHTML=a,s=e;p.fetchStatus=1,w.syncAssets(r),l?w.prefetch(e):w.sync(s),u&&i.slidesHasBeenUpdated()}}).catch(function(i){w.emitError({name:t.constructor.name,elem:e,meta:{fetchUrl:a},stack:i.stack}),p.fetchStatus=2}))}}},{key:"renderSlide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.prefetch,n=void 0!==i&&i,r=this._util.sliderElem;if(!n||L(r,{offsetX:0,offsetY:0},w.viewport)){var a=void 0,s=void 0,l=void 0,o=void 0,u=e.getAttribute(D+"url");switch(u&&(a="fetch",l=!!Number(e.getAttribute(D+"replace")),s=e.getAttribute(D+"result-selector"),o=e.getAttribute(D+"body")),a){case"fetch":this.handleFetch(e,{fetchBody:o,fetchUrl:u,prefetch:n,replace:l,resultSelector:s});break;default:n?w.prefetch(e):setTimeout(function(){w.sync(e)},this._util.transitionDuration)}}}},{key:"updateElemsUsingVirtualElements",value:function(e,t){var i=this,n=this._util,r=this._state,a=n.cycle,s=n.dataList,l=n.itemWidth,o=n.sliderElem,u=n.transitionTimingFunction,c=n.transitionDuration,d=s.size,h=r.slideWidth;if(1===e||-1===e||0===e){if(0===e){var f=s.getFragmentToRelace(),v=document.createRange();return v.selectNodeContents(o),v.deleteContents(),v.insertNode(f),v.detach(),void x(o.children).forEach(function(e){e.style.width=h+"%"})}var p=1===e?t+1>d:t<0;if(a||!p){1===e?s.setNextAsActive():s.setPreviousAsActive();var g=s.getFragmentToRelace(),m=document.createRange();m.selectNodeContents(o),m.deleteContents(),m.insertNode(g),m.detach(),x(o.children).forEach(function(e){e.style.width=h+"%"});var y=this._state.virtualCounter,b=s.getScrollVirtualCounter();if(this._state.virtualCounter=b,this._state.transformValue=1===e?this._state.virtualCounter*l+this.negativeWidthCoefficient:this._state.virtualCounter*l,y===b){var w=1===e?(this._state.virtualCounter-1)*l+this.negativeWidthCoefficient:(this._state.virtualCounter+1)*l;F(o),o.style[M]="translateX(-"+w+"px)",H.add(function(){z(o,c,u),o.style[M]="translateX(-"+i._state.transformValue+"px)"},this,50)}else z(o,c,u),o.style[M]="translateX(-"+this._state.transformValue+"px)"}}}},{key:"showCurrent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),i=this._util,n=i.counter,r=i.cycle,a=i.dataList,s=i.elem,l=i.itemWidth,o=i.sliderElem,u=a.size,c=n;if(this.isValidMove(e)){if(r){if(1===e){var d=c+1>=u;c=d?0:n+e}else if(-1===e){var h=c<=0;c=h?u-1:n+e}}else c=n+e;if(a.getActive().classList.remove(V),t||c!==n){this.updateElemsUsingVirtualElements(e,c),this._util.counter=c;var f=a.getActive();f.classList.add(V),this.renderSlide(f),this.updateIndicators(c,n),this.updateButtons(),this.triggerOnChange(),this.preFetch(),!t&&w.emitWaferEvent("scrollview:change",{elem:s,meta:{index:c+1,prevIndex:n+1}})}else{a.getActive().classList.add(V);var v=this._state.virtualCounter,p="translateX(-"+(v*l+this.negativeWidthCoefficient)+"px)";p!==this._util.transformValue&&(o.style[M]=p,this._util.transformValue=p)}}}},{key:"triggerOnChange",value:function(){var e=this._state.triggerNodeMap,t=this._util,i=t.dataList,n=i.getActive(),r=[];e.has(n)?r=e.get(n):(r=x(n.getElementsByClassName("wafer-scrollview-trigger-on-active")),e.set(n,r)),r.forEach(function(e){w.trigger(e)})}},{key:"updateIndicators",value:function(e,t){var i=this._util;if("count"===i.indicatorType){var n=i.indicatorCountElem,r=i.indicatorsCustomCount;n&&(n.innerHTML=r&&r[e]||e+1)}else{var a=i.indicatorItems;a&&(a[t]&&a[t].classList.remove(V),a[e]&&a[e].classList.add(V))}}},{key:"updateButtons",value:function(e){var t=this._util,i=t.counter,n=t.cycle,r=t.nextBtn,a=t.prevBtn,s=t.dataList,l=s.size;r&&(n&&!e||i!==l-1?r.removeAttribute("disabled"):r.setAttribute("disabled",!0)),a&&(n&&!e||0!==i?a.removeAttribute("disabled"):a.setAttribute("disabled",!0))}},{key:"updateAfterDrag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._util.drag,i=t.currentDirection,n=t.endX,r=t.horizontalDirection,a=t.startX,s=n-a,l=i===r;l&&s>0&&Math.abs(s)>30?this.showCurrent(-1,e):l&&s<0&&Math.abs(s)>30?this.showCurrent(1,e):this.showCurrent()}},{key:"isValidMove",value:function(e){var t=this._util,i=t.counter,n=t.cycle,r=t.dataList,a=r.size;return n?1===e&&i<=a-1||-1===e&&i>=0||0===e:1===e&&i<a-1||-1===e&&i>0||0===e}},{key:"grab",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._util.drag;this._util.pointerDown=!1,t.endX&&this.updateAfterDrag(e),this.clearDrag()}},{key:"grabbing",value:function(){var e=this._util,t=e.drag,i=e.elem,n=e.itemWidth,r=e.sliderElem,a=e.triggerWafersDuringTransition,s=this._state.virtualCounter,l=t.startX,o=t.endX,u=-1*(s*n+(l-o)),c="translateX("+u+"px)";a&&2*Math.abs(u)>=n&&w.sync(i),c!==this._util.transformValue&&(this._util.drag.grabbing=!0,r.style[M]=c,this._util.transformValue=c)}},{key:"clearDrag",value:function(){var e=this;this._util.drag={currentDirection:null,endX:0,endY:0,grabbing:!1,horizontalDirection:0,last:0,startX:0,startY:0},this._util.grabTimeout&&clearTimeout(this._grabTimeout),this._util.grabTimeout=setTimeout(function(){e._util.drag.isVerticalDirection=!1},50)}},{key:"next",value:function(e){e.preventDefault(),e.stopPropagation(),this.showCurrent(1,{source:"button",type:"next",sourceEvent:e})}},{key:"prev",value:function(e){e.preventDefault(),e.stopPropagation(),this.showCurrent(-1,{source:"button",type:"prev",sourceEvent:e})}},{key:"keydown",value:function(e){this._state.disableEventHandlers||(e=e||window.event,37===e.keyCode?this.showCurrent(-1,{source:"key",type:"prev"}):39===e.keyCode&&this.showCurrent(1,{source:"key",type:"next"}))}},{key:"touchstart",value:function(e){if(!this._state.disableEventHandlers){var t=this._util,i=e.touches[0],n=i.pageX,r=i.pageY;t.pointerDown=!0,t.drag.isVerticalDirection=!1,t.drag.startX=n,t.drag.startY=r}}},{key:"touchend",value:function(e){this._state.disableEventHandlers||(this._util.pointerDown=!1,this.grab({source:"touch"}))}},{key:"touchmove",value:function(e){if(!this._state.disableEventHandlers){var t=this._util,i=t.drag,n=i.startX,r=i.startY,a=e.touches[0],s=a.pageX,l=a.pageY,o=0;i.isVerticalDirection||(Math.abs(r-l)>8&&(i.isVerticalDirection=r>l?1:-1),n!==s&&(o=n>s?1:-1),i.horizontalDirection=o,i.last!==s&&(i.currentDirection=i.last>s?1:-1,i.last=s),t.pointerDown&&(i.endX=s,i.endY=l,this.isValidMove(o)&&(t.drag.grabbing&&e.preventDefault(),Math.abs(r-l)>8&&(i.isVerticalDirection=r>l?1:-1),o&&!i.isVerticalDirection&&this.grabbing())))}}},{key:"mousedown",value:function(e){if(!this._state.disableEventHandlers){e.preventDefault&&e.preventDefault();var t=this._util,i=e.pageX,n=e.pageY;t.pointerDown=!0,t.drag.isVerticalDirection=!1,t.drag.startX=i,t.drag.startY=n}}},{key:"mouseup",value:function(e){this._state.disableEventHandlers||(this._util.sliderElem.style.cursor="-webkit-grab",this.grab({source:"mouse"}))}},{key:"mouseleave",value:function(e){if(!this._state.disableEventHandlers){e.preventDefault();var t=this._util,i=t.pointerDown,n=t.drag,r=t.sliderElem;if(i){var a=e.pageX,s=e.pageY;n.endX=a,n.endY=s,r.style.cursor="-webkit-grabbing",this.grabbing()}}}},{key:"mousemove",value:function(e){if(!this._state.disableEventHandlers){var t=this._util,i=t.pointerDown,n=t.sliderElem,r=t.drag;if(i){var a=e.pageX,s=e.pageY;this._util.pointerDown=!1,n.style.cursor="-webkit-grab",r.endX=a,r.endY=s,this.updateAfterDrag(),this.clearDrag()}}}},{key:"remove",value:function(){this._util.elem.remove()}},{key:"destroy",value:function(){this.removeEventListeners(),y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"negativeWidthCoefficient",get:function(){if(!this._util)return 0;var e=this._util,t=e.counter,i=e.dataList,n=e.resizeEnd,r=e.rightPadding;if(t>=i.size-2){if(r)return-r;if(n){var a=i.tail;if(!a)return 0;var s=a.style.width,l=a.getBoundingClientRect().width;a.style.width="";var o=a.getBoundingClientRect(),u=o.width;return a.style.width=s,-(l-Math.min(u,l))}}return 0}}]),t}(k);R.events={click:[["next-btn","next"],["prev-btn","prev"]],keydown:[["_self","keydown"]],mousedown:[["slides","mousedown"]],mouseleave:[["slides","mouseleave"]],mousemove:[["slides","mousemove"]],mouseup:[["slides","mouseup"]],touchend:[["slides","touchend"]],touchmove:[["slides","touchmove"]],touchstart:[["slides","touchstart"]]};var Y=R,U=window.wafer.controllers,q=U.WaferBaseController,J=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.root,n=void 0===i?document:i,r=e.selector,a=void 0===r?".wafer-scrollview":r;l(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{root:n,selector:a,WaferClass:Y}));return s.sync(),s}return u(t,e),t}(q),G=J;t.default=new G({})}})});