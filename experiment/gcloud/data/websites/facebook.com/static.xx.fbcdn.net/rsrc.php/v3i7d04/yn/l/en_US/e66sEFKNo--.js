if (self.CavalryLogger) { CavalryLogger.start_js(["BYkOb"]); }

__d("getComposerStateSnapshotter",["CometLruCache","memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";var g=b("CometLruCache").create(20);function h(a){a=a.inputProps;var b=a.depth;a=a.composerState.feedbackID;return JSON.stringify({depth:b,feedback:{id:a}})}function a(a){var b=h(a);return{clear:function(){g["delete"](b)},get:function(){return g.get(b)},set:function(a){g.set(b,a)}}}e.exports=b("memoizeWithArgsWeak")(a)}),null);
__d("withReparentingGuard",["React","getReactComponentDisplayName","isReactClassComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){function c(c){var d,e,f=b("isReactClassComponent")(c)?c:function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return g.jsx(c,babelHelpers["extends"]({},this.props))};return b}(g.Component),h;function i(b){b&&(h&&h!==b&&a(c),h=b)}var j=b("getReactComponentDisplayName")(c);return e=d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return g.jsx(f,babelHelpers["extends"]({},this.props,{ref:i}))};return b}(g.Component),d.displayName="withReparentingGuard("+j+")",e}return c}e.exports=a}),null);
__d("setFocusOnUFI2ComposerInputState",["FBLogger","ifRequired"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.inputState;switch(c.__type){case"editor-state-based":return b("ifRequired")("EditorState",function(b){return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{editorState:b.moveFocusToEnd(c.editorState)})})},function(){b("FBLogger")("ufi2").mustfix("Tried to set focus on a composer state whose inputState was of type `editor-state-based` but the EditorState module has not yet been defined. It should not be possible to produce a composer state of that type without the `EditorState` module being defined. Investigate why.");return a});case"plain-text":default:var d=c.text.length;return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{selectionOffsets:{end:d,start:d}})})}}e.exports=a}),null);
__d("UFI2AbstractButtonWrapper.react",["requireCond","cr:829648"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:829648")}),null);
__d("UFI2CommentActionLink.react",["cx","fbt","CometTrackingNodeProvider.react","React","UFI2AbstractButtonWrapper.react","UFI2ActionLink.react","gkx","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.className,d=a.floating,e=a.inverse,f=a.label,g=a.onClick;return i.jsx(b("UFI2ActionLink.react"),{floating:d,children:function(a){a=a.className;return i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:26,children:i.jsx(b("UFI2AbstractButtonWrapper.react"),babelHelpers["extends"]({className:b("joinClasses")((e?"_6r34":"")+" _666h",a,c),"data-testid":void 0},b("gkx")("708253")?null:{href:"#"},{label:(a=f)!=null?a:h._("Comment"),onClick:g,role:"button",tabIndex:0,title:h._("Leave a comment")}))})}})}a.displayName="UFI2CommentActionLink";e.exports=a}),null);
__d("UFI2CometRelayCreateFragmentContainer",["requireCond","cr:936168","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("relay-runtime").graphql;e.exports={createFragmentContainer:b("cr:936168").createFragmentContainer,graphql:a}}),null);
__d("UFI2PrimerDialogWrapper.react",["requireCond","cr:828359"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:828359")}),null);
__d("UFI2PrivateReplyLink.react",["fbt","invariant","ActorURI","Bootloader","React","UFI2CometRelayCreateFragmentContainer","UFI2LinkWrapper.react","UFI2PrimerDialogWrapper.react","UFI2TooltipCometCompatWrapper.react","XPagesMessagingPrivateReplyDialogController","UFI2PrivateReplyLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var k="private_reply",l=g._("Message");function a(a){var b,c;if(!m(a))return null;var d=(b=a.feedback.page_private_reply)==null?void 0:b.status;if(d==null)return null;b=a.WrapperComponent;switch(d){case"REPLYABLE":var e=(c=a.feedback.page_private_reply)==null?void 0:(c=c.activity)==null?void 0:c.id,f=(c=a.feedback.page_private_reply)==null?void 0:(c=c.activity)==null?void 0:c.type,g=a.feedbackSource,i=(c=a.feedback.page_private_reply)==null?void 0:(c=c.page)==null?void 0:c.id,k=(c=a.feedback.page_private_reply)==null?void 0:c.should_show_private_reply_nux;e!=null||h(0,5847);i!=null||h(0,5848);return j.jsx(b,{children:function(a){a=a.className;return j.jsx(p,{activityID:e,activityType:f,className:a,feedbackSource:g,pageID:i,shouldShowPrivateReplyNux:k})}});case"ALREADY_REPLIED":var l=(c=a.feedback.page_private_reply)==null?void 0:c.permalink;return l==null?null:j.jsx(b,{children:function(b){b=b.className;return j.jsx(q,{className:b,permalink:l,seeResponseLabel:a.seeResponseLabel})}});default:return j.jsx(b,{enabled:!1,children:function(b){var c;b=b.className;return j.jsx(r,{activityType:(c=a.feedback.page_private_reply)==null?void 0:(c=c.activity)==null?void 0:c.type,className:b,status:d})}})}}a.displayName="UFI2PrivateReplyLink";function m(a){var b,c;a=a.feedback;if(!a)return!1;b=(b=a.page_private_reply)==null?void 0:b.has_reply_permission;c=(c=a.viewer_actor)==null?void 0:c.id;a=(a=a.page_private_reply)==null?void 0:(a=a.page)==null?void 0:a.id;return b===!0&&c!=null&&c===a}function n(a){switch(a){case"COMMENT_PAGE_POST":case"COMMENT_WALL_POST":case"COMMENT_CUSTOMER_GROUP_USER_POST":case"COMMENT_REVIEW":return"comments";case"REVIEW":return"reviews";default:return"posts"}}var o=!1;function p(a){var c=a.activityID,d=a.activityType,e=a.className,f=a.feedbackSource,g=a.pageID;a=a.shouldShowPrivateReplyNux;f=b("ActorURI").create(b("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",c).setInt("feedback_source",f).getURI(),g);a=a!=!1&&!o;a!=!1&&(o=!0);b("Bootloader").loadModules(["PagesLogger"],function(a){a.log(g,"impression","comment_message_button",null,["business_messaging_growth"],{activity_type:d,comment_id:c,messenger_entry_point:k})},"UFI2PrivateReplyLink.react");return j.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2LinkWrapper.react"),props:{children:j.jsxs(j.Fragment,{children:[l,a===!0?j.jsx(s,{}):null]}),className:e,href:f.toString(),onClick:function(){b("Bootloader").loadModules(["PagesLogger"],function(a){a.log(g,"click","comment_message_button",null,["business_messaging_growth"],{activity_type:d,comment_id:c,messenger_entry_point:k})},"UFI2PrivateReplyLink.react")},rel:"dialog"}})}function q(a){var c=a.className,d=a.permalink;a=a.seeResponseLabel;return j.jsx(b("UFI2LinkWrapper.react"),{className:c,href:d||"#",children:a?g._("See Response"):l})}function r(a){var c=a.activityType,d=a.className;a=a.status;var e;switch(a){case"EXPIRED":e=g._({"comments":"You can't send a message in response to comments posted more than 7 days ago.","reviews":"You can't send a message in response to reviews posted more than 7 days ago.","posts":"You can't send a message in response to posts posted more than 7 days ago."},[g._enum(n(c),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case"NOT_USER_CREATED":e=g._("Pages can't send private messages to other Pages.");break;case"CANNOT_MESSAGE":e=g._("This person can't receive a message reply from your Page.");break}a=j.jsx("span",{className:d,children:l});return e!=null?j.jsx(b("UFI2TooltipCometCompatWrapper.react"),{delayMountUntilHover:!0,tooltip:e,children:a}):a}function s(){return null}d=c(a,{feedback:i!==void 0?i:i=b("UFI2PrivateReplyLink_feedback.graphql")});e.exports=d}),null);
__d("UFI2PrivateReplyActionLink.react",["cx","React","UFI2ActionLink.react","UFI2CometRelayCreateFragmentContainer","UFI2PrivateReplyLink.react","UFI2PrivateReplyActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c=a.feedback,d=a.feedbackSource;a=a.seeResponseLabel;return i.jsx(b("UFI2PrivateReplyLink.react"),{WrapperComponent:function(a){return i.jsx(b("UFI2ActionLink.react"),babelHelpers["extends"]({},a,{linkClassName:"_6dc2"}))},feedback:c,feedbackSource:d,seeResponseLabel:a})}a.displayName="UFI2PrivateReplyActionLink";d=c(a,{feedback:h!==void 0?h:h=b("UFI2PrivateReplyActionLink_feedback.graphql")});e.exports=d}),null);
__d("UFI2ReactionIcon.react",["CometReactionIcon.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h={reactionBounceAnimation:{animationDuration:"suguu2y7",animationName:"k52jgpo8"}};c=b("React");var i=c.useEffect,j=c.useRef;function a(a){var c=a.shouldAnimateOnFirstRender,d=a.shouldAnimateOnReactionChange,e=a.testid;e=babelHelpers.objectWithoutPropertiesLoose(a,["shouldAnimateOnFirstRender","shouldAnimateOnReactionChange","testid"]);var f=j(!1);i(function(){f.current=!0});c=!f.current&&c||f.current&&d;d=c?[h.reactionBounceAnimation,e.xstyle]:e.xstyle;return g.jsx(b("CometReactionIcon.react"),{alt:e.alt,reactionType:e.reaction,size:e.size,testid:void 0,xstyle:d},c?a.reaction:void 0)}e.exports=a}),null);
__d("UFI2ReactionUtils",["UFIReactionTypes"],(function(a,b,c,d,e,f){"use strict";var g={checkReactionKey:function(a){return a&&!b("UFIReactionTypes").reactions[a]?0:a||0},getReactionNameFromKey:function(a){a=g.checkReactionKey(a);if(a===0)return"none";else return b("UFIReactionTypes").reactions[a].name}};e.exports=g}),null);
__d("useTrackingCodeFnForBlueOrComet",["requireCond","cr:886520"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:886520")}),null);
__d("UFI2ReactionLink.react",["ix","cx","fbt","requireCond","requireDeferred","cr:1261406","CometTintedIcon.react","CometTrackingNodeProvider.react","CometUFIFocusWithinContext","Event","FBLogger","FocusWithinHandler.react","LiveVideoCometStreamingReactionsContext","React","ReactDOM","ShimButton.react","UFI2CometRelayCreateFragmentContainer","deferredLoadComponent","fbicon","cr:1519067","UFI2ReactionUtils","UFICommonInteractionLogger","UFIReactionTypes","clearTimeout","collectDataAttributes","emptyFunction","gkx","injectSubscriptionsHandler.react","joinClasses","nullthrows","setTimeoutAcrossTransitions","cr:1157165","useTrackingCodeFnForBlueOrComet","cr:1449064","stylex","UFI2ReactionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");c=b("React");var m=c.useCallback,n=c.useContext,o=c.useEffect,p=c.useRef,aa=c.useState;d=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var q=b("requireDeferred")("UFI2FeedbackReactMutation"),ba=b("deferredLoadComponent")(b("requireDeferred")("UFI2ReactionsMenu")),r=b("UFIReactionTypes").reactions,ca=16,da=7878,s=20,t="ontouchstart"in window,u=500,v={accessible_elem:{clip:"ofryzvom",clipPath:"cd7xify8",position:"tn8apwoe"},hasNotReacted:{filter:"tw2q2tq1"},hasReacted:{fontWeight:"bhd12jwn"},iconWrapper:{display:"hbms080z",verticalAlign:"gkamr9iy"},inlineReactButton:{marginStart:"t0fmm8kf"},overlayReactButton:{end:"scogw8cz",paddingTop:"qn38drkc",paddingEnd:"erfhpm37",paddingBottom:"rh0er1zr",paddingStart:"r6s06x95",position:"tn8apwoe",top:"v1023e52"},reactWithA11yButton:{alignItems:"rh7womw9",display:"q4pta889"},root:{alignItems:"rh7womw9",display:"q4pta889",flexGrow:"q4j490t4",flexShrink:"rmfx599b",justifyContent:"bn9dirzp"}},w=b("gkx")("1483583"),x=!1,y=!1;function ea(a){if(a==null)return null;a=b("UFIReactionTypes").ordering.indexOf(a);if(a!==-1){a=b("UFIReactionTypes").ordering[a];return a}return null}function a(a){var c,d=p(null),e=p(null),f=p(null),h=p(null),j=p(null),z=p(null),A=p(null),B=p(null),C=p(null),D=p(null),E=aa({hasPreviouslyShownMenu:!1,isLongPressing:!1,isScrubbing:!1,isTouchDown:!1,showMenu:!1}),F=E[0],G=E[1],H=m(function(a,c){var d=b("ReactDOM").findDOMNode(B.current);return d?b("collectDataAttributes")(d,a,c):null},[]);E=m(function(){var b;return((b=a.feedback.supported_reactions)!=null?b:[]).map(function(a){return ea(a.key)}).filter(Boolean)},[a.feedback.supported_reactions]);var I=b("useTrackingCodeFnForBlueOrComet")(),J=b("emptyFunction").thatReturnsNull;b("cr:1157165")!=null&&(J=b("cr:1157165")());var K=b("cr:1449064")(da,a.relay.environment),L=K[0],M=K[1];K=n(b("LiveVideoCometStreamingReactionsContext"));var N=K.diffuser,O=K.viewerProfilePicture,P=a.feedback,Q=a.feedbackSource,R=a.mutationInputAugmenter,fa=a.onReactionError,ga=a.relay.environment,ha=a.useDefaultActor,S=m(function(a,c){var f,g=b("nullthrows")(P.id),h=b("nullthrows")((f=P.viewer_actor)==null?void 0:f.id);d.current&&d.current.dispose();e.current&&e.current.remove();var i=babelHelpers["extends"]({feedback_id:g,feedback_reaction:a,feedback_source:Q},I(H));R&&(i=R(i));e.current=q.onReadyImmediately(function(a){d.current=a.commit({actorID:h,environment:ga,feedbackArg:P,input:i,onError:(a=fa)!=null?a:b("emptyFunction"),useDefaultActor:ha})});w&&X.current&&(C.current!=null&&C.current.focus(),X.current=!1);G(function(a){return babelHelpers["extends"]({},a,{isScrubbing:!1,showMenu:!1})});y===!1&&a===ca&&(y=!0,L({},function(){return M()}));N!=null&&b("cr:1519067")!=null&&O!=null&&b("cr:1519067")(N,a,O);f=-1;J(c.timeStamp,f);g=q.getModuleIfRequired();g==null&&b("FBLogger")("ufi2").warn("UFI2 reactions loading state was not ready")},[N,M,ga,P,Q,H,R,J,fa,ha,L,I,O]),ia=m(function(c){var d,e;a.interactionEvent&&(e=b("UFICommonInteractionLogger").startInteraction(a.interactionEvent));d=(d=a.feedback.viewer_feedback_reaction_info)==null?void 0:d.key;d=b("UFI2ReactionUtils").checkReactionKey(d);d=d?b("UFIReactionTypes").NONE:b("UFIReactionTypes").LIKE;e!=null&&(z.current={newReactionKey:d,trackingID:e});S(d,c)},[S,a]),ja=m(function(a){F.isTouchDown&&a.preventDefault()},[F]),ka=m(function(a){a.preventDefault()},[]);K=m(function(a){b("clearTimeout")(j.current)},[]);var la=function(a){b("clearTimeout")(j.current),b("gkx")("893099")&&(A.current=b("setTimeoutAcrossTransitions")(function(){G(function(a){return babelHelpers["extends"]({},a,{hasPreviouslyShownMenu:!0,isLongPressing:!0,showMenu:!0})})},u),G(function(a){return babelHelpers["extends"]({},a,{isLongPressing:!1})}))},ma=m(function(a){b("clearTimeout")(A.current)},[]),T=m(function(){G(function(a){return babelHelpers["extends"]({},a,{hasPreviouslyShownMenu:!0,showMenu:!0})})},[]),U=m(function(){w&&X.current&&(C.current!=null&&C.current.focus(),X.current=!1),G(function(a){return babelHelpers["extends"]({},a,{isScrubbing:!1,showMenu:!1})})},[]),V=m(function(){X.current=!0,T()},[T]),na=m(function(){x=!0,V()},[V]),oa=m(function(c){b("clearTimeout")(j.current),F.showMenu||(j.current=b("setTimeoutAcrossTransitions")(T,a.showDelay))},[F.showMenu,T,a.showDelay]),W=m(function(c){b("clearTimeout")(j.current);if(w&&X.current)return;F.showMenu&&(j.current=b("setTimeoutAcrossTransitions")(U,a.hideDelay))},[U,a.hideDelay,F.showMenu]),pa=m(function(a){F.showMenu||(A.current=b("setTimeoutAcrossTransitions")(function(){G(function(a){return babelHelpers["extends"]({},a,{hasPreviouslyShownMenu:!0,isLongPressing:!0,showMenu:!0})})},u)),G(function(a){return babelHelpers["extends"]({},a,{isLongPressing:!1,isTouchDown:!0})})},[F.showMenu]),qa=m(function(a){f.current=null,h.current=null,b("clearTimeout")(A.current),G(function(a){return babelHelpers["extends"]({},a,{isLongPressing:!1,isTouchDown:!1})})},[]),ra=m(function(a){if(F.isScrubbing)return;a=a.touches[0];var b=a.clientX;a=a.clientY;if(f.current===null&&h.current===null){f.current=b;h.current=a;return}typeof f.current==="number"&&typeof h.current==="number"&&(f.current>b+s||f.current<b-s||h.current>a+s||h.current<a-s)&&G(function(a){return babelHelpers["extends"]({},a,{isScrubbing:!0})})},[F.isScrubbing]);o(function(){return function(){b("clearTimeout")(j.current)}},[]);o(function(){var c=z.current;if(c){var d;d=(d=a.feedback)==null?void 0:(d=d.viewer_feedback_reaction_info)==null?void 0:d.key;d=b("UFI2ReactionUtils").checkReactionKey(d);d===c.newReactionKey&&(b("UFICommonInteractionLogger").endInteraction(c.trackingID),z.current=null)}});o(function(){if(F.showMenu){if(t){var c;a.subscriptionsHandler.addSubscriptions(b("Event").listen(document.documentElement,"touchstart",function(a){c=a.touches[0]}),b("Event").listen(document.documentElement,"touchmove",function(a){c=a.touches[0]}),b("Event").listen(document.documentElement,"touchend",function(a){c&&D.current&&D.current.contains(document.elementFromPoint(c.clientX,c.clientY))&&G(function(a){return babelHelpers["extends"]({},a,{isScrubbing:!1,showMenu:!1})})}))}}else a.subscriptionsHandler.release(),a.subscriptionsHandler.engage()},[a.subscriptionsHandler,F.showMenu]);var X=p(!1);c=(c=a.feedback.viewer_feedback_reaction_info)==null?void 0:c.key;var Y=b("UFI2ReactionUtils").checkReactionKey(c),Z,$;if(!Y)Z=r[b("UFIReactionTypes").LIKE].display_name;else{c=r[Y];var sa=c.display_name;c=c.color;Z=sa;$=c}var ta=Y?i._("Remove {selected reaction}",[i._param("selected reaction",Z)]):Z,ua=n(b("CometUFIFocusWithinContext")),va=Y?i._("Change {selected reaction} reaction",[i._param("selected reaction",Z)]):i._("React"),wa=a.displayInlineBlock===!1?b("fbicon")._(g("481882"),16):b("fbicon")._(g("481880"),12);return l.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:Y===b("UFIReactionTypes").NONE?5:6,children:l.jsxs("div",{className:"_8c74",ref:D,children:[l.jsx(b("FocusWithinHandler.react"),{onFocusVisibleChange:w?function(){}:V,children:function(c,d){c=c&&d;d=c||ua||X.current;return b("gkx")("708253")&&b("cr:1261406")?l.jsxs("span",{className:w&&a.displayInlineBlock!==!1&&d?(k||(k=b("stylex")))(v.reactWithA11yButton):null,children:[l.jsx(b("cr:1261406"),{"aria-pressed":w?void 0:(!!Y).toString(),focusable:w,label:w?ta:Z,onContextMenu:ja,onHoverIn:oa,onHoverOut:W,onPress:ia,onPressIn:la,onPressOut:ma,overlayDisabled:!0,ref:B,testid:void 0,xstyle:[v.root,!!Y&&v.hasReacted],children:l.jsxs("div",{className:a.className,style:{color:$},children:[l.jsx("span",{className:(k||(k=b("stylex")))(v.iconWrapper,!Y&&v.hasNotReacted),children:a.children}),Z]})}),w?l.jsx(b("cr:1261406"),{focusable:!0,label:va,onPress:V,ref:C,xstyle:[!d&&v.accessible_elem,a.displayInlineBlock===!1&&v.overlayReactButton,a.displayInlineBlock!==!1&&v.inlineReactButton],children:l.jsx(b("CometTintedIcon.react"),{color:"fds-gray-70",icon:wa})}):null]}):l.jsxs("span",{className:w&&a.displayInlineBlock!==!1&&d?(k||(k=b("stylex")))(v.reactWithA11yButton):null,children:[l.jsxs("a",{"aria-label":w?ta:void 0,"aria-pressed":w?void 0:(!!Y).toString(),className:b("joinClasses")((Y?"_3_16":"")+" _6a-y",a.className),"data-testid":void 0,href:"#",onClick:ia,onContextMenu:ja,onDragStart:ka,onMouseDown:la,onMouseEnter:oa,onMouseLeave:W,onMouseUp:ma,onTouchEnd:t?qa:null,onTouchMove:t?ra:null,onTouchStart:t?pa:null,ref:B,role:"button",style:{color:$},tabIndex:F.hasPreviouslyShownMenu&&!w?-1:0,children:[a.children,Z]}),w?l.jsx(b("ShimButton.react"),{"aria-label":va,className:(k||(k=b("stylex")))([!d&&v.accessible_elem,a.displayInlineBlock===!1&&v.overlayReactButton,a.displayInlineBlock!==!1&&v.inlineReactButton]),onClick:V,onRef:function(a){return C.current=a},children:l.jsx(b("CometTintedIcon.react"),{color:"fds-gray-70",icon:wa})}):null]})}}),l.jsx(l.Suspense,{fallback:w?null:l.jsx("button",{className:"accessible_elem",onClick:na,tabIndex:-1,type:"button",children:i._("Show more reactions")}),children:l.jsx(ba,{initialReaction:Y,isLongPressing:F.isLongPressing,isScreenReader:x,onBlur:U,onFocus:T,onMouseEnter:K,onMouseLeave:W,onReactionClick:S,onReactionMouseEnter:b("emptyFunction"),onReactionMouseLeave:b("emptyFunction"),shouldFocusOnShow:function(){return X.current||x},shouldRenderDialog:w,shown:F.showMenu,supportedReactions:E()})})]})})}e.exports=d(b("injectSubscriptionsHandler.react")(a),{feedback:j!==void 0?j:j=b("UFI2ReactionLink_feedback.graphql")})}),null);
__d("UFI2ReactionActionLink.react",["ix","cx","CometTrackingNodeProvider.react","Image.react","React","UFI2ActionLink.react","UFI2CometRelayCreateFragmentContainer","UFI2ReactionIcon.react","UFI2ReactionLink.react","UFI2ReactionUtils","UFICommonInteractionEvents","UFIReactionTypes","stylex","asset","joinClasses","UFI2ReactionActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var k={inlineUFIIcon:{marginRight:"qoqs7rgl"}},l=525,m=750;function n(a){a=(a=a.feedback)==null?void 0:(a=a.viewer_feedback_reaction_info)==null?void 0:a.key;a=b("UFI2ReactionUtils").checkReactionKey(a);return a}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=n(this.props)};d.componentDidUpdate=function(){this.$1=n(this.props)};d.render=function(){var a=this.props,c=a.className,d=a.displayInlineBlock,e=a.feedback,f=a.feedbackSource,h=a.floating,i=a.mutationInputAugmenter,o=a.useDefaultActor,p=a.onReactionError;a=n(this.props);var q;!a?q=j.jsx(b("Image.react"),{alt:"",className:"_6rk2",src:this.props.inverse===!0?this.props.filled===!0?g("352555"):g("352559"):g("347022")}):a!==b("UFIReactionTypes").LIKE?q=j.jsx(b("UFI2ReactionIcon.react"),{alt:"",reaction:a,shouldAnimateOnFirstRender:Boolean(this.props.enableAnimations)&&(this.$1===b("UFIReactionTypes").NONE||this.$1===b("UFIReactionTypes").LIKE),shouldAnimateOnReactionChange:Boolean(this.props.enableAnimations),size:18,xstyle:k.inlineUFIIcon}):q=j.jsx(b("Image.react"),{alt:"",className:"_6rk2",src:g("347019")});return j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:a===b("UFIReactionTypes").NONE?5:6,children:j.jsx(b("UFI2ActionLink.react"),{floating:h,showIcon:!q,children:function(a){a=a.className;return j.jsx("div",{className:"_666k","data-testid":void 0,children:j.jsx(b("UFI2ReactionLink.react"),{className:b("joinClasses")("_3l2t",a,c),displayInlineBlock:d!==!1,feedback:e,feedbackSource:f,hideDelay:m,interactionEvent:b("UFICommonInteractionEvents").UFI2_STORY_REACTION,mutationInputAugmenter:i,onReactionError:p,showDelay:l,useDefaultActor:o,children:q})})}})})};return c}(j.Component);c.displayName="UFI2ReactionActionLink";e.exports=a(c,{feedback:i!==void 0?i:i=b("UFI2ReactionActionLink_feedback.graphql")})}),null);
__d("Button",["csx","cx","invariant","CSS","DataStore","DOM","Event","Parent","emptyFunction","isNode"],(function(a,b,c,d,e,f,g,h,i){var j="uiButtonDisabled",k="uiButtonDepressed",l="_42fr",m="_42fs",n="button:blocker",o="href",p="ajaxify";function q(a,c){var d=b("DataStore").get(a,n);c?d&&(d.remove(),b("DataStore").remove(a,n)):d||b("DataStore").set(a,n,b("Event").listen(a,"click",b("emptyFunction").thatReturnsFalse,b("Event").Priority.URGENT))}function r(a){a=b("Parent").byClass(a,"uiButton")||b("Parent").bySelector(a,"._42ft");if(!a)throw new Error("invalid use case");return a}function s(a){return b("DOM").isNodeOfType(a,"a")}function t(a){return b("DOM").isNodeOfType(a,"button")}function u(a){return b("CSS").matchesSelector(a,"._42ft")}var v={getInputElement:function(a){a=r(a);if(s(a))throw new Error("invalid use case");if(t(a)){a instanceof HTMLButtonElement||i(0,21261);return a}return b("DOM").find(a,"input")},isEnabled:function(a){return!(b("CSS").hasClass(r(a),j)||b("CSS").hasClass(r(a),l))},setEnabled:function(a,c){a=r(a);var d=u(a)?l:j;b("CSS").conditionClass(a,d,!c);if(s(a)){d=a.getAttribute("href");var e=a.getAttribute("ajaxify"),f=b("DataStore").get(a,o,"#"),g=b("DataStore").get(a,p);c?(d||a.setAttribute("href",f),!e&&g&&a.setAttribute("ajaxify",g),a.removeAttribute("tabIndex")):(d&&d!==f&&b("DataStore").set(a,o,d),e&&e!==g&&b("DataStore").set(a,p,e),a.removeAttribute("href"),a.removeAttribute("ajaxify"),a.setAttribute("tabIndex","-1"));q(a,c)}else{f=v.getInputElement(a);f.disabled=!c;q(f,c)}},setDepressed:function(a,c){a=r(a);var d=u(a)?m:k;b("CSS").conditionClass(a,d,c)},isDepressed:function(a){a=r(a);var c=u(a)?m:k;return b("CSS").hasClass(a,c)},setLabel:function(a,c){a=r(a);if(u(a)){var d=[];c&&d.push(c);var e=b("DOM").scry(a,".img");for(var f=0;f<e.length;f++){var g=e[f],h=g.parentNode;h.classList&&(h.classList.contains("_4o_3")||h.classList.contains("_-xe"))?a.firstChild===h?d.unshift(h):d.push(h):a.firstChild==g?d.unshift(g):d.push(g)}b("DOM").setContent(a,d)}else if(s(a)){h=b("DOM").find(a,"span.uiButtonText");b("DOM").setContent(h,c)}else v.getInputElement(a).value=c;g=u(a)?"_42fv":"uiButtonNoText";b("CSS").conditionClass(a,g,!c)},getIcon:function(a){a=r(a);return b("DOM").scry(a,".img")[0]},setIcon:function(a,c){if(c&&!b("isNode")(c))return;var d=v.getIcon(a);if(!c){d&&b("DOM").remove(d);return}b("CSS").addClass(c,"customimg");d!=c&&(d?b("DOM").replace(d,c):b("DOM").prependContent(r(a),c))}};e.exports=v}),null);
__d("TabIsolation",["Event","Focus","Keys","TabbableElements","containsNode"],(function(a,b,c,d,e,f){var g=[],h=0;a=function(){"use strict";function a(a){this.$3=a,this.$1=null,this.$2=h++}var c=a.prototype;c.enable=function(){var a=this;this.disable();g.unshift(this.$2);this.$1=b("Event").listen(window,"keydown",function(b){g[0]===a.$2&&a.$4(b)},b("Event").Priority.URGENT)};c.disable=function(){if(this.$1){var a=g.indexOf(this.$2);a>-1&&g.splice(a,1);this.$1.remove();this.$1=null}};c.$4=function(a){if(b("Event").getKeyCode(a)!==b("Keys").TAB)return;var c=a.getTarget();if(!c)return;var d=b("TabbableElements").find(this.$3),e=d[0];d=d[d.length-1];var f=a.getModifiers();f=f.shift;f&&c===e?(a.preventDefault(),b("Focus").set(d)):(!f&&c===d||!b("containsNode")(this.$3,c))&&(a.preventDefault(),b("Focus").set(e))};return a}();e.exports=a}),null);
__d("UFI2LocalUserAction",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("EventEmitter"))()}),null);
__d("UFI2ShareActionLink.react",["cx","fbt","invariant","Promise","ActorURI","AsyncDialog","AsyncRequest","Bootloader","CurrentUser","JSResource","React","TrackingNodes","UFI2ActionLink.react","UFI2CometRelayCreateFragmentContainer","UFI2LinkWrapper.react","UFI2LocalUserAction","UFI2PrimerDialogWrapper.react","UFICommonInteractionEvents","UFICommonInteractionLogger","URI","XShareDialogController","XUISpinner.react","clearTimeout","joinClasses","lazyLoadComponent","qex","setTimeoutAcrossTransitions","UFI2ShareActionLink_feedback.graphql","UFI2ShareActionLink_shareableConfig.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var n=b("lazyLoadComponent")(b("JSResource")("UFIShareNowMenu.react").__setRef("UFI2ShareActionLink.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=!1,d.$3=!1,d.$4=null,d.$5=m.createRef(),d.state={focusOnInit:!1,interacted:!1,isLoading:!1,misinformationDialogConfirmed:!1,openAfterMisinformationConfirmed:!1,openAfterPagePostInterceptionConfirmed:!1,openAfterReshareConfirmed:!1,openOnInit:!1,reshareFrictionViewed:!1},d.$6=function(){d.$1!=null&&(b("UFICommonInteractionLogger").endInteraction(d.$1),d.$1=null),d.$3=!0,d.$7()},d.$8=function(){d.$3=!1},d.$9=function(){var a=d.props,c=a.feedbackTargetID;a=a.shareableConfig;var e=a==null?void 0:a.misinformation_confirm_dialog_uri;e!=null||i(0,866);b("Bootloader").loadModules(["ShareWarningFactCheckLinkLogger"],function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(new(l||(l=b("URI")))(e).getUnqualifiedURI()).setRelativeTo(d.$5.current),function(b){b.subscribe("confirm",function(){d.setState({misinformationDialogConfirmed:!0,openAfterMisinformationConfirmed:!0})}),a.addReshareLoggingToDialog(b,c)})},"UFI2ShareActionLink.react");d.$7()},d.$10=function(){var a;a=(a=d.props.shareableConfig)==null?void 0:a.reshare_warning_framework_dialog_uri;b("AsyncDialog").send(new(b("AsyncRequest"))(a).setRelativeTo(d.$5.current),function(a){a.subscribe("confirm",function(){a.hide(),d.setState({openAfterReshareConfirmed:!0,reshareFrictionViewed:!0}),d.$7()}),a.subscribe("cancel",function(){a.hide(),d.setState({reshareFrictionViewed:!0})})})},d.$12=function(){d.$1==null&&!d.$3&&(d.$1=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI2_SHARE_DIALOG_OPENS))},d.$14=function(){if(d.$2)return;d.setState({focusOnInit:!0,interacted:!0})},d.$15=function(){d.$2||d.$16()},d.$17=function(){d.$2=!0},d.$18=function(){d.setState({interacted:!0})},d.$16=function(){d.setState({interacted:!0,openOnInit:!0},function(){b("clearTimeout")(d.$4),d.$4=b("setTimeoutAcrossTransitions")(function(){return d.setState(function(a){return a.openOnInit?{isLoading:!0}:null})},300)}),d.$12()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){b("clearTimeout")(this.$4)};d.$7=function(){b("UFI2LocalUserAction").emit("share",{feedbackNodeToken:this.props.feedbackTargetID})};d.$11=function(a){var c=this;b("Bootloader").loadModules(["PagePostEngagementFrictionActions","PagePostEngagementFictionDialogStrings","promiseDone"],function(d,e,f){var g=new(b("Promise"))(function(b,c){d.showReshareEngagementFrictionDialog(a,function(){return b(!0)},function(){return b(!1)},function(){b(!1);var c=e.getStrings(a);d.goToPage(c.pageId)})}).then(function(a){a&&(c.setState({interacted:!0,openAfterPagePostInterceptionConfirmed:!0}),c.$12())},function(a){throw a});f(g)},"UFI2ShareActionLink.react")};d.$13=function(a){this.$7();var c=b("CurrentUser").isWorkUser()?b("XShareDialogController").getURIBuilder().setEnum("default_audience","group").getURI():b("XShareDialogController").getURIBuilder().getURI();a!=null&&b("AsyncDialog").send(new(b("AsyncRequest"))(c).setData({id:a.shareable_id,parent_fbid:a.shared_from_post_id,type:a.share_type}).setRelativeTo(this.$5.current))};d.render=function(){var a,c=this,d=this.props,e=d.className,f=d.linkClassName,g=d.feedback,h=d.feedbackTargetID,i=d.inverse;d=d.shareableConfig;var j=this.state,k=j.focusOnInit,p=j.interacted,q=j.isLoading,r=j.misinformationDialogConfirmed,s=j.openAfterMisinformationConfirmed,t=j.openAfterReshareConfirmed,u=j.openOnInit;j=j.reshareFrictionViewed;if(!d||!d.share_action_link_uri)return null;g=g==null?void 0:(g=g.viewer_actor)==null?void 0:g.id;var v=d==null?void 0:d.misinformation_confirm_dialog_uri,w=d==null?void 0:d.intercept_for_page_post,x=d==null?void 0:(a=d.share_action_link_primer_attributes)==null?void 0:a.rel,y=new(l||(l=b("URI")))(d==null?void 0:d.share_action_link_uri);a=d==null?void 0:d.share_now_menu_uri;d=d==null?void 0:d.reshare_warning_framework_dialog_uri;if(v&&!r)return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(a){a=a.className;return m.jsx(o,{className:a,inverse:i,onClick:c.$9})}});else if(d!=null&&!j)return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(a){a=a.className;return m.jsx(o,{className:a,inverse:i,onClick:c.$10})}});if(w&&!this.$3&&!this.state.openAfterPagePostInterceptionConfirmed)return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(a){a=a.className;return m.jsx(o,{className:a,inverse:i,onClick:function(a){return c.$11(h)}})}});var z;g&&(y=y&&b("ActorURI").create(y,g),z=a&&new(l||(l=b("URI")))(a).addQueryData("actor_id",g));if(!z)return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(a){a=a.className;return m.jsx(o,{className:a,href:y,inverse:i,onClick:function(){return c.$7()},openDialogOnMount:s||t,rel:x})}});var A={isLoading:q,onClick:this.$15,onFocus:this.$14,onMouseDown:this.$17,onMouseOver:this.$18,onMouseUp:this.$16,openDialogOnMount:s||t},B=z.getQueryData();return m.jsx(b("UFI2ActionLink.react"),{linkClassName:f,children:function(a){a=a.className;return m.jsx("span",{className:b("joinClasses")("_1j6m",e),children:z&&p?m.jsx(m.Suspense,{fallback:m.jsx(o,babelHelpers["extends"]({},A,{className:a,inverse:i})),children:m.jsx(n,{className:"_6800",endpoint:z.getPath(),endpointData:B,focusOnInit:k,onHide:c.$8,onShow:c.$6,openOnInit:u||c.state.openAfterPagePostInterceptionConfirmed,children:m.jsx(o,{className:a,inverse:i,onClick:b("qex")._("1087397")?function(){return c.$13(B)}:function(){return c.$7()},onMouseUp:c.$12})})}):m.jsx(o,babelHelpers["extends"]({},A,{className:a,inverse:i}))})}})};return c}(m.Component);c.displayName="UFI2ShareActionLink";var o=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=null,b.$2=function(a){b.$1=a},b.$3=function(a){var c=b.props.onClick;c&&(a.preventDefault(),c(a))},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.componentDidMount=function(){var a=this.props.openDialogOnMount;a===!0&&this.$1&&this.$1.click()};d.render=function(){var a=this.props,c=a.className,d=a.href,e=a.inverse,f=a.isLoading,g=a.onFocus,i=a.onMouseDown,j=a.onMouseOver,k=a.onMouseUp;a=a.rel;d=d&&!d.isEmpty()?d.getUnqualifiedURI():"#";var l=b("CurrentUser").isWorkUser()?h._("Send this to coworkers or post it on your timeline."):h._("Send this to friends or post it on your timeline."),n='{ "tn": "'+b("TrackingNodes").encodeTN(b("TrackingNodes").types.SHARE_LINK)+'", "type": 25 }';f=f===!0?m.jsx(b("XUISpinner.react"),{className:"_2nj6"}):null;f={children:m.jsxs(m.Fragment,{children:[h._("Share"),f]}),className:b("joinClasses")((e?"_6r37":"")+" _2nj7",c),"data-ft":n,href:d.toString(),onClick:this.$3,onFocus:g,onMouseDown:i,onMouseOver:j,onMouseUp:k,ref:this.$2,rel:a,role:"button",tabIndex:0,title:l};if(a==="dialog"){e=babelHelpers["extends"]({},f,{rel:a});return m.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2LinkWrapper.react"),props:e})}return m.jsx("a",babelHelpers["extends"]({},f))};return a}(m.Component);e.exports=a(c,{feedback:j!==void 0?j:j=b("UFI2ShareActionLink_feedback.graphql"),shareableConfig:k!==void 0?k:k=b("UFI2ShareActionLink_shareableConfig.graphql")})}),null);
__d("UFI2ActorSelector.react",["cx","BizSiteIdentifier.brands","JSResource","PageVoiceDropdownSelector.react","React","Run","UFI2CometRelayCreateFragmentContainer","UFI2NUXConfig","UFIODSLogger","emptyFunction","isEmpty","joinClasses","lazyLoadComponent","UFI2ActorSelector_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var k=b("lazyLoadComponent")(b("JSResource")("UFI2ActorSelectorNUX.react").__setRef("UFI2ActorSelector.react")),l=!1;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.root=j.createRef(),e.state=c.getDerivedStateFromProps(e.props),e.$1=function(){return e.setState({showNUX:!1})},e.$2=function(a){b("UFIODSLogger").bump("actor_selector.on_change","relay"),e.props.onActorChange(a.value)},d)||babelHelpers.assertThisInitialized(e)}c.getDerivedStateFromProps=function(a,b){var c,d;a=a.feedback;c=(c=(c=(c=a.viewer_actor)==null?void 0:c.id)!=null?c:(c=a.account_actor)==null?void 0:c.id)!=null?c:"";if(!a.can_see_voice_switcher)return{actorData:{},selectedActorID:c,showNUX:Boolean(b&&b.showNUX),userID:c};d=(d=(d=a.voice_switcher_actors)==null?void 0:d.nodes)!=null?d:[];var e={};d.forEach(function(a){var b=a.id;if(b){e[b]={name:a.name,thumbSrc:(b=a.profile_picture)==null?void 0:b.uri}}});a=(d=a.account_actor)==null?void 0:d.id;(a==null||!(a in e))&&(a=c);return{actorData:e,selectedActorID:c,showNUX:Boolean(b&&b.showNUX),userID:a}};var d=c.prototype;d.componentDidMount=function(){var a=this;b("UFIODSLogger").bump("actor_selector.component_did_mount","relay");!l&&b("UFI2NUXConfig").shouldShowActorSelectorNUX&&(l=!0,b("Run").onAfterLoad(function(){a.setState({showNUX:!0})}))};d.render=function(){var a=this,c=this.state,d=c.actorData,e=c.selectedActorID;c=c.userID;return(i||(i=b("isEmpty")))(d)||!d[e]?null:j.jsxs("div",{className:b("joinClasses")(this.props.className,"_29ak"),ref:this.root,children:[j.jsx(b("PageVoiceDropdownSelector.react"),{disabled:!1,onChange:this.$2,onClick:b("emptyFunction"),pages:d,searchBarVisible:!0,selectedActorID:e,showBusinessPages:!1,showPersonalPagesInRoot:!b("BizSiteIdentifier.brands").isBizSite(),suppressed:!0,user:d[c]}),this.state.showNUX?j.jsx(j.Suspense,{fallback:null,children:j.jsx(k,{contextRef:function(){return a.root.current},feedback:this.props.feedback,onClose:this.$1})}):null]})};return c}(j.Component);e.exports=a(c,{feedback:h!==void 0?h:h=b("UFI2ActorSelector_feedback.graphql")})}),null);
__d("UFI2AddCommentLink.react",["cx","fbt","React","TrackingNodes","UFI2AbstractButtonWrapper.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.label;c=c===void 0?h._("Write a comment\u2026"):c;a=a.onClick;return i.jsx("div",{className:"_694w","data-testid":void 0,children:i.jsx(b("UFI2AbstractButtonWrapper.react"),{className:"_694x","data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.COMMENT_LINK),"data-testid":void 0,href:"#",label:c,onClick:a,role:"button"})})}e.exports=a}),null);
__d("UFI2CommentDefaultLayout.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.childrenForLayout;var b=a.actionLinks,c=a.firstContentElement,d=a.menu;a=a.otherContentElements;return h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"_6c7i",children:c}),d!=null&&h.jsx("div",{className:"_6c7j",children:d})]}),a.length>0&&h.jsx("div",{className:"_4eeo",children:a}),b]})}e.exports=a}),null);
__d("UFI2CommentGroupContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({authorHasGroupMemberProfile:!1,authorType:null,groupID:null});e.exports=c}),null);
__d("UFI2CommentRow.react",["cx","fbt","requireDeferred","FlexibleBlock.react","Image.react","React","RelayFBMatchContainer","UFI2CometRelayCreateFragmentContainer","UFI2ProfileLinkDynamic.react","UFI2SilhouetteConfig","URI","deferredLoadComponent","joinClasses","UFI2CommentRow_actor.graphql","UFI2CommentRow_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var m=b("deferredLoadComponent")(b("requireDeferred")("UFI2ActorPresenceProvider.react"));function a(a){var c=a.actor,d=a.children,e=a.comment,f=a.depth,g=a.displayPresence;g=g===void 0?!1:g;var i=a.isComposer;i=i===void 0?!1:i;var j=a.onAvatarClick;a.relay;var n=a.showWarning;n=n===void 0?!1:n;var o=a.root;a=babelHelpers.objectWithoutPropertiesLoose(a,["actor","children","comment","depth","displayPresence","isComposer","onAvatarClick","relay","showWarning","root"]);var p=null;if(c){var q;q=f===0?(q=(q=c.profile_picture_depth_0)==null?void 0:q.uri)!=null?q:b("UFI2SilhouetteConfig").neutralSilhouette32:(q=(q=c.profile_picture_depth_1_legacy)==null?void 0:q.uri)!=null?q:b("UFI2SilhouetteConfig").neutralSilhouette20;var r=c.id;q=l.jsxs(l.Fragment,{children:[l.jsx(b("Image.react"),{alt:c.name,className:"_3me-"+(f===0?" _3mf1":"")+(f===1?" _3mf2":""),src:q}),g&&r!=null?l.jsx(l.Suspense,{fallback:l.jsx("span",{}),children:l.jsx(m,{actorID:r,children:function(a){return a&&l.jsx("span",{className:"_6bi7",children:l.jsx("span",{className:"accessible_elem",children:h._("Active Now")})})}})}):null]});g=b("joinClasses")((n?"_2nvx":"")+" _3mf5"+(f===0?" _3mg0":"")+(f===1?" _3mg1":""));n=new(k||(k=b("URI")))(c.www_url);(e==null?void 0:e.id)!=null&&n.addQueryData({comment_id:e.id});p=r!=null&&c.www_url!=null?l.jsx(b("UFI2ProfileLinkDynamic.react"),{"aria-hidden":!0,className:g,href:String(n),tabIndex:-1,uid:r,children:q}):l.jsx("span",{"aria-hidden":!0,className:g,onClick:j,children:q})}c=i?{}:{"aria-label":f===0?h._("Comment"):h._("Comment reply"),role:"article"};return l.jsxs(l.Fragment,{children:[l.jsx(l.Suspense,{fallback:null,children:l.jsx(b("RelayFBMatchContainer"),{match:e==null?void 0:e.sub_reply_parent_preview_context})}),l.jsx(l.Suspense,{fallback:null,children:l.jsx(b("RelayFBMatchContainer"),{match:e==null?void 0:e.sub_reply_parent_above_comment_author_context})}),l.jsx(b("FlexibleBlock.react"),babelHelpers["extends"]({root:o},c,a,{flex:b("FlexibleBlock.react").FLEX.right,left:p,right:d}))]})}a.displayName="UFI2CommentRow";e.exports=c(a,{actor:i!==void 0?i:i=b("UFI2CommentRow_actor.graphql"),comment:j!==void 0?j:j=b("UFI2CommentRow_comment.graphql")})}),null);
__d("UFI2CommentTopReactionsWrapper.react",["cx","requireCond","CSS","DOMIntersection","React","cr:1009153","UFI2CometRelayCreateFragmentContainer","injectSubscriptionsHandler.react","intersectionObserverEntryIsIntersecting","observeIntersection","queryThenMutateDOM","UFI2CommentTopReactionsWrapper_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("DOMIntersection").isIntersecting,j=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=!1,d.$4=null,d.$5=null,d.$6=function(a){d.$1=a,a==null&&(d.$5=null),d.$7()},d.$8=function(a){d.$4!=a&&(d.$4=a,d.$2!=null&&(d.$2.remove(),d.$2=null),a&&(d.$2=b("observeIntersection")(a,function(a){d.$3=b("intersectionObserverEntryIsIntersecting")(a),d.$7()},{rootMargin:"1000px"}),d.props.subscriptionsHandler.addSubscriptions(d.$2)))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$7=function(){var a=this,c=this.props.avoidableElementBorderingBottom.current,d=this.$1,e=this.$4;if(this.$5!==null||!c||!d||!e||!this.$3)return;var f=!1;this.props.subscriptionsHandler.addSubscriptions(b("queryThenMutateDOM")(function(){f=i(c,e)},function(){f!==a.$5&&(f===!0&&b("CSS").addClass(d,"_680_"),b("CSS").removeClass(d,"invisible_elem"),a.$5=f,a.$2!=null&&(a.$2.remove(),a.$2=null))},"UFI2CommentTopReactionsWrapper_"+(this.props.feedback.id||"UNKNOWN")))};d.componentDidUpdate=function(){this.$7()};d.render=function(){var a,c=this.props,d=c.children;c=c.feedback;a=c.should_show_top_reactions!=null?c.should_show_top_reactions:Boolean((a=c.reactors)==null?void 0:a.count);return j.jsxs("div",{className:"_680y",children:[j.jsx("div",{className:"_6cuy",children:d}),a?j.jsx("div",{className:"_6cuq invisible_elem",ref:this.$6,children:j.jsx(b("cr:1009153"),{feedback:c,rootRef:this.$8})}):null]})};return c}(j.Component);c.displayName="UFI2CommentTopReactionsWrapper";e.exports=a(b("injectSubscriptionsHandler.react")(c),{feedback:h!==void 0?h:h=b("UFI2CommentTopReactionsWrapper_feedback.graphql")})}),null);
__d("UFI2ActiveLayerMonitor",["ErrorUtils","Parent","SubscriptionsHandler","UserActivity","getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";var g,h=[],i=!1,j=b("getDocumentScrollElement")(),k=[],l;function m(a){i=!0;k.push.apply(k,h);while(k.length){var c=k.shift();(g||(g=b("ErrorUtils"))).applyWithGuard(c,null,[a],null,"UFI2ActiveLayerMonitor")}i=!1}function n(a){j!==a&&(j=a,m(a))}a={getLastActiveLayer:function(){return j},subscribe:function(a){h.push(a);i&&k.push(a);l==null&&(l=new(b("SubscriptionsHandler"))(),l.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;n(b("Parent").byClass(a.target,"uiLayer")||b("getDocumentScrollElement")())})));var c=!1;return{remove:function(){if(c)return;var b=h.indexOf(a);b!==-1&&h.splice(b,1);if(i){b=k.indexOf(a);b!==-1&&k.splice(b,1)}h.length===0&&(l&&(l.release(),l=null));c=!0}}}};e.exports=a}),null);
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";e.exports=3e4}),null);
__d("UFI2UserActivityMonitor",["ErrorUtils","Event","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g,h=[],i,j=!1,k=b("ExecutionEnvironment").canUseDOM&&b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",l=[],m;function n(a){j=!0;l.push.apply(l,h);var c=function(){var c=l.shift();(g||(g=b("ErrorUtils"))).applyWithGuard(function(){return c(a)},null,null,null,"UFI2UserActivityMonitor")};while(l.length)c();j=!1}function o(a){b("clearTimeout")(i),a>0&&(i=b("setTimeoutAcrossTransitions")(function(){p("INACTIVE")},a))}function p(a){var b=k;k=a;b!==a&&n(a)}a={getActivityState:function(){return k},init:function(){m==null&&(o(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()))),m=new(b("SubscriptionsHandler"))(),m.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;p("ACTIVE");o(Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive())))}),b("Event").listen(window,"blur",function(){p("INACTIVE"),b("clearTimeout")(i)}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){p("INACTIVE"),b("clearTimeout")(i)})))},subscribe:function(a){h.push(a);j&&l.push(a);var c=!1;return{remove:function(){if(c)return;var d=h.indexOf(a);d!==-1&&h.splice(d,1);if(j){d=l.indexOf(a);d!==-1&&l.splice(d,1)}h.length===0&&b("clearTimeout")(i);c=!0}}}};b("ExecutionEnvironment").canUseDOM&&a.init();e.exports=a}),null);
__d("getSharedStopwatch",["invariant","UFIStopWatch","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a){var c=b("uuid")();if(h[a]==null){var d=new(b("UFIStopWatch"))();h[a]={runningClientMap:{},stopwatch:d,totalClients:0}}h[a].totalClients+=1;var e=!1;function f(){e===!1||g(0,6067)}var i={dispose:function(){if(e)return;i.pause();h[a].totalClients-=1;h[a].totalClients===0&&delete h[a];e=!0},getMilliseconds:function(){f();return h[a].stopwatch.milliseconds()},getStartTime:function(){f();return h[a].stopwatch.getStartTime()},isRunning:function(){f();return h[a].stopwatch.state()===b("UFIStopWatch").COUNTING},isSharedWithOtherClients:function(){f();return h[a].totalClients>1},pause:function(){f(),delete h[a].runningClientMap[c],Object.keys(h[a].runningClientMap).length===0&&h[a].stopwatch.pause()},start:function(){f(),h[a].runningClientMap[c]=!0,h[a].stopwatch.start()}};return i}e.exports=a}),null);
__d("UFI2VPVDLoggedComponent.react",["cx","invariant","Banzai","Parent","React","UFI2ActiveLayerMonitor","UFI2UserActivityMonitor","clearInterval","collectDataAttributes","containsNode","getFBAlphaConsoleSize","getSharedStopwatch","gkx","injectSubscriptionsHandler.react","isIntersectionObserverEntryVPVDVisible","observeIntersection","onAttachedToDOM","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1="HIDDEN",d.$4=!1,d.$7=b("UFI2UserActivityMonitor").getActivityState(),d.$8="div",d.$11=function(a,c){return d.$5?b("collectDataAttributes")(d.$5,a,c):null},d.$12=function(a){d.$4=b("containsNode")(a,d.$5),d.$13()},d.$14=function(a){d.$1=b("isIntersectionObserverEntryVPVDVisible")(a)?"VISIBLE":"HIDDEN",d.$13()},d.$15=function(a){a==null||a instanceof HTMLDivElement||h(0,5279),d.$5!==a&&(d.$2!=null&&(d.$2.remove(),delete d.$2),d.$3!=null&&(d.$3.remove(),delete d.$3)),a&&(b("onAttachedToDOM")?d.$2=b("onAttachedToDOM")(a,function(){d.$3&&d.$3.remove(),d.$16(a)}):d.$16(a)),d.$5=a},d.$17=function(a){d.$7=a,d.$13()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$13=function(){var a=this.$6;if(this.$1==="HIDDEN"||this.$4===!1||this.$7==="INACTIVE"){if(a==null)return;if(!a.isSharedWithOtherClients()){var c=a.getMilliseconds(),d=a.getStartTime();this.props.onLogDuration(d,c,this.$11)}a.dispose();this.$6=null}else a==null&&(this.$6=a=b("getSharedStopwatch")(this.props.contentIdentifier)),a.start()};d.$16=function(a){this.$4=b("containsNode")(b("UFI2ActiveLayerMonitor").getLastActiveLayer(),a);var c=b("Parent").byClass(a,"uiScrollableAreaWrap"),d=c==null?"-44px 0px -"+b("getFBAlphaConsoleSize")().height+"px 0px":"0px";this.$3=b("observeIntersection")(a,this.$14,{root:c instanceof HTMLElement?c:null,rootMargin:d,threshold:j})};d.componentDidMount=function(){var a=this;this.props.subscriptionsHandler.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){a.$1="HIDDEN",a.$13()}),b("UFI2UserActivityMonitor").subscribe(this.$17),b("UFI2ActiveLayerMonitor").subscribe(this.$12));var c=this.props.domAttachmentEventEmitter;c&&this.props.subscriptionsHandler.addSubscriptions(c.addListener("inserted",function(){var b=a.$5;if(b==null)return;a.$2&&(a.$2.remove(),delete a.$2);a.$3&&a.$3.remove();a.$16(b)}))};d.componentWillUnmount=function(){this.$1="HIDDEN",this.$2&&(this.$2.remove(),delete this.$2),this.$3&&(this.$3.remove(),delete this.$3),this.$13()};d.render=function(){var a=this.$8;return i.jsx(a,{ref:this.$15,children:this.props.children})};return c}(i.Component);e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("isCommentFresh",["RelayModern","isCommentFresh_comment.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;g!==void 0?g:g=b("isCommentFresh_comment.graphql");function a(a){return a.is_locally_composed===!0||a.is_created_from_subscription===!0}e.exports=a}),null);
__d("UFI2Comment.react",["cx","requireCond","ActorPresenceGatingConfig","CometBackupPlaceholder.react","CometPlaceholder.react","cr:840776","FBLogger","React","RelayFBMatchContainer","RelayModern","SiteData","SubscriptionsHandler","TrackingNodes","UFI2CommentActionLinksDynamic.react","UFI2CommentAttachmentsDynamic.react","UFI2CommentBodyDynamic.react","UFI2CommentDefaultLayout.react","UFI2CommentGroupContext","UFI2CommentMenu.react","UFI2CommentRow.react","UFI2CommentTopReactionsWrapper.react","UFI2Config","UFI2ErrorBoundary.react","UFI2SurfaceContainerContext","UFI2VPVDLoggedComponent.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIODSLogger","getElementRect","getViewportDimensions","gkx","isCommentFresh","joinClasses","makeUFI2HighlightedComment","nullthrows","UFI2Comment_comment.graphql","UFI2Comment_feedback.graphql","UFI2CommentRefetchQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("React");a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var l=b("SiteData").pr,m=b("makeUFI2HighlightedComment")(b("UFI2CommentBodyDynamic.react")),n=b("makeUFI2HighlightedComment")(b("UFI2CommentRow.react"));function o(a){var c=a.attached_story,d=a.attachments;a=a.id;if(c!=null)return!b("UFI2Config").shouldUseSimplifiedAttachments;if(d==null||d.length===0)return!1;c=d[0].style_list;if(c==null){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a||"UNKNOWN").mustfix("Encountered a null `style_list` property while trying to determine if a comment attachment is renderable. Investigate why.");return!1}if(c.includes("COMMENT_MESSAGE_INFO"))return!1;if(b("UFI2Config").shouldUseSimplifiedAttachments)for(var d=c,a=Array.isArray(d),c=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(c>=d.length)break;e=d[c++]}else{c=d.next();if(c.done)break;e=c.value}e=e;if(b("UFI2Config").attachmentStylesToSimplify.includes(e))return!1}return!0}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.context=null,d.state={isFetchingTranslation:!1,isHovered:!1},d.$1=k.createRef(),d.$2=null,d.$3=new(b("SubscriptionsHandler"))(),d.$5=function(){var a=d.props.comment;return a.id?"`UFI2Comment` experienced a fatal error rendering a comment with ID "+a.id+".":"`UFI2Comment` experienced a fatal error rendering a comment without ID."},d.$6=function(a){d.setState({isHovered:!0})},d.$7=function(a){d.setState({isHovered:!1})},d.$8=function(a){d.state.isHovered||d.setState({isHovered:!0})},d.$9=function(){var a=d.props,c=a.comment,e=a.onTranslated,f=a.onUntranslated,g=(a=c.preferred_body)==null?void 0:a.translation_type;d.setState(function(a){return{isFetchingTranslation:!0}},function(){var a,h,i=g==="MACHINE_TRANSLATION"?"ORIGINAL":"MACHINE_TRANSLATION";a=(a=d.context)==null?void 0:a.isComet;d.props.relay.refetch(babelHelpers["extends"]({},b("nullthrows")((h=d.context)==null?void 0:h.containerMapping),{id:c.id,isComet:a,scale:l,translationType:i,useDefaultActor:d.props.useDefaultActor}),null,function(){i==="MACHINE_TRANSLATION"?e&&e():f&&f(),d.setState({isFetchingTranslation:!1})})})},d.$11=!1,d.$12=function(a){d.props.isHighlighted&&!d.$11&&a!==null&&(d.$11=!0,d.props.onDeeplinkToComment&&d.props.onDeeplinkToComment(a)),d.$2=a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(a){if(!this.props.comment||!this.props.comment.feedback||this.props.comment.optimistic_action||this.props.comment.optimistic_error)return a;var c=this.props.comment.feedback,d=a.slice(0,-1);a=a.slice(-1);c=k.jsx(b("UFI2CommentTopReactionsWrapper.react"),{avoidableElementBorderingBottom:this.$1,feedback:c,children:a});return k.Children.toArray([].concat(d,[c]))};d.$10=function(){var a;if(((a=this.props.comment)==null?void 0:(a=a.preferred_body)==null?void 0:a.translation_type)==="MACHINE_TRANSLATION"||this.state.isFetchingTranslation===!0)return;this.$9()};d.componentDidMount=function(){var a=this.props,c=a.comment,d=a.depth,e=a.feedback,f=a.feedbackSource;a=a.translationRequested;a===!0&&this.$10();f===1&&(d===0?b("UFIODSLogger").bump("comment.newsfeed.toplevel.componentDidMount","relay"):b("UFIODSLogger").bump("comment.newsfeed.replies.componentDidMount","relay"));if(c.client_id&&(c.optimistic_action==="ADD"||c.optimistic_action==="EDIT")){a=c.client_id;b("UFICommonInteractionLogger").endInteraction(a+(c.optimistic_action==="ADD"?b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT));c.optimistic_error&&b("UFICommonInteractionLogger").endInteraction(a+(c.optimistic_action==="ADD"?b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT),!0);if(this.$2!=null&&b("gkx")("1347892")){f=b("getElementRect")(this.$2);d=b("getViewportDimensions")();a=f.height>0&&d.height>0&&f.bottom>0&&f.top<d.height;if(!a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",(f=e.id)!=null?f:"UNKNOWN").warn("Optimistic comment was rendered outside of the viewport on %s!",c.optimistic_action)}}}};d.componentDidUpdate=function(a){a.translationRequested!==this.props.translationRequested&&this.props.translationRequested===!0&&this.$10();if(this.props.comment.client_id&&!this.props.comment.optimistic_action&&!this.props.comment.optimistic_error&&(a.comment.optimistic_action==="ADD"||a.comment.optimistic_action==="EDIT")){a=this.props.comment.client_id+(a.comment.optimistic_action==="ADD"?b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT);b("UFICommonInteractionLogger").endInteraction(a)}};d.componentWillUnmount=function(){this.$3.release()};d.$13=function(a){a='{"tn":"'+b("TrackingNodes").encodeTN(b("TrackingNodes").types.COMMENT)+'","ct":"'+a+'"}';return a};d.render=function(){var a,c=this.props,d=c.Selectors,e=c.className,f=c.comment,g=c.domAttachmentEventEmitter,h=c.feedback,i=c.depth,j=c.feedbackSource,l=c.isCommentFresh,p=c.isHighlighted,q=c.listState,r=c.logCommentViewportViewDuration,s=c.onReplyToComment,t=c.relay,u=c.totalCount;c=c.showMenu;var v=f.author,w=f.id,x=f.www_layout_renderer;if(!v){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",w||"UNKNOWN").mustfix("UFI2Comment: Cant render comment without author");return null}if(!w){b("FBLogger")("ufi2").mustfix("UFI2Comment: Cant render comment without an id");return null}a=(a=this.props.feedback.viewer_actor)==null?void 0:a.id;l=l(f);var y=d.isCommentHiddenByViewer({commentID:w,depth:i,state:q}),z=p&&!f.preferred_body;p=p?m:b("UFI2CommentBodyDynamic.react");z=z?n:b("UFI2CommentRow.react");p=k.jsx(p,{comment:f,feedback:h,isHighlighted:this.props.isHighlighted});var A=o(f)&&k.jsx(b("CometPlaceholder.react"),{fallback:b("cr:840776")!=null?k.jsx("div",{style:{paddingLeft:10},children:k.jsx(b("cr:840776"),{})}):null,children:k.jsx(b("UFI2CommentAttachmentsDynamic.react"),{actorID:a,comment:f,feedbackSource:this.props.feedbackSource,storyRenderLocation:this.props.storyRenderLocation})});p=k.Children.toArray([p,A]);A=k.jsx(b("UFI2CommentActionLinksDynamic.react"),{Selectors:d,actionLinksListRef:this.$1,comment:f,depth:i,environment:t&&t.environment,feedback:h,feedbackSource:j,handleOnReply:s,handleTranslationClick:this.$9,hasRemovableAttachment:o(f)&&this.props.comment.can_viewer_disable_preview===!0,isFetchingTranslation:this.state.isFetchingTranslation,listState:q,totalCount:u,trackingInfo:b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.COMMENT),useDefaultActor:this.props.useDefaultActor});t=c?k.jsx(b("CometPlaceholder.react"),{fallback:null,children:k.jsx(b("UFI2CommentMenu.react"),{comment:f,feedback:this.props.feedback,feedbackSource:this.props.feedbackSource,onEdit:this.props.onEdit,topLevelFeedbackId:(d=this.props.topLevelFeedbackID)!=null?d:null,visible:this.state.isHovered&&!f.optimistic_error})}):null;h=this.$4(p);j=h[0];s=h.slice(1);q=k.jsx(b("UFI2CommentDefaultLayout.react"),{childrenForLayout:{actionLinks:A,firstContentElement:j,menu:t,otherContentElements:s}});u=k.jsx(b("UFI2ErrorBoundary.react"),{getFBLoggerErrorMessage:this.$5,children:k.jsx(z,{actor:v,className:b("joinClasses")("_4eek"+(y?" aero":"")+(l?" _8m-h":""),e),comment:f,"data-ft":this.$13(w),"data-testid":void 0,depth:i,displayPresence:v.id!==a&&b("ActorPresenceGatingConfig").www_comment_presence_enabled,onMouseEnter:this.$6,onMouseLeave:this.$7,onMouseMove:this.$8,root:this.$12,showWarning:Boolean(f.optimistic_error),children:k.jsx(b("CometBackupPlaceholder.react"),{fallback:q,children:k.jsx(b("RelayFBMatchContainer"),{fallback:q,match:x,props:{childrenForLayout:{actionLinks:A,firstContentElement:j,menu:t,otherContentElements:s}}})})})});r!=null&&(u=k.jsx(b("UFI2VPVDLoggedComponent.react"),{contentIdentifier:w,domAttachmentEventEmitter:g,onLogDuration:r,children:u}));d=f==null?void 0:(c=f.group_comment_info)==null?void 0:c.group_id;h=f==null?void 0:(p=f.group_comment_info)==null?void 0:p.is_author_with_member_profile_legacy;if(d!=null&&h!=null){y={authorHasGroupMemberProfile:h,authorType:f==null?void 0:(z=f.author)==null?void 0:z.__typename,groupID:d};u=k.jsx(b("UFI2CommentGroupContext").Provider,{value:y,children:u})}return u};return c}(k.PureComponent);c.displayName="UFI2Comment";c.defaultProps={isCommentFresh:b("isCommentFresh"),showMenu:!0};c.contextType=b("UFI2SurfaceContainerContext");e.exports=a(c,{comment:h!==void 0?h:h=b("UFI2Comment_comment.graphql"),feedback:i!==void 0?i:i=b("UFI2Comment_feedback.graphql")},j!==void 0?j:j=b("UFI2CommentRefetchQuery.graphql"))}),null);
__d("UFI2CommentActorLink.react",["cx","React","UFI2CometRelayCreateFragmentContainer","UFI2CommentActorLinkBadgesDynamic.react","UFI2CommentActorNameDynamic.react","joinClasses","UFI2CommentActorLink_comment.graphql","UFI2CommentActorLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c=a.className,d=a.comment;a=a.feedback;var e=d.author;return!e?null:j.jsxs(j.Fragment,{children:[j.jsx(b("UFI2CommentActorNameDynamic.react"),{author:e,className:b("joinClasses")(d.is_author_weak_reference?"_2so8":"",c),comment:d,feedback:a}),j.jsx(b("UFI2CommentActorLinkBadgesDynamic.react"),{comment:d,feedback:a})]})}a.displayName="UFI2CommentActorLink";e.exports=c(a,{comment:h!==void 0?h:h=b("UFI2CommentActorLink_comment.graphql"),feedback:i!==void 0?i:i=b("UFI2CommentActorLink_feedback.graphql")})}),null);
__d("UFI2CommentActorName.react",["React","UFI2CometRelayCreateFragmentContainer","UFI2ProfileLinkDynamic.react","URI","UFI2CommentActorName_author.graphql","UFI2CommentActorName_comment.graphql","UFI2CommentActorName_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c=a.author,d=a.className,e=a.comment;a=a.feedback;a=(a=a==null?void 0:(a=a.associated_group)==null?void 0:a.id)!=null?a:" ";var f=c.id;if(f!=null&&c.url!=null){var g=new(j||(j=b("URI")))(c.url);(e==null?void 0:e.id)!=null&&g.addQueryData({comment_id:e.id});return k.jsx(b("UFI2ProfileLinkDynamic.react"),{className:d,hovercardDirectedTargetId:a,href:String(g),uid:f,children:c.name})}return k.jsx("span",{className:d,children:c.name})}e.exports=c(a,{author:g!==void 0?g:g=b("UFI2CommentActorName_author.graphql"),comment:h!==void 0?h:h=b("UFI2CommentActorName_comment.graphql"),feedback:i!==void 0?i:i=b("UFI2CommentActorName_feedback.graphql")})}),null);
__d("UFI2CommentActorVerifiedBadge.react",["cx","React","UFI2CometRelayCreateFragmentContainer","UFI2CommentActorVerifiedBadge_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){a=a.comment.author;return!a||!a.is_verified?null:i.jsx("span",{className:"_5dzy _5dz- _56_f"})}e.exports=c(a,{comment:h!==void 0?h:h=b("UFI2CommentActorVerifiedBadge_comment.graphql")})}),null);
__d("UFI2VideoTimeIndexLink.react",["requireDeferred","FBLogger","Link.react","React","scrollIntoView"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useState,i=b("requireDeferred")("UFIVideoPlayerRegistry");function a(a){var c=h(i.getModuleIfRequired()),d=c[0],e=c[1];d==null&&i.onReady(function(a){e(a)});return d==null?a.text:g.jsx(b("Link.react"),{href:"#",onClick:function(c){c.preventDefault();c=d.getAvailableVideoPlayerControllerForElement(c.target,a.videoId);if(c==null){b("FBLogger")("video").warn("Failed to find a video player controller when clicking on a video time index link.");return}["finished","paused","playing","ready"].includes(c.getState())&&(c.pause("seek_initiated"),c.seek(a.timeIndex),c.play("seek_initiated"),b("scrollIntoView")(c.getRootNode(),{behavior:"smooth",verticalAlign:"center"}))},children:a.text})}e.exports=a}),null);
__d("interpolateUFI2TextWithRange",["cx","fbt","FBLogger","React","RelayModern","TextDelightRange.react","UFI2CommentBodyTextWithEntitiesConfig","UFI2LinkWrapper.react","UFI2ProfileLinkDynamic.react","UFI2VideoTimeIndexLink.react","URI","URITruncator","isFacebookURI","isLinkshimURI","isRTL","nullthrows","interpolateUFI2TextWithRange_textWithEntities.graphql","interpolateUFI2TextWithRange_delightRange.graphql","interpolateUFI2TextWithRange_range.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=b("React");b("RelayModern").graphql;i!==void 0?i:i=b("interpolateUFI2TextWithRange_textWithEntities.graphql");j!==void 0?j:j=b("interpolateUFI2TextWithRange_delightRange.graphql");k!==void 0?k:k=b("interpolateUFI2TextWithRange_range.graphql");function n(a){if(a.url==null)return null;a=new(l||(l=b("URI")))(a.url);b("isFacebookURI")(a)&&!b("isLinkshimURI")(a)&&a.addQueryData({hc_location:"ufi"});return a}function a(a,c){switch(c.__typename){case"DelightAtRange":var d=b("nullthrows")(c.campaign,"Expected a `campaign` property to be present on a range of type `DelightAtRange`.");return m.jsx(b("TextDelightRange.react"),{campaignID:d.id,delightStyles:d.delight_styles.map(function(a){return{style:a.style,value:a.value}}),surface:"comment",children:a});case"EntityAtRange":d=b("nullthrows")(c.entity,"Expected an `entity` property to be present on a range of type `EntityAtRange`.");var e=n(d);switch(d.__typename){case"ExternalUrl":var f=b("URITruncator")(a,b("UFI2CommentBodyTextWithEntitiesConfig").uriTruncationThreshold);if(e)return m.jsx(b("UFI2LinkWrapper.react"),{dir:b("isRTL")(a)?"rtl":null,href:e,s:d.can_skip_redirect?"1":void 0,target:"_blank",children:f});else return f;case"Hashtag":if(e)return m.jsxs(b("UFI2LinkWrapper.react"),{className:"_3l3r",dir:b("isRTL")(a)?"rtl":null,href:e,children:[m.jsx("span",{"aria-label":h._("hashtag"),className:"_3l3v",children:a.substring(0,1)}),m.jsx("span",{className:"_3l3w",children:a.substring(1)})]});else return a;case"VideoTimeIndex":f=d.time_index;var g=d.video;g=g==null?void 0:g.id;if(g==null){b("FBLogger")("video").warn("When trying to render a link to a time index of a video the video id was missing. Investigate why the query failed to materialize the video id.");return a}if(f==null){b("FBLogger")("video").warn("When trying to render a link to a time index of a video the time index was missing. Investigate why the query failed to materialize the time index.");return a}return m.jsx(b("UFI2VideoTimeIndexLink.react"),{text:a,timeIndex:f,videoId:g});default:f=c.entity_is_weak_reference;if(e)return m.jsx(b("UFI2ProfileLinkDynamic.react"),{className:f?"_2-5h":"",dir:b("isRTL")(a)?"rtl":null,href:String(e),uid:d.id||"",children:a});else return a}default:return a}}e.exports=a}),null);
__d("UFI2CommentBodyTextWithEntities.react",["cx","Locale","React","TruncatedTextWithEntities.react","UFI2CometRelayCreateFragmentContainer","UFI2CommentBodyTextWithEntitiesConfig","UnicodeUtils","URITruncator","interpolateUFI2TextWithRange","nullthrows","UFI2CommentBodyTextWithEntities_comment.graphql","UFI2CommentBodyTextWithEntities_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function l(a,b){return a.offset-b.offset}function m(a){return[].concat(a.ranges,a.delight_ranges).filter(function(a){return a!=null}).sort(l)}function n(a,c){switch(c.__typename){case"EntityAtRange":c=b("nullthrows")(c.entity,"Expected an `entity` property to be present on a range of type `EntityAtRange`.");switch(c.__typename){case"ExternalUrl":c=b("URITruncator")(a,b("UFI2CommentBodyTextWithEntitiesConfig").uriTruncationThreshold);return a.length-c.length;default:return 0}default:return 0}}function o(a){var c=0,d=0,e=a.text;a=m(a);var f=a.length;for(var g=0;g<f;g++){var h=a[g],i=h?parseFloat(h.offset):0,k=h?parseFloat(h.length):0;if(i<c)continue;var l=e==null?"":(j||(j=b("UnicodeUtils"))).substr(e,i,k);d+=n(l,h);c=i+k}return d}function a(a){var c=!a.isHighlighted&&!a.comment.is_locally_composed,d=c?o(a.textWithEntities):0;return k.jsx(b("TruncatedTextWithEntities.react"),{allowSeeMoreLinebreakOnLongWords:!0,className:"_3l3x",dir:a.dir,interpolator:function(a,c){return b("interpolateUFI2TextWithRange")(a,c)},maxLength:c?420+d:null,maxLines:c?3:null,ranges:a.textWithEntities.ranges,renderEmoji:!0,renderEmoticons:b("UFI2CommentBodyTextWithEntitiesConfig").renderEmoticons,showEmojisStandalone:Boolean(a.isStandaloneEmojiComment),text:b("nullthrows")(a.textWithEntities.text,"Tried to render a comment, but the text of the comment was `null` or `undefined`."),textDelightRanges:a.textWithEntities.delight_ranges,truncationPercent:.6})}a.displayName="UFI2CommentBodyTextWithEntities";a.defaultProps={dir:b("Locale").isRTL()?"rtl":"ltr"};e.exports=c(a,{comment:h!==void 0?h:h=b("UFI2CommentBodyTextWithEntities_comment.graphql"),textWithEntities:i!==void 0?i:i=b("UFI2CommentBodyTextWithEntities_textWithEntities.graphql")})}),null);
__d("UFI2CommentBodyStandaloneEmoji.react",["cx","React","TrackingNodes","UFI2CometRelayCreateFragmentContainer","UFI2CommentBodyTextWithEntities.react","joinClasses","UFI2CommentBodyStandaloneEmoji_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c=a.className,d=a.comment;a=a.isHighlighted;return i.jsx("span",{className:b("joinClasses")((d.optimistic_error?"_4hfs":"")+" _4hft",c),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_MESSAGE),"data-testid":void 0,children:d.preferred_body?i.jsx(b("UFI2CommentBodyTextWithEntities.react"),{comment:d,isHighlighted:a,isStandaloneEmojiComment:!0,textWithEntities:d.preferred_body}):null})}a.displayName="UFI2CommentBodyStandaloneEmoji";e.exports=c(a,{comment:h!==void 0?h:h=b("UFI2CommentBodyStandaloneEmoji_comment.graphql")})}),null);
__d("UFI2CommentDisabledNotice.react",["cx","React","TextWithEntities.react","UFI2CometRelayCreateFragmentContainer","linkifyEntityRange","UFI2CommentDisabledNotice_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.feedback;if(!a.comments_disabled_notice)return null;var c=a.comments_disabled_notice;c=i.jsx("div",{className:"_69g2",children:i.jsx(b("TextWithEntities.react"),{interpolator:b("linkifyEntityRange"),ranges:c.ranges,text:c.text})});return i.jsx("div",{className:(a.display_comments_count&&a.display_comments_count.count&&a.display_comments_count.count>0?"_2o30":"")+" _69g3",children:c})};return c}(i.Component);e.exports=a(c,{feedback:h!==void 0?h:h=b("UFI2CommentDisabledNotice_feedback.graphql")})}),null);
__d("forEachUFI2DisplayCommentsConnection",["UFI2CommentsConnectionHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("UFI2CommentsConnectionHandler").unstable_getAllConnectionsWithKey;function a(a,b,c){var d=!1;a=g(a,b,"UFI2CommentsProvider_feedback_display_comments");a!=null&&a.length>0&&(a.forEach(c),d=!0);return d}e.exports=a}),null);
__d("displayCommentsConnectionCountUpdater",["FBLogger","forEachUFI2DisplayCommentsConnection"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.feedbackId,d=a.modifier,e=a.store,f=a.topLevelFeedbackId;a=a.totalCommentCountModifier;var g=c;f!=null&&f!==""&&(g=f);var h=d;a!=null&&a!==0&&(h=a);function i(a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",g||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(c||"UNKNOWN")+", comments_count_modifier;"+h+", conn_count_modifier;"+d).warn(a)}f=e.get(c);if(f==null){i("could not find feedback record");return}b("forEachUFI2DisplayCommentsConnection")(e,f,function(a){var b=Math.max(0,Number(a.getValue("count"))+d);a.setValue(b,"count");a.setValue(b===0,"is_empty")});a=e.get(g);if(a==null){i("could not find top level feedback record");return}f=a.getLinkedRecord("top_level_comments");if(f==null){i("could not find top level comments");return}e=f.getValue("total_count");i=Math.max(0,Number(e)+h);f.setValue(i,"total_count");e=a.getValue("comment_count_reduced");Number(e).toString()===e&&a.setValue(i.toString(),"comment_count_reduced");f.setValue(i===0,"is_empty")}g.decrement=function(a){return g(babelHelpers["extends"]({},a,{modifier:-1}))};g.increment=function(a){return g(babelHelpers["extends"]({},a,{modifier:1}))};e.exports=g}),null);
__d("getBodyRendererFromCommentMessage",["JSResource","RelayRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRuntime").createPayloadFor3DField,h=b("JSResource")("CometUFICommentBodyTextWithEntities.react").__setRef("getBodyRendererFromCommentMessage"),i=b("JSResource")("CometUFICommentBodyTextWithEntities_textWithEntities$normalization.graphql").__setRef("getBodyRendererFromCommentMessage");function a(a,b){if(a==null)return a;a=j(a,b);return g("CometUFICommentBody_comment",i,h,babelHelpers["extends"]({__typename:"TextWithEntities"},a))}function j(a,b){var c=a.ranges==null?[]:a.ranges.filter(Boolean);return{aggregated_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:c.map(function(a){var c=b[a.entity.id];if(c==null)return null;c=c.getData();var d=c.type;c=c.uri;return d==null?null:{entity:{__isActor:!1,__isEntity:!0,__isNode:!0,__typename:d,id:a.entity.id,profile_url:c,url:c},length:a.length,offset:a.offset}}).filter(Boolean),text:a.text}}e.exports=a}),null);
__d("getRenderableBodyFromCommentMessage",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a==null)return a;var c=a.ranges==null?[]:a.ranges.filter(Boolean);return{__typename:"TextWithEntities",aggregated_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:c.map(function(a){var c=b[a.entity.id];if(c){c=c.getData();var d=c.isWeak,e=c.type;c=c.uri;return{__typename:"EntityAtRange",entity:babelHelpers["extends"]({},a.entity,{__isActor:e==null,__isEntity:!0,__isNode:!0,__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),profile_url:c,url:c}),entity_is_weak_reference:!!d,length:a.length,offset:a.offset}}return null}).filter(Boolean),text:a.text,translation_type:null}}e.exports=a}),null);
__d("makeUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";var g=0;function a(a){return a!=null&&a.startsWith("client:")?a:a!=null?"client:"+a:"client:feedback_comment:"+g++}e.exports=a}),null);
__d("UFI2CreateCommentMutation",["fbt","invariant","requireCond","Bootloader","ChannelClientID","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","ServerTime","SiteData","displayCommentsConnectionCountUpdater","forEachUFI2DisplayCommentsConnection","getBodyRendererFromCommentMessage","getRenderableBodyFromCommentMessage","makeUFI2ClientID","cr:1088250","UFI2CreateCommentMutation.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=b("RelayRuntime").ConnectionHandler,l=b("RelayRuntime").applyOptimisticMutation,m=b("SiteData").pr,n=i!==void 0?i:i=b("UFI2CreateCommentMutation.graphql"),o={};function p(a){var c=a.actorID,d=a.containerMapping,e=a.environment,f=a.entitiesByID,i=a.feedbackSource,s=a.feedLocation,t=a.focusCommentID,u=a.input,v=a.isComet,w=a.onCompleted,x=a.onError,y=a.topLevelFeedbackId,z=a.triggerAccessibilityAlert,A=a.updater,B=a.useDefaultActor,C=a.usedWritingHelpToCompose,D=a.UFI2CommentsProvider_commentsKey,E=a.viewOption,F=b("makeUFI2ClientID")(a.clientID),G=a.retryID||F;d=babelHelpers["extends"]({},d,{UFI2CommentsProvider_commentsKey:D,feedLocation:s,feedbackSource:i,focusCommentID:t,input:babelHelpers["extends"]({},u,{actor_id:c,feedback_source:b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),i),idempotence_token:G,session_id:b("ChannelClientID").getID()}),isComet:v,scale:m,useDefaultActor:B});var H=function(a){return function(d){var e=d.getRootField("comment_create");if(e){var f=e.getLinkedRecord("feedback_comment_edge");if(f){e=d.get(u.feedback_id);if(e!=null){E!=="LIVE_STREAMING"&&b("forEachUFI2DisplayCommentsConnection")(d,e,function(a){k.insertEdgeBefore(a,f)});if(A){var g=y==null||y===e.getDataID()?null:d.get(y);A(e,f,g)}}}}e=d.get(c);e||h(0,455,c);g=d.get(G);g||h(0,456,G);g.setLinkedRecord(e,"author");g.setValue("ADD","optimistic_action");if(a&&a.toString){g.setValue(a.toString(),"optimistic_error");e=a.code;typeof e==="number"&&g.setValue(e,"optimistic_error_code")}else g.setValue(!0,"is_locally_composed");g.setValue(F,"client_id");g.setValue(u.reply_comment_parent_fbid,"reply_comment_parent_fbid");e=u.reply_comment_parent_fbid!=null?d.get(u.reply_comment_parent_fbid):null;e=e!=null?e.getValue("depth"):null;typeof e==="number"&&g.setValue(e+1,"depth");b("displayCommentsConnectionCountUpdater").increment({feedbackId:u.feedback_id,store:d,topLevelFeedbackId:y})}},I={mutation:n,optimisticResponse:r(u,G,f),optimisticUpdater:H(),variables:d},J=null,K=j(e,babelHelpers["extends"]({},I,{onCompleted:function(a){q(a),w&&w(a),b("cr:1088250")!=null&&b("cr:1088250")(u),z&&z(g._("Your comment was submitted"))},onError:function(c){o[G]=function(){if(!o[G]){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",G).warn("Tried to call a create comment mutation retry handle that was already removed.");return}K&&K.dispose();K=null;p(babelHelpers["extends"]({},a,{retryID:G}));delete o[G]},K=l(e,babelHelpers["extends"]({},I,{optimisticResponse:r(u,G,f),optimisticUpdater:H(c)})),x&&x(c)},updater:function(a){var c=a.getRootField("comment_create");c||h(0,457);var d=c.getLinkedRecord("feedback_comment_edge");d||h(0,458);c=d.getLinkedRecord("node");c||h(0,459);c.setValue(!0,"is_locally_composed");c.setValue(F,"client_id");c.setValue(C===!0,"used_writing_help_to_compose");b("displayCommentsConnectionCountUpdater").increment({feedbackId:u.feedback_id,store:a,topLevelFeedbackId:y});c=a.get(u.feedback_id);if(c!=null){E!=="LIVE_STREAMING"&&b("forEachUFI2DisplayCommentsConnection")(a,c,function(a){k.insertEdgeBefore(a,d)});if(A){a=y==null||y===c.getDataID()?null:a.get(y);A(c,d,a)}}}}));return{dispose:function(){J&&J.remove(),J=null,K&&K.dispose(),K=null,delete o[G]}}}function q(a){var c=(a=a.comment_create)==null?void 0:(a=a.survey_primer_attributes)==null?void 0:a.ajaxify;c&&b("Bootloader").loadModules(["AsyncRequest"],function(a){new a(c).send()},"UFI2CreateCommentMutation")}function r(a,c,d){var e;return{comment_create:{detection_analytics_enabled:null,feedback_comment_edge:{cursor:null,node:{__typename:"Comment",attached_story:null,attachments:[],author:null,body:{ranges:[],text:a==null?void 0:(e=a.message)==null?void 0:e.text},body_renderer:b("getBodyRendererFromCommentMessage")(a.message,d),can_see_constituent_badge_upsell:null,can_show_multiple_identity_badges:!1,can_viewer_disable_preview:null,can_viewer_share:null,can_viewer_upvote_downvote:null,chat_to_buy:null,comment_menu_items:[],comment_menu_tooltip:null,comment_parent:null,create_detailed_report_uri:null,created_time:Math.round(b("ServerTime").getMillis()/1e3),edit_history:null,feedback:{associated_group:null,associated_video:null,can_viewer_comment:null,can_viewer_comment_with_marker:null,can_viewer_demote:!1,can_viewer_react:!0,comment_composer_placeholder:null,comment_count:null,comment_share_context:null,did_viewer_demote:!1,display_comments:null,id:null,page_private_reply:null,political_figure_data:null,public_conversations_context:null,reactors:null,share_fbid:null,should_show_top_reactions:null,subscription_target_id:null,supported_reactions:[],top_reactions:null,toplevel_comment_count:null,viewer_actor:null,viewer_feedback_reaction_info:null},file_marker:null,flat_threading_depth:null,group_comment_info:null,has_constituent_badge:null,id:c,identity_badges_web:[],inline_survey_config:null,insights_data_point:null,is_author_banned_by_content_owner:null,is_author_bot:null,is_author_non_coworker:null,is_author_original_poster:null,is_author_weak_reference:null,is_hidden_by_content_owner:null,is_markdown_enabled:null,is_the_comment_on_work_knowledge:null,is_viewer_comment_poster:null,legacy_fbid:void 0,legacy_token:null,living_room_content_item:a.living_room_content_item_id?{id:a.living_room_content_item_id}:null,page_admin_actor_info:null,parent_feedback:null,parent_post_story:null,preferred_body:b("getRenderableBodyFromCommentMessage")(a.message,d),private_reply_context:null,question_and_answer_type:null,should_show_comment_menu:!1,spam_display_mode:"none",sub_reply_parent_above_comment_author_context:null,sub_reply_parent_preview_context:null,synced_intern_qa_answer:null,timestamp_in_video:a==null?void 0:a.vod_video_timestamp,translatability_for_viewer:null,translation_available_for_viewer:null,upvote_downvote_total:null,url:null,us_structured_reporting_enabled:null,viewer_comment_vote_state:null,written_while_video_was_live:void 0,www_layout_renderer:null}},survey_primer_attributes:null}}}function a(a){var c=o[a];if(!c){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found.");return null}return c}e.exports={commit:p,getRetryFn:a}}),null);
__d("UFI2CommentErrorFooter.react",["cx","errorCode","fbt","FBLogger","React","UFI2CometRelayCreateFragmentContainer","UFI2CreateCommentMutation","ifRequired","UFI2CommentErrorFooter_comment.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function l(a){return a===1446013?!1:!0}function a(a){var c=a.comment.id;if(!c){b("FBLogger")("ufi2").mustfix("UFI2CommentErrorFooter tried to render without a comment ID");return null}var d=i._("Unable to post comment."),e=null;switch(a.comment.optimistic_action){case"ADD":e=b("UFI2CreateCommentMutation").getRetryFn(c);break;case"EDIT":d=i._("Unable to edit comment.");b("ifRequired")("UFI2EditCommentMutation",function(a){e=a.getRetryFn(c)},function(){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").mustfix("Edit mutation not present on edit error")});break;case"DELETE":d=i._("Unable to delete comment.");break;default:d=i._("Something went wrong."),b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("UFI2CommentErrorFooter no specified behavior for action `%s`.",a.comment.optimistic_action)}e||b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("No mutation retry handler for action `%s`.",a.comment.optimistic_action);return k.jsx("div",{className:"_1m2l","data-testid":void 0,children:e!=null&&l(a.comment.optimistic_error_code)?i._("{errorMessage} {retryLink}",[i._param("errorMessage",d),i._param("retryLink",k.jsx("a",{href:"#",onClick:e,role:"button",children:i._("Try again")}))]):d})}a.displayName="UFI2CommentErrorFooter";e.exports=c(a,{comment:j!==void 0?j:j=b("UFI2CommentErrorFooter_comment.graphql")})}),null);
__d("UFI2CommentPrivateReplyLink.react",["requireCond","React","UFI2CometRelayCreateFragmentContainer","UFI2CommentActionLinks.react","UFI2PrivateReplyLink.react","cr:1337144","UFI2CommentPrivateReplyLink_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var i=b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem;function a(a){var c=a.actorID,d=a.feedback,e=a.feedbackSource,f=a.pageID;a=a.seeResponseLabel;if(b("cr:1337144")!=null&&c!==f)return h.jsx(b("cr:1337144"),{WrapperComponent:function(a){a=a.children;return h.jsx(i,{children:a({className:""})},"pageAdminPrivateReplyContext")},feedback:d,feedbackSource:e,seeResponseLabel:a});else return h.jsx(b("UFI2PrivateReplyLink.react"),{WrapperComponent:function(a){a=a.children;return h.jsx(i,{children:a({className:""})},"pageAdminPrivateReplyContext")},feedback:d,feedbackSource:e,seeResponseLabel:a})}a.displayName="UFI2CommentPrivateReplyLink";d=c(a,{feedback:g!==void 0?g:g=b("UFI2CommentPrivateReplyLink_feedback.graphql")});e.exports=d}),null);
__d("UFI2ScaleRect",["invariant","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h(a,!0)}function c(a){return h(a,!1)}function h(a,c){var d=a.srcHeight,e=a.srcWidth,f=a.maxHeight,h=a.maxWidth;a=a.gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero;!1===a?(d>0||g(0,5272,d),e>0||g(0,5273,e)):(d===0||e===0)&&b("FBLogger")("ufi2").warn("Scaling UFI2 rect with invalid zero height or width: height=%s / width=%s",String(d),String(e));f>0||g(0,5274,f);h>0||g(0,5275,h);d=a&&d===0?f:d;a=a&&e===0?h:e;e=h/a;h=f/d;f=c?Math.min(e,h):Math.min(e,h,1);return{height:Math.round(d*f),width:Math.round(a*f)}}e.exports={scaleToContain:a,shrinkToContain:c}}),null);
__d("UFI2CommentSticker.react",["JSResource","React","UFI2CometRelayCreateFragmentContainer","UFI2ScaleRect","lazyLoadComponent","UFI2CommentSticker_sticker.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var i=b("lazyLoadComponent")(b("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"));function a(a){var c=a.className;a=a.sticker;var d=a.sticker_type==="AVATAR",e=a.sprite_image,f=d?a.larger_sticker_image:a.sticker_image;if(f==null)return null;d=d?120:80;d=b("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:d,maxWidth:d,srcHeight:f.height||d,srcWidth:f.width||d});var g=d.height;d=d.width;var j=h.jsx("div",{style:{backgroundImage:"url("+(f.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:d+"px "+g+"px",height:g,width:d}});return h.jsx(h.Suspense,{fallback:j,children:h.jsx(i,{accessibilityLabel:a.label,animationTrigger:"load_and_hover",className:c,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:(j=a.pack)==null?void 0:j.name,sourceHeight:g,sourceURI:f.uri,sourceWidth:d,spriteURI:e==null?void 0:e.uri})})}a.displayName="UFI2CommentSticker";e.exports=c(a,{sticker:g!==void 0?g:g=b("UFI2CommentSticker_sticker.graphql")})}),null);
__d("isNotOutlierReaction",["RelayModern","qex","isNotOutlierReaction_feedback.graphql","isNotOutlierReaction_topReactionsEdge.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h;b("RelayModern").graphql;g!==void 0?g:g=b("isNotOutlierReaction_feedback.graphql");h!==void 0?h:h=b("isNotOutlierReaction_topReactionsEdge.graphql");function a(a){var c,d;c=(c=a==null?void 0:(c=a.reactors)==null?void 0:c.count)!=null?c:0;d=(d=b("qex")._("1133283"))!=null?d:0;var e=Math.ceil(c*d);return function(b){var c;if(((c=a.viewer_feedback_reaction_info)==null?void 0:c.key)!==((c=b.node)==null?void 0:c.key)){return((c=b.reaction_count)!=null?c:0)>=e}else return!0}}e.exports=a}),null);
__d("UFI2CommentTopReactions.react",["cx","fbt","invariant","FBLogger","JSResource","React","UFI2AbstractButtonWrapper.react","UFI2CometRelayCreateFragmentContainer","UFI2PrimerDialogWrapper.react","UFI2Tooltip.react","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","getReactionKeyFromType","isNotOutlierReaction","lazyLoadComponent","nullthrows","UFI2CommentTopReactions_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var l=b("lazyLoadComponent")(b("JSResource")("UFI2CommentReactionIconTooltipContentRenderer.react").__setRef("UFI2CommentTopReactions.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a,c){a=(c=a.node)==null?void 0:c.reaction_type;a||i(0,2434);c=b("getReactionKeyFromType")(a);return k.jsx(b("UFIReactionIconImpl.react"),{className:"_1lg-",reaction:c},"UFIReactionIcon:"+c)};d.render=function(){var a,c=this,d=this.props,e=d.feedback;d=d.relay;var f=e.top_reactions,g=e.reactors;g=g==null?void 0:g.count_reduced;f=f==null?void 0:f.edges;f!=null||i(0,2435);if(f.length===0)return null;a=(a=(a=e.viewer_actor)==null?void 0:a.id)!=null?a:"0";if(g==null){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e.id||"UNKNOWN").mustfix("UFI2CommentTopReactions: Expected a reaction count");return null}f=f.filter(b("isNotOutlierReaction")(e)).slice(0,3);a=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:a,feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")});a=k.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2AbstractButtonWrapper.react"),props:babelHelpers["extends"]({},a,{"aria-label":h._("See who reacted to this"),className:"_1lh9 _1lha",label:k.jsxs(k.Fragment,{children:[f.map(function(a,b){return c.$1(a,b)}),k.jsx("span",{className:"_1lld",children:g},"count_reduced")]}),role:"button"})});return k.jsx("span",{className:"_1lh3",ref:this.props.rootRef,children:k.jsx(b("UFI2Tooltip.react"),{alignH:"center",className:"_1lh7","data-testid":void 0,environment:d.environment,tabIndex:-1,tooltipContentComponent:l,tooltipContentProps:{queryVariables:{feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")}},children:a})})};return c}(k.PureComponent);e.exports=a(c,{feedback:j!==void 0?j:j=b("UFI2CommentTopReactions_feedback.graphql")})}),null);
__d("UFI2CommentTranslateAllButton.react",["cx","fbt","React","UFI2LinkWrapper.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){return i.jsx(b("UFI2LinkWrapper.react"),{className:"_6srr",onClick:a.onClick,children:h._("Translate All Comments")})}e.exports=a}),null);
__d("UFI2CommentsCount.react",["cx","fbt","invariant","FBLogger","JSResource","React","UFI2AbstractButtonWrapper.react","UFI2CometRelayCreateFragmentContainer","UFI2Tooltip.react","joinClasses","lazyLoadComponent","UFI2CommentsCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var l=b("lazyLoadComponent")(b("JSResource")("UFI2CommentsCountTooltipContent.react").__setRef("UFI2CommentsCount.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=c.props.onClick;b&&(b(),a.type!=="press"&&a.preventDefault())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.feedback,e=a.relay;a=a.trackingInfo;var f=d.comment_count,g=d.i18n_comment_count;f=(f=f==null?void 0:f.total_count)!=null?f:0;if(f===0)return null;var j=d.url;if(j==null){var m;b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",(m=d.id)!=null?m:"UNKNOWN").mustfix("UFI2CommentsCount: Expected feedback target to have a url")}m=j==null?"#":j;j=d.id;j!=null||i(0,478);return k.jsx(b("UFI2Tooltip.react"),{className:b("joinClasses")("_1whp",c),environment:e.environment,tooltipContentComponent:l,tooltipContentProps:{queryVariables:{feedbackTargetID:j}},children:k.jsx(b("UFI2AbstractButtonWrapper.react"),{className:"_3hg-","data-ft":a,"data-testid":void 0,href:m,label:(d=this.props.label)!=null?d:h._({"*":"{number} Comments","_1":"1 Comment"},[h._plural(f,"number",g)]),onClick:this.$1,preventLocalNavigation:!!this.$1,role:"button"})})};return c}(k.Component);c.displayName="UFI2CommentsCount";e.exports=a(c,{feedback:j!==void 0?j:j=b("UFI2CommentsCount_feedback.graphql")})}),null);
__d("UFI2ViewOption",["qex"],(function(a,b,c,d,e,f){"use strict";a={isChronologicalOrder:function(a){var c=b("qex");if(a==="FRIENDS_COMMENTS"&&!c._("1080217"))return!1;switch(a){case"RECENT_ACTIVITY":case"RANKED_THREADED":case"RANKED_UNFILTERED":case"LIVE_STREAMING":case"RANKED_SUB_REPLIES":case"RANKED_REPLIES":case"MOST_VOTED":case"MOST_REACCS":case"ANSWERED":case"MOST_ENGAGEMENT":return!1}return!0}};e.exports=a}),null);
__d("UFI2CommentsListState",["invariant","ErrorNormalizeUtils","FBLogger","UFI2ViewOption","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;if(b===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function i(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function j(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function k(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function l(a,b){var c=m(a,b);a.__type!=="INITIAL_STATE"&&(b!=null||g(0,5935));return c}function m(a,c){if(a.__type==="INITIAL_STATE"){var d,e=a.args,f=e.afterCount,l=e.beforeCount,m=e.canViewerComment,n=e.commentsByID,o=e.commentIDs,r=e.feedbackTargetID,u=e.hasNext,v=e.hasPrevious,w=e.hiddenCommentIDs,x=e.initiallyExpanded,y=e.pageSize,z=e.shouldRenderComposerPreemptively,A=e.topLevelFeedbackTargetID,B=e.totalCount;e=e.viewOption;d={backward:h({count:l,direction:"backward",error:null,hasMore:v,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.backward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:y,totalCount:B}),forward:h({count:f,direction:"forward",error:null,hasMore:u,isLoading:(d=c==null?void 0:(d=c.pagers)==null?void 0:(d=d.forward)==null?void 0:(d=d.status)==null?void 0:d.pending)!=null?d:!1,pageSize:y,totalCount:B})};var ca={};w.forEach(function(a){ca[a]="COLLAPSED"});w={canViewerComment:m,commentPages:o.length>0?[{__type:"COMMENTS_PAGE",afterCount:f,beforeCount:l,commentIDs:o,hasNext:u,hasPrevious:v,state:"VISIBLE"}]:[],commentsByID:n,commentsHiddenByViewer:ca,expanded:(y=c==null?void 0:c.expanded)!=null?y:x,feedbackTargetID:r,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:d,shouldComposerRenderWhenListIsExpanded:z,topLevelFeedbackTargetID:A,viewOption:e};if(a.args.depth===0)return babelHelpers["extends"]({},w,{__type:"DEPTH_0",status:{error:null,pending:!1}});m=a.args.minCountToShowCollapser;f=null;c!=null&&c.__type==="DEPTH_1"&&(f=c.repliesExpander);return babelHelpers["extends"]({},w,{__type:"DEPTH_1",repliesCollapser:i({count:o.length,expanded:x,minCountToShowCollapser:m}),repliesExpander:j({error:null,expanded:(l=c==null?void 0:c.expanded)!=null?l:x,isLoading:(n=(u=f)==null?void 0:(v=u.status)==null?void 0:v.pending)!=null?n:!1,totalCount:B})})}c!=null||g(0,5935);switch(a.__type){case"COLLAPSE_LIST":y=a.args;r=y.depth;d=y.totalCount;if(c.expanded===!1)return c;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{expanded:!1});z=t.getCommentsCount({depth:r,state:c})===0;A=d>0&&z===!0;A&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): COLLAPSE_LIST: expected list not to be empty if connection is not empty");return babelHelpers["extends"]({},c,{expanded:!1,repliesCollapser:null,repliesExpander:j({error:c.repliesExpander?c.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:d})});case"DELETE_COMMENT":e=a.args;var C=e.commentID;w=e.depth;o=c.commentPages;var D=c.newCommentsPage;m=c.locallyComposedCommentIDs;if(o.length===0&&D.commentIDs.length===0)return c;l=D.commentIDs.filter(function(a){return a!==C});x=t.getVisibleCommentsCount({depth:w,state:c});f=l.length<D.commentIDs.length;if(f){var da={};l.forEach(function(a){da[a]=D.visibleStates[a]});u=babelHelpers["extends"]({},D,{commentIDs:l,visibleStates:da});v=o.map(function(a){return k({direction:"backward",page:a})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:v,newCommentsPage:u});a.args.depth!==0||g(0,18482);n=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:v,newCommentsPage:u,repliesCollapser:i({count:x-1,expanded:c.expanded,minCountToShowCollapser:n})})}var E=null,F=!1;B=o.map(function(a,b){if(F)return k({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==C});if(c.length<a.commentIDs.length){F=!0;E=b;return babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&E!=null&&b<E?k({direction:"forward",page:a}):a}).filter(Boolean);if(F===!1){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried deleting a comment that isnt present");return c}y=m.filter(function(a){return a!==C});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:B,locallyComposedCommentIDs:y});a.args.depth!==0||g(0,18482);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:B,locallyComposedCommentIDs:y,repliesCollapser:i({count:x-1,expanded:c.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})});case"EXPAND_HIDDEN_COMMENTS":r=a.args.commentIDs;var ea=c.commentsHiddenByViewer,G=babelHelpers["extends"]({},ea);r.forEach(function(a){var c=ea[a];if(c==null){b("FBLogger")("ufi2").warn("UFI2CommentsListState.updater(...): Tried expanding a comment that is not hidden");return}c==="COLLAPSED"&&(G[a]="EXPANDED")});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:G}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:G});case"EXPAND_LIST":z=a.args;A=z.depth;d=z.totalCount;e=c.commentPages;w=c.newCommentsPage;if(c.expanded===!0&&c.shouldComposerRenderWhenListIsExpanded===!0)return c;if(A!==0&&t.isRepliesExpanderLoading({depth:A,state:c}))return c;if(d===0)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});f=t.getVisibleCommentsCount({depth:A,state:c});if(f===0){l=t.getCommentsCount({depth:A,state:c})===0;if(l)return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:j({error:null,expanded:!1,isLoading:!0,totalCount:d})});v=e.length>0?e[0]:null;u=v!=null?[babelHelpers["extends"]({},v,{state:"VISIBLE"})].concat(e.slice(1)):e;var fa={};w.commentIDs.forEach(function(a){fa[a]="VISIBLE"});n=babelHelpers["extends"]({},w,{visibleStates:fa});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:u,expanded:!0,newCommentsPage:n,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);o=(v!=null?v.commentIDs.length:0)+w.commentIDs.length;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:u,expanded:!0,newCommentsPage:n,repliesCollapser:i({count:o,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0})}if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",expanded:!0,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:!0,repliesCollapser:i({count:f,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null,shouldComposerRenderWhenListIsExpanded:!0});case"HIDE_COMMENTS":m=a.args.commentIDs;B=c.commentsHiddenByViewer;var H=babelHelpers["extends"]({},B);m.forEach(function(a){H[a]="LOCALLY_HIDDEN"});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:H}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:H});case"RECEIVE_COMMENTS_PAGE":y=c.commentPages;var I=c.newCommentsPage;x=c.pagers;r=c.locallyComposedCommentIDs;z=a.args;var J=z.commentIDs;A=z.depth;l=z.direction;d=z.feedbackTargetID;e=z.hiddenCommentIDs;v=z.pageSize;w=I.commentIDs.filter(function(a){return!J.includes(a)});u=r.filter(function(a){return!J.includes(a)});var K={};w.forEach(function(a){K[a]=I.visibleStates[a]});n=babelHelpers["extends"]({},I,{commentIDs:w,visibleStates:K});var ga=new Set(y.reduce(function(a,b){return a.concat(b.commentIDs)},[]));o=J.filter(function(a){return!ga.has(a)});l==="forward"&&a.args.hasNext===!0&&a.args.afterCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_next_page but after_count is 0");a.args.direction==="forward"&&a.args.hasNext===!1&&a.args.afterCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have next_page but after_count is > 0");a.args.direction==="backward"&&a.args.hasPrevious===!0&&a.args.beforeCount===0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that has_previous_page but before_count is 0");a.args.direction==="backward"&&a.args.hasPrevious===!1&&a.args.beforeCount>0&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d).warn("UFI2CommentsListState.receiveCommentsPage: Received page of comments that does NOT have previous_page but before_count is > 0");var L=t.isPagerLoading({depth:A,direction:l,state:c})===!0;f=A!==0&&t.isRepliesExpanderLoading({depth:A,state:c});B=c.shouldComposerRenderWhenListIsExpanded===!0||L===!0||f===!0;var M=babelHelpers["extends"]({},c.commentsHiddenByViewer);e.forEach(function(a){Object.prototype.hasOwnProperty.call(M,a)||(M[a]="COLLAPSED")});m=ga.size;if(A!==0&&a.args.direction==="forward"&&m===0){z=a.args;r=z.afterCount;d=z.hasNext;l={backward:null,forward:h({count:r,direction:"forward",error:null,hasMore:d,isLoading:!1,pageSize:v})};var N=c.expanded||f?"VISIBLE":"HIDDEN";e={__type:"COMMENTS_PAGE",afterCount:r,beforeCount:w.length,commentIDs:o,hasNext:d,hasPrevious:!1,state:N};w.forEach(function(a){K[a]=N});n=babelHelpers["extends"]({},I,{commentIDs:w,visibleStates:K});a.args.depth!==0||g(0,18482);c.__type==="DEPTH_1"||g(0,18482);m=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e],commentsHiddenByViewer:M,expanded:N==="VISIBLE",locallyComposedCommentIDs:u,newCommentsPage:n,pagers:l,repliesCollapser:i({count:o.length,expanded:f,minCountToShowCollapser:m}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B})}z=y[0];r=y[y.length-1];d=t.getVisibleCommentsCount({depth:A,state:c});if(a.args.direction==="backward"){L&&z!=null&&(z.state==="VISIBLE"||g(0,5938));e=a.args;l=e.beforeCount;m=e.hasPrevious;A=l<=w.length;A&&(K={},n.commentIDs.forEach(function(a){K[a]=L?"VISIBLE":"HIDDEN"}),n=babelHelpers["extends"]({},n,{visibleStates:K}));e=l-n.commentIDs.length-u.length;w=babelHelpers["extends"]({},x,{backward:L?h({count:e,direction:"backward",error:null,hasMore:m&&!A,isLoading:!1,pageSize:v}):x.backward});e={__type:"COMMENTS_PAGE",afterCount:((e=z==null?void 0:z.afterCount)!=null?e:0)+((z=z==null?void 0:(e=z.commentIDs)==null?void 0:e.length)!=null?z:0),beforeCount:l,commentIDs:o,hasNext:!0,hasPrevious:m,state:L||f?"VISIBLE":"HIDDEN"};if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[e].concat(y),commentsHiddenByViewer:M,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:w,shouldComposerRenderWhenListIsExpanded:B});a.args.depth!==0||g(0,18482);z=a.args.minCountToShowCollapser;l=f?!0:c.expanded;m=d+(e.state==="VISIBLE"?o.length:0)+(A&&L?n.commentIDs.length:0);return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[e].concat(y),commentsHiddenByViewer:M,expanded:l,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:w,repliesCollapser:i({count:m,expanded:l,minCountToShowCollapser:z}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B})}L&&r!=null&&(r.state==="VISIBLE"||g(0,5939));A=a.args;e=A.afterCount;w=A.hasNext;m=babelHelpers["extends"]({},x,{forward:L?h({count:e,direction:"forward",error:null,hasMore:w,isLoading:!1,pageSize:v}):x.forward});v={__type:"COMMENTS_PAGE",afterCount:e,beforeCount:((l=r==null?void 0:r.beforeCount)!=null?l:0)+((A=r==null?void 0:(z=r.commentIDs)==null?void 0:z.length)!=null?A:0),commentIDs:o,hasNext:w,hasPrevious:!0,state:L||f?"VISIBLE":"HIDDEN"};var O=0;x=f?y.map(function(a){a.state==="HIDDEN"&&(O+=a.commentIDs.length);return babelHelpers["extends"]({},a,{state:"VISIBLE"})}):y;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[].concat(x,[v]),commentsHiddenByViewer:M,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:m,shouldComposerRenderWhenListIsExpanded:B});a.args.depth!==0||g(0,18482);e=a.args.minCountToShowCollapser;l=v.state==="VISIBLE"?d+O+o.length:d+O;r=f?!0:c.expanded;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:[].concat(x,[v]),commentsHiddenByViewer:M,expanded:r,locallyComposedCommentIDs:u,newCommentsPage:n,pagers:m,repliesCollapser:i({count:l,expanded:r,minCountToShowCollapser:e}),repliesExpander:f?null:c.repliesExpander,shouldComposerRenderWhenListIsExpanded:B});case"RECEIVE_NEW_COMMENT":z=a.args;var P=z.commentID;A=z.depth;w=z.pageSize;y=z.prevTotalCount;o=z.totalCount;d=c.commentPages;x=c.expanded;var Q=c.newCommentsPage;v=c.pagers;u=c.commentsByID;n=c.locallyComposedCommentIDs;m=c.viewOption;l=t.getCommentsCount({depth:A,state:c})===0;r=Object.prototype.hasOwnProperty.call(Q.visibleStates,P)||d.some(function(a){return a.commentIDs.includes(P)});if(r)return c;e=u[P]!=null&&u[P].is_locally_composed===!0;f=c.repliesExpander!=null?babelHelpers["extends"]({},c.repliesExpander,{count:Math.min(c.repliesExpander.count+1,o)}):null;if(d.length===0){z=babelHelpers["extends"]({},Q,{commentIDs:s(c)&&!e?[].concat(Q.commentIDs,[P]):[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(B={},B[P]=x||e||A!==0&&l&&y===0?"VISIBLE":"HIDDEN",B))});B=((r=u[P])==null?void 0:r.is_locally_composed)===!0?[P].concat(n):n;if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",locallyComposedCommentIDs:B,newCommentsPage:z});a.args.depth!==0||g(0,18482);u=a.args.minCountToShowCollapser;r=l&&y===0?!0:x;return babelHelpers["extends"]({},c,{__type:"DEPTH_1",expanded:r,locallyComposedCommentIDs:B,newCommentsPage:z,repliesCollapser:i({count:z.commentIDs.length,expanded:x,minCountToShowCollapser:u}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}l=d[0];r=p(c);if(e){var R=!1,S=babelHelpers["extends"]({},Q.visibleStates),T=!b("UFI2ViewOption").isChronologicalOrder(m)&&c.__type!=="DEPTH_0",ha=[],U=[];B=(T?[].concat(d).reverse():d).map(function(a){if(!R&&a.state==="VISIBLE"){R=!0;Q.commentIDs.forEach(function(a){S[a]==="VISIBLE"&&!s(c)?(delete S[a],U.push(a)):ha.push(a)});return babelHelpers["extends"]({},a,{commentIDs:T?[].concat(a.commentIDs,U.reverse(),[P]):[P].concat(U,a.commentIDs)})}return R?babelHelpers["extends"]({},a,{afterCount:T?a.afterCount+1+U.length:a.afterCount,beforeCount:T?a.beforeCount:a.beforeCount+1+U.length}):a});z=babelHelpers["extends"]({},Q,{commentIDs:ha,visibleStates:S});u=[P].concat(n);if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:B,locallyComposedCommentIDs:u,newCommentsPage:z});a.args.depth!==0||g(0,18482);e=a.args.minCountToShowCollapser;m=t.getVisibleCommentsCount({depth:A,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:T?B.reverse():B,locallyComposedCommentIDs:u,newCommentsPage:z,repliesCollapser:i({count:m+1,expanded:x,minCountToShowCollapser:e}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}else if(r&&ba(c)){var V=s(c);n=d.map(function(a){return babelHelpers["extends"]({},a,{afterCount:V?a.afterCount+1:a.afterCount,beforeCount:V?a.beforeCount:a.beforeCount+1})});if(V&&c.__type==="DEPTH_0"&&c.pagers.forward!=null)return babelHelpers["extends"]({},c,{commentPages:n});u=babelHelpers["extends"]({},Q,{commentIDs:V?[].concat(Q.commentIDs,[P]):[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(B={},B[P]="VISIBLE",B))});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:n,newCommentsPage:u});a.args.depth!==0||g(0,18482);z=a.args.minCountToShowCollapser;m=t.getVisibleCommentsCount({depth:A,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:n,newCommentsPage:u,repliesCollapser:i({count:m+1,expanded:x,minCountToShowCollapser:z}),repliesExpander:f,shouldComposerRenderWhenListIsExpanded:!0})}else if(r&&Q.commentIDs.length===0){e=v.backward!=null?babelHelpers["extends"]({},v,{backward:babelHelpers["extends"]({},v.backward,{count:Math.min(v.backward.count+1,w)})}):v;B=l.commentIDs.length<w;if(B){A=[babelHelpers["extends"]({},l,{commentIDs:[P].concat(l.commentIDs)})].concat(d.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:A,pagers:e}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:A,pagers:e,repliesExpander:f})}n=[{__type:"COMMENTS_PAGE",afterCount:l.afterCount+l.commentIDs.length,beforeCount:0,commentIDs:[P],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},l,{beforeCount:1,hasPrevious:!0})].concat(d.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:n,pagers:e}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:n,pagers:e,repliesExpander:f})}else{u=o<=y;m=u?d:d.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1,hasPrevious:!0})});x=v.backward!=null?babelHelpers["extends"]({},v,{backward:babelHelpers["extends"]({},v.backward,{count:u?v.backward.count:Math.min(v.backward.count+1,w)})}):v;r=babelHelpers["extends"]({},Q,{commentIDs:[P].concat(Q.commentIDs),visibleStates:babelHelpers["extends"]({},Q.visibleStates,(z={},z[P]="HIDDEN",z))});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:m,newCommentsPage:r,pagers:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:m,newCommentsPage:r,pagers:x,repliesExpander:f})}case"RECEIVE_REFETCH_LIST":B=a.args.depth;A=c.feedbackTargetID;l=c.topLevelFeedbackTargetID;n=c.viewOption;B===0||g(0,5940);t.isListLoading({depth:B,state:c})||g(0,5941);e=aa.getInitialState({args:babelHelpers["extends"]({},a.args,{depth:0,feedbackTargetID:A,initiallyExpanded:!0,topLevelFeedbackTargetID:l,viewOption:n}),state:null});e.__type==="DEPTH_0"||g(0,5940);return babelHelpers["extends"]({},e,{__type:"DEPTH_0",expanded:c.expanded,status:{error:null,pending:!1}});case"REQUEST_COMMENTS_PAGE":o=a.args;y=o.depth;d=o.direction;u=o.pageSize;w=c.commentPages;v=c.expanded;z=c.newCommentsPage;m=c.pagers;v||g(0,5942);t.isPagerLoading({depth:y,direction:d,state:c})&&g(0,5943);y===0&&(t.isListLoading({depth:y,state:c})&&g(0,5944));y!==0&&(t.isRepliesExpanderLoading({depth:y,state:c})&&g(0,5945));if(d==="backward"){r=w.findIndex(function(a){return a.state==="VISIBLE"});x=-1;if(r>-1){f=w[r];f.hasPrevious===!1&&b("FBLogger")("ufi2").mustfix("UFI2CommentsList.updater(...): REQUEST_COMMENTS_PAGE - Can't request previous comments if there are no more comments available, feedbackID: %s",c.topLevelFeedbackTargetID);f.hasPrevious===!0||g(0,5946);x=r-1}else r===-1&&w.length>0&&(x=0);B=w[x];A=p(c)&&q(c,"HIDDEN");if(B&&B.state==="HIDDEN"){l=[].concat(w);l[x]=babelHelpers["extends"]({},B,{state:"VISIBLE"});n=babelHelpers["extends"]({},m,{backward:h({count:B.beforeCount,direction:"backward",error:null,hasMore:B.hasPrevious,isLoading:!1,pageSize:u})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:l,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:n,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);e=a.args.minCountToShowCollapser;o=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:l,hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:n,repliesCollapser:i({count:o+B.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:e}),shouldComposerRenderWhenListIsExpanded:!0})}else if(A){var ia={};z.commentIDs.forEach(function(a){ia[a]="VISIBLE"});v=babelHelpers["extends"]({},z,{visibleStates:ia});d=babelHelpers["extends"]({},m,{backward:null});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:v,pagers:d,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);f=a.args.minCountToShowCollapser;r=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),newCommentsPage:v,pagers:d,repliesCollapser:i({count:r+v.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:f}),shouldComposerRenderWhenListIsExpanded:!0})}else{x=babelHelpers["extends"]({},m,{backward:babelHelpers["extends"]({},m.backward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{backward:!0}),pagers:x})}}l=[].concat(w).reverse().findIndex(function(a){return a.state==="VISIBLE"});n=-1;if(l>-1){o=w.length-1-l;B=w[o];B.hasNext===!0||g(0,5946);n=o+1}else l===-1&&w.length>0&&(n=w.length-1);e=w[n];if(e&&e.state==="HIDDEN"){A=[].concat(w);A[n]=babelHelpers["extends"]({},e,{state:"VISIBLE"});z=babelHelpers["extends"]({},m,{forward:h({count:e.afterCount,direction:"forward",error:null,hasMore:e.hasNext,isLoading:!1,pageSize:u})});if(c.__type==="DEPTH_0")return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:A,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:z,shouldComposerRenderWhenListIsExpanded:!0});a.args.depth!==0||g(0,18482);d=a.args.minCountToShowCollapser;r=t.getVisibleCommentsCount({depth:y,state:c});return babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:A,hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:z,repliesCollapser:i({count:r+e.commentIDs.length,expanded:c.expanded,minCountToShowCollapser:d}),shouldComposerRenderWhenListIsExpanded:!0})}else{v=babelHelpers["extends"]({},m,{forward:babelHelpers["extends"]({},m.forward,{status:{error:null,pending:!0}})});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:v}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},c.hasPaged,{forward:!0}),pagers:v})}case"REQUEST_REFETCH_LIST":f=a.args.depth;f===0&&c.__type==="DEPTH_0"||g(0,5940);t.isListLoading({depth:f,state:c})&&g(0,5941);return babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},locallyComposedCommentIDs:[],newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[],visibleStates:{}},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":x=a.args.canViewerComment;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",canViewerComment:x}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",canViewerComment:x});case"SET_COMMENTS_BY_ID":B=a.args.commentsByID;return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsByID:B}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsByID:B});case"SET_SERVER_COMMENT_ID":o=a.args;var W=o.clientCommentID,X=o.serverCommentID;l=c.commentPages;var Y=c.newCommentsPage;w=c.locallyComposedCommentIDs;var Z=!1,$={};n=Y.commentIDs.map(function(a){if(a===W){Z=!0;$[X]=Y.visibleStates[a];return X}$[a]=Y.visibleStates[a];return a});if(Z){u=w.map(function(a){return a===W?X:a});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",locallyComposedCommentIDs:u,newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:n,visibleStates:$})}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",locallyComposedCommentIDs:u,newCommentsPage:babelHelpers["extends"]({},c.newCommentsPage,{commentIDs:n,visibleStates:$})})}y=l.map(function(a){if(Z)return a;var b=a.commentIDs.map(function(a){if(a===W){Z=!0;return X}return a});return Z?babelHelpers["extends"]({},a,{commentIDs:b}):a});if(!Z)return c;A=w.map(function(a){return a===W?X:a});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentPages:y,locallyComposedCommentIDs:A}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentPages:y,locallyComposedCommentIDs:A});case"UNHIDE_COMMENTS":z=a.args.commentIDs;r=c.commentsHiddenByViewer;var ja=babelHelpers["extends"]({},r);z.forEach(function(a){delete ja[a]});return c.__type==="DEPTH_0"?babelHelpers["extends"]({},c,{__type:"DEPTH_0",commentsHiddenByViewer:ja}):babelHelpers["extends"]({},c,{__type:"DEPTH_1",commentsHiddenByViewer:ja});case"INITIAL_STATE":default:a.__type;throw new Error("UFI2CommentsListState: Invalid action type: "+a.__type)}}function n(a,c){try{var d=l(a,c);return d}catch(f){d=b("ErrorNormalizeUtils").normalizeError(f);d=d.message;var e=a.__type==="REQUEST_COMMENTS_PAGE"||a.__type==="RECEIVE_COMMENTS_PAGE"?a.args.direction:"Unknown";b("FBLogger")("ufi2").catching(f).addMetadata("UFI","COMMENTS_LIST_ACTION",a.__type).addMetadata("UFI","COMMENTS_LIST_DEPTH",""+a.args.depth).addMetadata("UFI","COMMENTS_LIST_DIRECTION",e).mustfix("UFI2CommentsListState.updater(...): "+d);b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&a.__type!=="SET_COMMENTS_BY_ID"&&console.groupEnd();if(!c)throw f;return c}}function a(a,b){return l(a,b)}function c(a,b){return l(a,b)}var aa={collapseList:function(a){var b=a.args;a=a.state;return n({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return n({__type:"DELETE_COMMENT",args:b},a)},expandHiddenComments:function(a){var b=a.args;a=a.state;return n({__type:"EXPAND_HIDDEN_COMMENTS",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return n({__type:"EXPAND_LIST",args:b},a)},getInitialState:function(a){var b=a.args;a=a.state;return n({__type:"INITIAL_STATE",args:b},a)},hideComments:function(a){var b=a.args;a=a.state;return n({__type:"HIDE_COMMENTS",args:b},a)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return n({__type:"RECEIVE_REFETCH_LIST",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return n({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return n({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return n({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setCommentsByID:function(a){var b=a.args;a=a.state;return n({__type:"SET_COMMENTS_BY_ID",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return n({__type:"SET_SERVER_COMMENT_ID",args:b},a)},unhideComments:function(a){var b=a.args;a=a.state;return n({__type:"UNHIDE_COMMENTS",args:b},a)}};function o(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}function p(a){var b=a.commentPages,c=a.newCommentsPage;b=b[0];if(!b)return c.commentIDs.length>0;return s(a)?b.beforeCount===0:b.beforeCount-c.commentIDs.length===0}function ba(a){var b=a.commentPages;b=b[0];return!b?p(a)&&q(a,"VISIBLE"):p(a)&&b.state==="VISIBLE"&&q(a,"VISIBLE")}function q(a,b){var c=a.newCommentsPage;return c.commentIDs.every(function(a){return c.visibleStates[a]===b})}function r(a){var c=a.__type,d=a.commentPages,e=a.newCommentsPage,f=a.viewOption;d=d.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]);var g=e.commentIDs.filter(function(a){return e.visibleStates[a]==="VISIBLE"});if(s(a))return[].concat(d,g);return c==="DEPTH_1"&&!b("UFI2ViewOption").isChronologicalOrder(f)?[].concat(d,g.reverse()):[].concat(g,d)}function s(a){return a.__type==="DEPTH_0"&&a.viewOption==="MOST_VOTED"&&b("gkx")("1445059")}var t={canFetchInDirection:function(a){var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=d.newCommentsPage,f=t.isPagerLoading({depth:b,direction:c,state:d});if(f)return!1;f=b===0&&t.isListLoading({depth:b,state:d});if(f)return!1;f=b!==0&&t.isRepliesExpanderLoading({depth:b,state:d});if(f)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;f=a[0];a=a[a.length-1];b=t.getPagerCount({depth:b,direction:"backward",state:d});b=b===e.commentIDs.length&&q(d,"HIDDEN");return c==="backward"?f.state!=="HIDDEN"&&!b&&f.hasPrevious:a.state!=="HIDDEN"&&a.hasNext},getCommentsCount:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getCountForFetch:function(a){var b=a.depth,c=a.direction,d=a.pageSize;a=a.state;c=t.getPagerCount({depth:b,direction:c,state:a});if(c!=null)return c;if(b!==0){d!=null||g(0,5947);c=t.getRepliesExpanderCount({depth:b,state:a});if(c!=null)return Math.min(c,d)}return null},getHiddenStateForComment:function(a){var b=a.commentID;a.depth;a=a.state;a=a.commentsHiddenByViewer;return a[b]||null},getPagerCount:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleComments:function(a){a.depth;a=a.state;var c=a.commentsByID,d=a.newCommentsPage,e=a.locallyComposedCommentIDs,f=a.viewOption;a=r(a);var g=a.map(function(a){var d=c[a];if(!d){b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find comment locally: %s",a);return null}return d}).filter(Boolean);a.length>0&&g.length===0&&b("FBLogger")("ufi2").warn("UFI2CommentsListState.getVisibleComments: Could not find ANY of the %s comments locally",a.length);return!e.length&&d.commentIDs.length>0&&b("UFI2ViewOption").isChronologicalOrder(f)?g.sort(function(a,b){return((b=b.created_time)!=null?b:0)-((b=a.created_time)!=null?b:0)}):g},getVisibleCommentsCount:function(a){a.depth;a=a.state;return r(a).length},getVisibleCommentsGroupedByCollapsedState:function(a){var b=a.depth,c=a.reverse,d=a.shouldCollapseComment;a=a.state;b=t.getVisibleComments({depth:b,state:a});a=c?b.slice().reverse():b;return a.reduce(function(a,b){var c=d(b)?"COLLAPSED":"VISIBLE";if(a.length===0)return[{comments:[b],state:c}];var e=a[a.length-1],f=e.comments[e.comments.length-1];if(!f)return a;f=e.state;if(f===c){e.comments.push(b);return a}return[].concat(a,[{comments:[b],state:c}])},[])},getVisibleCommentsWithHiddenCommentsCollapsed:function(a){var b=a.depth,c=a.reverse,d=a.state;return t.getVisibleCommentsGroupedByCollapsedState({depth:b,reverse:c,shouldCollapseComment:function(a){return t.getHiddenStateForComment({commentID:a.id,depth:b,state:d})==="COLLAPSED"},state:d})},hasLastPageLeftInDirection:function(a){a.depth;var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=o({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){a.depth;var b=a.direction,c=a.state;a=a.totalCount;c=o({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){a.depth;var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return t.getVisibleComments({depth:b,state:a}).length>0},isCommentHiddenByViewer:function(a){return t.getHiddenStateForComment(a)!=null},isComposerVisible:function(a){a.depth;a=a.state;return a.canViewerComment&&a.expanded&&a.shouldComposerRenderWhenListIsExpanded},isListExpanded:function(a){a.depth;a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b!==0||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null}};e.exports={_updaterDepth0_DO_NOT_USE:a,_updaterDepth1_DO_NOT_USE:c,Selectors:t,StateUpdaters:aa}}),null);
__d("UFI2CommentsListGetDerivedStateFromProps",["CometUFICommentListStateConfig","UFI2CommentsListState","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("UFI2CommentsListState").Selectors,h=b("UFI2CommentsListState").StateUpdaters;function i(a){var b=a.depth,c=a.feedback;a=a.topLevelFeedback;return b===0?Boolean(c.can_viewer_comment):a!=null&&a.can_viewer_comment===!0&&c!=null&&c.can_viewer_comment===!0}function a(a,c){var d=c.mirroredProps;c=c.listState;if(d===a)return{listState:c,mirroredProps:d};var e=d.connectionGeneration,f=d.feedback,k=d.isRefetchingConnection,l=d.topLevelFeedback;d=d.totalCount;var m=a.connectionGeneration,n=a.feedback,o=a.commentIDs,p=a.commentsByID,q=a.connectionPageInfo,r=a.depth,s=a.hiddenCommentIDs,t=a.isRefetchingConnection,u=a.topLevelFeedback,v=a.shouldRenderComposerPreemptively,w=a.totalCount,x=a,y=q.afterCount,z=q.beforeCount,A=q.hasNext,B=q.hasPrevious;q=q.pageSize;var C=c;C=h.setCommentsByID({args:{commentsByID:p,depth:r},state:C});if(r===0&&g.isListLoading({depth:r,state:C})){k=k===!0&&t===!1;k&&(C=h.receiveRefetchList({args:{afterCount:y,beforeCount:z,canViewerComment:i({depth:r,feedback:n,topLevelFeedback:u}),commentIDs:o,commentsByID:p,depth:r,hasNext:A,hasPrevious:B,hiddenCommentIDs:s,pageSize:q,shouldRenderComposerPreemptively:v,totalCount:w},state:C}));return{listState:C,mirroredProps:x}}if(m>e){C=j(x,c);return{listState:C,mirroredProps:x}}t=a.newlyCreatedCommentIDs;k=a.newlyHiddenCommentIDs;y=a.newlyUnhiddenCommentIDs;z=a.commentIDsUpdatedToServerIDs;o=a.removedCommentIDs;p=i({depth:r,feedback:f,topLevelFeedback:l});A=i({depth:r,feedback:n,topLevelFeedback:u});z.length>0&&z.forEach(function(a){var b=a.clientID;a=a.serverID;C=h.setServerCommentID({args:{clientCommentID:b,depth:r,serverCommentID:a},state:C})});p!==A&&(C=h.setCanViewerComment({args:{canViewerComment:A,depth:r},state:C}));k.length>0&&(C=h.hideComments({args:{commentIDs:k,depth:r},state:C}));y.length>0&&(C=h.unhideComments({args:{commentIDs:y,depth:r},state:C}));if(t.length>0){B=a.connectionPageInfo.pageSize;for(var s=t.length-1;s>=0;s--){q=t[s];r===0?C=h.receiveNewComment({args:{commentID:q,depth:r,pageSize:B,prevTotalCount:d,totalCount:w},state:C}):C=h.receiveNewComment({args:{commentID:q,depth:r,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:B,prevTotalCount:d,totalCount:w},state:C})}}else o.length>0&&o.forEach(function(a){r===0?C=h.deleteComment({args:{commentID:a,depth:r},state:C}):C=h.deleteComment({args:{commentID:a,depth:r,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER},state:C})});return{listState:C,mirroredProps:x}}function j(a,c){var d=a.commentsByID,e=a.commentIDs,f=a.connectionPageInfo,g=f.afterCount,j=f.beforeCount,k=f.hasNext,l=f.hasPrevious;f=f.pageSize;var m=a.depth,n=a.feedback,o=a.hiddenCommentIDs,p=a.isInitiallyExpanded,q=a.shouldRenderComposerPreemptively,r=a.topLevelFeedback,s=a.totalCount;a=a.viewOption;var t=i({depth:m,feedback:n,topLevelFeedback:r});j={afterCount:g,beforeCount:j,canViewerComment:t,commentIDs:e,commentsByID:d,feedbackTargetID:b("nullthrows")(n.id),hasNext:k,hasPrevious:l,hiddenCommentIDs:o,initiallyExpanded:p,pageSize:f,shouldRenderComposerPreemptively:q,topLevelFeedbackTargetID:(g=r==null?void 0:r.id)!=null?g:b("nullthrows")(n.id),totalCount:s,viewOption:a};return m===0?h.getInitialState({args:babelHelpers["extends"]({},j,{depth:0}),state:(t=c)!=null?t:null}):h.getInitialState({args:babelHelpers["extends"]({},j,{depth:1,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER}),state:(e=c)!=null?e:null})}e.exports={getCanViewerComment:i,getDerivedStateFromProps:a,getInitialState:j}}),null);
__d("isUFI2ClientID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.startsWith("client:")}e.exports=a}),null);
__d("UFI2CommentsProviderState",["FBLogger","gkx","isUFI2ClientID"],(function(a,b,c,d,e,f){"use strict";function g(a){return a!=null&&(a.is_locally_composed===!0||a.is_created_from_subscription===!0||a.optimistic_error!=null||a.optimistic_action!=null)}function h(a){return!a||a.spam_display_mode==null?!1:(a==null?void 0:a.spam_display_mode)!=="none"}function a(a){a=(a=a.feedback.display_comments)==null?void 0:a.before_count;return typeof a==="number"?a:null}function i(a){return a.filter(function(a){return b("isUFI2ClientID")(a)})}function j(a){var c={};a=a?a.map(function(a){if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null edge from comments connection.");return null}a=a.node;if(!a){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received null comment from comments connection.");return null}var d=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);if(typeof d!=="string"||d==null){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received comment with null id from comments connection.");return null}c[d]=babelHelpers["extends"]({},a,{id:d});return d}).filter(Boolean):[];if(a.length>Object.keys(c).length){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getCommentsFromEdges(...): Received duplicate comments from comments connection");var d=new Set();return{commentIDs:a.filter(function(a){if(d.has(a))return!1;d.add(a);return!0}),commentsByID:c}}return{commentIDs:a,commentsByID:c}}function k(a,c){var d=Object.keys(a),e=Object.keys(c),f=d.length,g=e.length;if(g>=f)return[];e.every(function(b){return Object.prototype.hasOwnProperty.call(a,b)})||b("FBLogger")("ufi2").warn("UFI2CommentsProvider: Expected next comments to be a subset of previous comments when removing a comment");g=d.filter(function(a){return!Object.prototype.hasOwnProperty.call(c,a)});return g}function l(a,c,d,e){var f=[];d=a.filter(function(a){return!b("isUFI2ClientID")(a)});var g=function(){if(i){if(j>=h.length)return"break";a=h[j++]}else{j=h.next();if(j.done)return"break";a=j.value}var b=a,d=e[b],g=d&&d.client_id!=null?d.client_id:null;g!=null&&c.find(function(a){return a===g})&&f.push({clientID:g,serverID:b})};for(var h=d,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){d=g();if(d==="break")break}return f}function m(a,c,d){if(d.length<=c.length)return[];var e=a[d[0]];if(!e){b("FBLogger")("ufi2").warn("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Next most recent comment not found");return[]}e=c.filter(function(b){return g(a[b])});c=d.filter(function(b){return g(a[b])});d=c.length-e.length>0;if(!d)return[];if(e.length===0){c.length>1&&b("FBLogger")("ufi2").info("UFI2CommentsProviderState.getNewlyCreatedCommentIDs(...): Received more than 1 new comment in a single update");return c}var f=new Set(e);return c.filter(function(a){return!f.has(a)})}function n(a,b){return b.filter(function(b){b=a[b];return b!=null&&h(b)})}function o(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!1&&h(c)===!0})}function p(a,b,c){return c.filter(function(c){var d=a[c];c=b[c];return d!=null&&h(d)===!0&&h(c)===!1})}function c(a,c){var d=a.depth,e=c.commentsByID,f=c.commentIDs;a=j(a.edges);var g=a.commentIDs;a=a.commentsByID;var h=f.length,q=c.clientCommentIDs,r=g.length,s=i(g),t=c.selectedViewOption;c=c.isRefetchingConnection;var u=n(a,g),v=o(e,a,g),w=p(e,a,g);q=l(g,q,s,a);var x=r>h;h=h>r;r=x?m(a,f,g):[];x=h&&!c;f=x?k(e,a):[];h={clientCommentIDs:s,commentIDs:g,commentIDsUpdatedToServerIDs:q,commentsByID:a,hiddenCommentIDs:u,isRefetchingConnection:c,newlyCreatedCommentIDs:r,newlyHiddenCommentIDs:v,newlyUnhiddenCommentIDs:w,removedCommentIDs:f,selectedViewOption:t};b("gkx")("676930")&&window.__enableUFI2CommentsListLogging===!0&&(console.groupCollapsed("%cUFI2 Relay Comments Connection Update at depth "+d+":",";background-color:#75DBCD;color:#1F2D3D;opacity:0.7;font-weight:bold;"),console.groupEnd());return h}function d(a){a=a.edges;a=j(a);var b=a.commentIDs;a=a.commentsByID;var c=i(b),d=n(a,b);return{clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,hiddenCommentIDs:d,isRefetchingConnection:!1,newlyCreatedCommentIDs:[],newlyHiddenCommentIDs:[],newlyUnhiddenCommentIDs:[],removedCommentIDs:[],selectedViewOption:null}}e.exports={getBeforeCount:a,getClientCommentIDs:i,getCommentIDsUpdatedToServerIDs:l,getCommentsFromEdges:j,getDerivedStateFromProps:c,getHiddenCommentIDs:n,getInitialState:d,getNewlyCreatedCommentIDs:m,getNewlyHiddenCommentIDs:o,getNewlyUnhiddenCommentIDs:p,getRemovedCommentIDs:k}}),null);
__d("UFI2RealtimeContext",["React","warning"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(function(){b("warning")(!1,"UFI2RealtimeContext: Using default context. Put an instance of `UFI2RealtimeRoot` in the tree.");return{dispose:function(){}}});e.exports=c}),null);
__d("UFI2RealtimeContainer.react",["React","UFI2RealtimeContext"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useContext,i=c.useEffect;function a(a){var c=a.children;a=a.subscribe;var d=h(b("UFI2RealtimeContext"));return g.jsx(j,{factory:d,subscribe:a,children:c})}var j=function(a){var b=a.factory,c=a.subscribe;a=a.children;i(function(){var a=b(new k(c));return function(){a.dispose()}},[b,c]);return(a=a)!=null?a:null},k=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(){this.$2||(this.$2=this.$1())};b.unsubscribe=function(){this.$2&&(this.$2.dispose(),this.$2=null)};return a}();e.exports=a}),null);
__d("UFI2RelayConnectionRenderer.react",["invariant","React","RelayRuntime","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/readContext","react-relay/RelayContext"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");var h=(c=b("RelayRuntime")).ConnectionInterface,i=c.createOperationDescriptor;d=c.deepFreeze;var j=c.getRequest,k=b("react-relay/RelayContext").assertRelayContext;f=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=!1;d.$2=!1;d.$6=function(a,b){if(!d.$7()||d.$1)return;d.$4("forward",a,b||{})};d.$8=function(a,b){if(!d.$9()||d.$2)return;d.$4("backward",a,b||{})};d.$7=function(){var a=d.props.connection;a=l(a);return a?a.hasNext:!1};d.$9=function(){var a=d.props.connection;a=l(a);return a?a.hasPrevious:!1};d.$5=function(a,b){a==="forward"?(d.$1=!0,d.forceUpdate(b)):a==="backward"&&(d.$2=!0,d.forceUpdate(b))};var e=k(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));d.state={mirroredRelayContext:e,prevProps:c,queryFetchers:{backward:new(b("react-relay/ReactRelayQueryFetcher"))(),forward:new(b("react-relay/ReactRelayQueryFetcher"))()}};return d}c.getDerivedStateFromProps=function(a,c){var d=k(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));if(c.prevProps.paginationQuery!==a.paginationQuery||c.mirroredRelayContext.environment!==d.environment){c=c.queryFetchers;return{mirroredRelayContext:d,prevProps:a,queryFetchers:babelHelpers["extends"]({},c)}}return null};var d=c.prototype;d.componentDidUpdate=function(a,b){this.state.queryFetchers!==b.queryFetchers&&(b.queryFetchers.backward.dispose(),b.queryFetchers.forward.dispose())};d.componentWillUnmount=function(){var a=this.state.queryFetchers;a.backward.dispose();a.forward.dispose()};d.shouldComponentUpdate=function(a,b){return!0};d.$3=function(a,b){a==="forward"?(this.$1=!1,this.forceUpdate(b)):a==="backward"&&(this.$2=!1,this.forceUpdate(b))};d.$4=function(a,b,c){var d=this,e=this.props,f=e.connection;e=e.paginationQuery;var h=this.state.queryFetchers;h=h[a];f=l(f);f||g(0,1775);var k=babelHelpers["extends"]({},m(a,b,f,c),{UFI2CommentsProvider_commentsKey:this.props.commentsKey});if(!k)return;b=this.state.mirroredRelayContext.environment;var n=c.onLoaded;f=j(e);c=i(f,k);var o=!1;try{var p=h.fetch({environment:b,onDataChange:function(b){var c=b.error,e=b.snapshot;if(o)return;o=!0;if(c){n&&n({error:c,variables:k});return}if(!k)return;d.$3(a,function(){n&&n({data:e==null?void 0:e.data,variables:k})})},operation:c});p?(o=!0,this.$3(a,function(){n&&n({data:p.data,variables:k})})):this.$5(a)}catch(a){n&&n({error:a,variables:k})}};d.render=function(){var a=this.props.connection;if(!a)return null;a=a.edges;a={edges:a,hasNext:this.$7(),hasPrevious:this.$9(),isLoadingNext:this.$1,isLoadingPrevious:this.$2,loadNext:this.$6,loadPrevious:this.$8};return this.props.children(a)};return c}(a.Component);function l(a){if(!a)return null;var b=h.get(),c=b.PAGE_INFO,d=b.HAS_NEXT_PAGE,e=b.HAS_PREV_PAGE,f=b.END_CURSOR;b=b.START_CURSOR;a=a[c];a||g(0,1776);return{backwardCursor:a[b],forwardCursor:a[f],hasNext:a[d],hasPrevious:a[e]}}function m(a,b,c,d){switch(a){case"backward":a=b;var e=c.backwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:null,before:e,first:null,last:a}):babelHelpers["extends"]({after:null,before:e,first:null,last:a},d.queryVariables);case"forward":e=b;a=c.forwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:a,before:null,first:e,last:null}):babelHelpers["extends"]({after:a,before:null,first:e,last:null},d.queryVariables);default:throw new Error("UFI2RelayConnectionRenderer: direction must be one of backward or forward")}}e.exports=f}),null);
__d("UFI2CommentsProvider.react",["invariant","requireDeferred","FBLogger","React","RelayModern","RelayUFI2CommentsKeyContext","SiteData","UFI2CommentsProviderState","UFI2Config","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","UFI2SurfaceContainerContext","gkx","nullthrows","relay-runtime","UFI2CommentsProviderPaginationQuery.graphql","UFI2CommentsProviderReadCommentsPageQuery.graphql","UFI2CommentsProvider_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("React");c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var l=b("SiteData").pr;d=b("UFI2CommentsProviderState").getDerivedStateFromProps;var m=b("UFI2CommentsProviderState").getInitialState,n=b("requireDeferred")("UFI2CreateCommentSubscription"),o=b("relay-runtime").createOperationDescriptor,p=b("relay-runtime").getRequest,q=50,r=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.state=m({edges:d.props.edges,feedback:d.props.feedback});d.$1=function(a){var c=a.count,e=a.direction,f=a.onCommentsFetched;a=d.props;var g=a.displayCommentsContext,h=a.feedLocation,i=a.feedbackSource,j=a.focusCommentID,k=a.depth,m=a.feedback,n=a.isComet,o=a.isLoadingNext,p=a.isLoadingPrevious,q=a.loadNext,r=a.loadPrevious,s=a.topLevelViewOption;a=a.useDefaultActor;var t=d.state.selectedViewOption;m=m.id;if(!m){b("FBLogger")("ufi2").mustfix("UFI2CommentsProvider: Cant fetch without a feedback id");return}if(e==="forward"&&o)return;if(e==="backward"&&p)return;p=babelHelpers["extends"]({},b("nullthrows")((o=d.context)==null?void 0:o.containerMapping),{displayCommentsContextEnableComment:g==null?void 0:g.enableComment,displayCommentsContextIsAdPreview:g==null?void 0:g.isAdPreview,displayCommentsContextIsAggregatedShare:g==null?void 0:g.isAggregatedShare,displayCommentsContextIsStorySet:g==null?void 0:g.isStorySet,displayCommentsFeedbackContext:g==null?void 0:g.feedbackContext,feedLocation:h,feedbackID:m,feedbackSource:i,focusCommentID:j,includeNestedComments:k===0,isComet:n,isInitialFetch:!1,scale:l,topLevelViewOption:s,useDefaultActor:a,viewOption:t});if(e==="backward")r(c,{onLoaded:function(a){var b=a.error;a=a.variables;return d.$2({direction:e,error:b,onCommentsFetched:f,variables:a})},queryVariables:p});else if(e==="forward")q(c,{onLoaded:function(a){var b=a.error;a=a.variables;return d.$2({direction:e,error:b,onCommentsFetched:f,variables:a})},queryVariables:p});else throw new Error("UFI2CommentsProvider: Invalid direction")};d.$3=function(a){var c=d.state.commentsByID[a];if(c==null){b("FBLogger")("ufi2").warn("UFI2CommentsProvider: Could not find requested comment locally: %s",a);return null}return c};d.$6=function(a){var c=a.onComplete;a=a.queryVariables;var e=d.props,f=e.displayCommentsContext,g=e.feedLocation,h=e.feedback,i=e.feedbackSource,j=e.focusCommentID,k=e.isComet,m=e.relay,n=e.topLevelViewOption;e=e.useDefaultActor;var o=d.state.selectedViewOption;h=h.id;if(!h){b("FBLogger")("ufi2").mustfix("UFI2CommentsProvider: Cant refetch without a feedback id");return}var p=babelHelpers["extends"]({displayCommentsContextEnableComment:f==null?void 0:f.enableComment,displayCommentsContextIsAdPreview:f==null?void 0:f.isAdPreview,displayCommentsContextIsAggregatedShare:f==null?void 0:f.isAggregatedShare,displayCommentsContextIsStorySet:f==null?void 0:f.isStorySet,displayCommentsFeedbackContext:f==null?void 0:f.feedbackContext,feedLocation:g,feedbackID:h,feedbackSource:i,focusCommentID:j,includeNestedComments:!0,isComet:k,isInitialFetch:!1,scale:l,topLevelViewOption:n,useDefaultActor:e,viewOption:o},b("nullthrows")((f=d.context)==null?void 0:f.containerMapping),a);d.setState({isRefetchingConnection:!0},function(){m.refetch(function(a){return babelHelpers["extends"]({},a,p)},null,function(a){return d.$5(a||null,c)})})};d.$7=function(a){var b=a.onComplete;a=a.viewOption;d.setState({selectedViewOption:a},function(){d.$6({onComplete:b,queryVariables:{}})})};d.$8=function(){var a=d.props,c=a.commentsKey,e=a.depth,f=a.feedback,g=a.feedbackSource,h=a.focusCommentID,i=a.relay,j=a.useDefaultActor,k=a.onNext;if(b("gkx")("1352852")&&g===1)return null;var l=f.id,m=f.subscription_target_id;if(e===1||!l||!m)return null;var o=!1,p={dispose:function(){o=!0}};n.load().then(function(a){if(o)return;p.dispose=a.subscribe({commentsKey:c,containerMapping:b("nullthrows")((a=d.context)==null?void 0:a.containerMapping),environment:i.environment,feedbackSource:g,focusCommentID:h,isComet:d.context.isComet,onNext:k,subscriptionTargetID:m,topLevelFeedbackTargetID:l,useDefaultActor:j}).dispose})["catch"](function(a){return b("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to UFI2CreateCommentSubscription, this is probably because the arguments didn't line up with what we're expected or someone has been tinkering with its implementation")});return p};return d}var d=a.prototype;d.$2=function(a){var b=a.direction,c=a.error,d=a.onCommentsFetched;a=a.variables;if(c){d&&d({commentIDs:[],direction:b,error:c});return}c=this.props.relay.environment;var e=p(t);e=o(e,a);a=c.lookup(e.fragment).data;c=(a=a==null?void 0:(c=a.feedback)==null?void 0:(e=c.display_comments)==null?void 0:e.edges)!=null?a:[];e=c.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean);d&&d({commentIDs:e||[],direction:b,error:null})};d.$4=function(a){a=a.client_id||a.id;a!=null||g(0,398);return a};d.$5=function(a,b){this.setState({isRefetchingConnection:!1},function(){b&&b(a)})};d.render=function(){var a,c,d,e,f=this.props,g=f.children,h=f.depth,i=f.feedback,j=f.hasNext,l=f.hasPrevious,m=f.isLoadingNext;f=f.isLoadingPrevious;var n=this.state,o=n.commentIDs,p=n.commentIDsUpdatedToServerIDs,r=n.commentsByID,s=n.hiddenCommentIDs,t=n.isRefetchingConnection,u=n.newlyCreatedCommentIDs,v=n.newlyHiddenCommentIDs,w=n.newlyUnhiddenCommentIDs,x=n.removedCommentIDs;n=n.selectedViewOption;a=Math.ceil(((a=(a=i.display_comments)==null?void 0:a.page_size)!=null?a:q)*(h>0?b("UFI2Config").legacyReplyFetchShortfallSimulationFactor:b("UFI2Config").legacyTopLevelFetchShortfallSimulationFactor));c=(c=(c=i.display_comments)==null?void 0:c.ufi2_connection_generation)!=null?c:0;d={afterCount:(d=(d=i.display_comments)==null?void 0:d.after_count)!=null?d:0,beforeCount:(d=(d=i.display_comments)==null?void 0:d.before_count)!=null?d:0,hasNext:j,hasPrevious:l,pageSize:a};a=(l=(j=i.display_comments)==null?void 0:j.is_initially_expanded)!=null?l:!1;j=(l=(j=i.display_comments)==null?void 0:j.highlighted_comments)!=null?l:[];l=(l=(l=i.display_comments)==null?void 0:l.count)!=null?l:0;e=((e=i.display_comments)==null?void 0:e.comment_order)||n;n=(n=(n=i.display_comments)==null?void 0:n.reply_comment_order)!=null?n:null;return k.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$8,children:g({commentIDs:o,commentIDsUpdatedToServerIDs:p,commentsByID:r,connectionGeneration:c,connectionPageInfo:d,fetchComments:this.$1,getComment:this.$3,getCommentRenderingKey:this.$4,hiddenCommentIDs:s,highlightedComments:j,isFetchingNextComments:m,isFetchingPreviousComments:f,isInitiallyExpanded:a,isRefetchingConnection:t,newlyCreatedCommentIDs:u,newlyHiddenCommentIDs:v,newlyUnhiddenCommentIDs:w,refetchConnection:this.$6,removedCommentIDs:x,replyViewOption:n,setViewOption:this.$7,shouldRenderComposerPreemptively:(o=(g=i.display_comments)==null?void 0:g.should_render_composer_preemptively)!=null?o:h===0,totalCount:l,viewOption:e})})};return a}(k.Component);r.displayName="UFI2CommentsProviderInternal";r.getDerivedStateFromProps=d;r.contextType=b("UFI2SurfaceContainerContext");function a(a){var c=a.feedback.display_comments;if(!c){var d;return(d=a.fallback)!=null?d:null}return k.jsx(b("RelayUFI2CommentsKeyContext").Consumer,{children:function(d){return k.jsx(b("UFI2RelayConnectionRenderer.react"),{commentsKey:d,connection:c,paginationQuery:s,children:function(b){return k.jsx(r,babelHelpers["extends"]({commentsKey:d},a,b))}})}})}a.displayName="UFI2CommentsProvider";a.defaultProps={depth:0};var s=h!==void 0?h:h=b("UFI2CommentsProviderPaginationQuery.graphql"),t=i!==void 0?i:i=b("UFI2CommentsProviderReadCommentsPageQuery.graphql");e.exports=c(a,{feedback:j!==void 0?j:j=b("UFI2CommentsProvider_feedback.graphql")},s)}),null);
__d("UFI2CommentsList.react",["invariant","CometUFICommentListStateConfig","FBLogger","React","ReactDOM","UFI2CometRelayCreateFragmentContainer","SearchableEntry","SubscriptionsHandler","UFI2CommentsListGetDerivedStateFromProps","UFI2CommentsListState","UFI2CommentsProvider.react","UFI2SurfaceContainerContext","debounce","requireCond","cr:1428010","UFI2CommentsList_feedback.graphql"],(function(a,b,c,d,e,f,g){var h,i=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var j=b("UFI2CommentsListGetDerivedStateFromProps").getCanViewerComment;d=b("UFI2CommentsListGetDerivedStateFromProps").getDerivedStateFromProps;var k=b("UFI2CommentsListGetDerivedStateFromProps").getInitialState,l=b("UFI2CommentsListState").Selectors,m=b("UFI2CommentsListState").StateUpdaters;f=b("React");var n=f.useContext,o=function(c){"use strict";babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.$1=null;d.$2=null;d.$3=new Map();d.$4=[];d.$6={};d.$8=!1;d.$9=!1;d.$10=!1;d.$11=!1;d.$12=new(b("SubscriptionsHandler"))();d.state={listState:k(d.props),mirroredProps:d.props};d.$14=null;d.$17=function(a){d.$4.indexOf(a)<0&&d.$4.push(a)};d.$18=function(a){d.$4=d.$4.map(function(b){return b===a?null:b}).filter(Boolean)};d.$19=function(){var a=d.props,b=a.depth,c=a.totalCount;d.$20(function(a){return m.collapseList({args:{depth:b,totalCount:c},state:a})})};d.$21=function(a){var c=a.focusComposer,e=a.scrollToNode;a=a.scrollToComposer;var f=d.props,g=f.depth,h=f.fetchComments,i=f.connectionPageInfo.pageSize,j=f.refetchConnection,k=f.totalCount;c&&(d.$8=!0);a===!0&&(d.$9=!0);e!=null&&(d.$14=e);d.$15();var n=!1;d.$20(function(a){var c=g===0&&l.isListLoading({depth:g,state:a})||g!==0&&l.isRepliesExpanderLoading({depth:g,state:a});if(c)return null;c=g===0?m.expandList({args:{depth:g,totalCount:k},state:a}):m.expandList({args:{depth:g,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,totalCount:k},state:a});if(g===0){a=l.isListLoading({depth:g,state:c});n=a;return c}a=l.isRepliesExpanderLoading({depth:g,state:c});n=a;return c},function(a){if(!n)return;if(g===0){j({});return}a=l.getCountForFetch({depth:g,direction:"forward",pageSize:i,state:a});if(a==null)return;h({count:a,direction:"forward",onCommentsFetched:d.$22})})};d.$23=function(a){var b=d.props.depth;d.$20(function(c){return m.expandHiddenComments({args:{commentIDs:a,depth:b},state:c})})};d.$24=function(){var a=d.props,b=a.feedLocation,c=a.feedback,e=a.feedbackSource,f=a.focusCommentID;a=a.useDefaultActor;c.id!=null||g(0,3323);return{feedLocation:b,feedback:c,feedbackSource:e,feedbackTargetID:c.id,focusCommentID:f,useDefaultActor:a}};d.$25=function(a){var b=d.props,c=b.depth,e=b.feedback,f=b.feedbackSource,g=b.getCommentRenderingKey,h=b.relay,i=b.topLevelFeedback,k=b.totalCount;b=b.useDefaultActor;var m=d.state.listState;h=h.environment;g=g(a);var n=i==null?void 0:i.id;h={Selectors:l,comment:a,depth:c,environment:h,feedback:e,feedbackSource:f,key:g,listState:m,onDeeplinkToComment:function(b){d.$26(a,b,!1)},onReplyToComment:j({depth:c,feedback:e,topLevelFeedback:i})?function(){d.$4.forEach(function(b){return b(a)});if(c!==0){var b;d.$2=null;var f=a.author;if(f&&f.id!==((b=e.viewer_actor)==null?void 0:b.id)){b=f.__typename;var g=f.id;f=f.name;if(b&&g&&f){var h=d.$1;g={authorId:g,authorIsWeakReference:Boolean(a.is_author_weak_reference),authorName:f,authorType:b};h?d.$27(g,h):d.$2=g}}}d.$28(a);d.$26(a,void 0,!0)}:null,totalCount:k,useDefaultActor:b};return!n?h:babelHelpers["extends"]({},h,{topLevelFeedbackID:n})};d.$29=function(){var a=d.props,b=a.commentParent,c=a.depth,e=a.feedLocation,f=a.feedback,g=a.feedbackSource,h=a.focusCommentID,i=a.topLevelFeedback;a=a.useDefaultActor;i=i==null?void 0:i.id;b={commentParent:b,componentRef:c===0?d.$30:d.$31,feedLocation:e,feedback:f,feedbackSource:g,focusCommentID:h,useDefaultActor:a};return!i?b:babelHelpers["extends"]({},b,{topLevelFeedbackID:i})};d.$33=function(){return d.$32("forward")};d.$34=function(){return d.$32("backward")};d.$35=function(){var a=d.props,b=a.depth,c=a.relay;a=a.totalCount;var e=d.state.listState;c=c.environment;return{Selectors:l,depth:b,environment:c,expandHiddenComments:d.$23,listState:e,totalCount:a}};d.$36=function(a){var b=d.props,c=b.depth,e=b.displayCommentsContext,f=b.feedLocation,h=b.feedback,i=b.feedbackSource,j=b.focusCommentID,k=b.getComment,l=b.useDefaultActor;b=b.viewOption;k=k(a);var m=k&&k.feedback,n=function(b){d.$6[a]=b,d.$37()};m!=null||g(0,3325);return{commentParent:k,depth:c+1,displayCommentsContext:e,feedLocation:f,feedback:m,feedbackSource:i,focusCommentID:j,listRef:n,topLevelFeedback:h,topLevelViewOption:b,useDefaultActor:l}};d.$42=function(){return d.$38("forward")};d.$43=function(){return d.$38("backward")};d.$44=function(){var a=d.props,b=a.connectionPageInfo.pageSize,c=a.depth,e=a.relay;a=a.totalCount;var f=d.state.listState;e=e.environment;return{Selectors:l,depth:c,environment:e,listState:f,pageSize:b,totalCount:a}};d.$45=function(){var a=d.props,b=a.depth,c=a.relay;a=a.totalCount;var e=d.state.listState;c=c.environment;b!==0||g(0,3326);return{Selectors:l,collapseList:d.$19,depth:b,environment:c,listState:e,totalCount:a}};d.$46=function(){var a=d.props,b=a.depth,c=a.highlightedComments,e=a.relay,f=a.totalCount;a=a.viewOption;var h=d.state.listState;e=e.environment;b!==0||g(0,3327);return{Selectors:l,depth:b,environment:e,expandList:d.$21,highlightedComments:c,listState:h,onMouseEnter:function(){return d.$41("forward")},totalCount:f,viewOption:a}};d.$22=function(a){var c=a.commentIDs,e=a.direction;a=a.error;if(a)return;a=d.props;var f=a.connectionPageInfo,h=a.depth,i=a.feedback,j=a.hiddenCommentIDs,k=a.totalCount,l=f.afterCount,n=f.beforeCount,o=f.hasNext,p=f.hasPrevious,q=f.pageSize,r=i.id;r!=null||g(0,3323);var s=!1;d.$20(function(a){s=!0;if(h===0)if(e==="backward")return m.receiveCommentsPage({args:{beforeCount:n,commentIDs:c,depth:h,direction:e,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:j,pageSize:q,totalCount:k},state:a});else return m.receiveCommentsPage({args:{afterCount:l,commentIDs:c,depth:h,direction:e,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:j,pageSize:q,totalCount:k},state:a});else if(e==="backward")return m.receiveCommentsPage({args:{beforeCount:n,commentIDs:c,depth:h,direction:e,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:j,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:q,totalCount:k},state:a});else return m.receiveCommentsPage({args:{afterCount:l,commentIDs:c,depth:h,direction:e,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:j,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:q,totalCount:k},state:a})},function(a){s&&d.$47(e)})};d.$48=function(){d.$5()};d.$49=function(){d.$5.reset()};d.$30=function(a){d.$1=a,d.$15()};d.$31=function(a){d.$30(a);if(a&&d.$2){var b=d.$2;d.$2=null;d.$27(b,a)}a&&d.$11&&(d.$50(d.$7),d.$7=void 0,d.$11=!1);a&&d.$10&&(d.$51(),d.$10=!1)};d.$52=function(a){a=d.$6[a.id];return a!=null?l.isComposerVisible({depth:a.props.depth,state:a.state.listState}):!1};d.$53=function(a){a=d.$6[a.id];return a!=null?a.props.totalCount:0};d.$54=[];d.$55=new Map();d.$39=function(a){a=a?a.onCommentsRendered:void 0;d.$56("forward",a)};d.$40=function(a){a=a?a.onCommentsRendered:void 0;d.$56("backward",a)};d.$57=function(a){var b=a.onComplete,c=a.viewOption;a=d.props;var e=a.depth,f=a.setViewOption;if(e!==0){b&&b(null);return}var g=!1;d.$20(function(a){if(l.isListLoading({depth:e,state:a}))return null;g=!0;return m.requestRefetchList({args:{depth:e},state:a})},function(a){g?f({onComplete:b,viewOption:c}):b&&b(null)})};d.$58=function(a){a=a.focusComposer;var b=d.props.depth,c=d.state.listState;!l.isListExpanded({depth:b,state:c})?d.$21({focusComposer:a,scrollToComposer:!1}):d.$19()};d.Actions={collapseList:d.$19,expandList:d.$21,loadNewerComments:d.$40,loadOlderComments:d.$39,setViewOption:d.$57,toggleList:d.$58};d.$5=b("debounce")(function(){return d.$13("forward")},1e3,babelHelpers.assertThisInitialized(d),!0);d.$12.addSubscriptions(d.$5);return d}var d=a.prototype;d.componentWillUnmount=function(){this.$12.release(),this.$4=[]};d.$15=function(){var a=this.props,c=a.depth;a=a.totalCount;var d=this.state.listState,e=l.hasVisibleComments({depth:c,state:d});e=e||a===0;a=c===0&&e&&!l.isListLoading({depth:c,state:d});d=c!==0&&e;var f=this.$1;if(this.$8===!0&&f!=null&&(a||d)){this.$8=!1;c=b("ReactDOM").findDOMNode(f);e=this.$14;if(e!=null){this.$14=null;b("cr:1428010")(e,{behavior:"smooth",onScrollComplete:function(){f.focus()},verticalAlign:"center"});return}a=this.$9;this.$9=!1;if(a===!1){f.focus();return}if(c==null)return;if(c instanceof Text){b("FBLogger")("ufi2").mustfix("The composer is a Text node! I don't know what happened but this is UNACCEPTABLE, we found this out because we were trying to scroll to this component. You can look into and possibly fix this issue by asserting the composerRef on UFI2CommentList is being set correctly");f.focus();return}b("cr:1428010")(c,{behavior:"smooth",onScrollComplete:function(){return f.focus()},verticalAlign:"center"})}};d.$16=function(a,b){var c=this.$3.get(a)||[];c.push(b);this.$3.set(a,c)};d.$13=function(a){var b=this.props,c=b.depth,d=b.fetchComments,e=b.connectionPageInfo.pageSize;b=b.totalCount;var f=this.state.listState;if(!l.canFetchInDirection({depth:c,direction:a,state:f,totalCount:b}))return;b=l.getCountForFetch({depth:c,direction:a,pageSize:e,state:f});if(b==null)return;d({count:b,direction:a,onCommentsFetched:this.$22})};d.$32=function(a){var b=this.props,c=b.depth,d=b.feedback,e=b.relay,f=b.totalCount;b=b.viewOption;e=e.environment;var g=this.state.listState;return{Selectors:l,depth:c,direction:a,environment:e,listState:g,totalCount:f,unfilteredTotalCount:(a=(c=d.toplevel_comment_count)==null?void 0:c.count)!=null?a:f,viewOption:b}};d.$38=function(a){var b=this,c=this.props,d=c.connectionPageInfo.pageSize,e=c.depth,f=c.feedback,g=c.totalCount;c=c.viewOption;var h=this.state.listState,i=a==="forward"?this.$39:this.$40;return{Selectors:l,depth:e,direction:a,listState:h,loadMoreComments:i,onMouseEnter:function(){return b.$41(a)},pageSize:d,summaryTotalNumComments:(h=(e=f.comment_count)==null?void 0:e.total_count)!=null?h:0,totalCount:g,viewOption:c}};d.$41=function(a){this.$13(a)};d.$50=function(a){var b=this.$1;b!=null?b.execCommand({__type:"SetReplyAssociationLegacy",commentBeingRepliedTo:a}):(this.$7=a,this.$11=!0)};d.$51=function(){var a=this.$1;a!=null?a.execCommand({__type:"SetReplyClicked"}):this.$10=!0};d.$28=function(a){var b=this.props.depth;if(b===0){b=a.id;b=this.$6[b];b!=null&&(b.$50(void 0),b.$51());return}this.$50(a);this.$51()};d.$26=function(a,b,c){c===void 0&&(c=!1);var d=this.props,e=d.depth,f=d.feedback;d=d.topLevelFeedback;f=j({depth:e,feedback:f,topLevelFeedback:d});if(!f)return;d=!0;a!=null&&b!=null&&(this.$55.has(a.id)&&(d=!1),this.$55.set(a.id,!0));if(e===0){if(!a)return;e=((f=a.can_comment)==null?void 0:f.can_viewer_comment)===!0;if(e){f=a.id;b!=null&&(this.$54=this.$54.map(function(a){a=a.commentID;return{commentID:a,scrollToComposer:!1,scrollToNode:null}}));this.$54.push({commentID:f,scrollToComposer:c,scrollToNode:d?b:null});this.$37()}else{e=this.$1;e&&e.focus()}}else this.$21({focusComposer:!0,scrollToComposer:c,scrollToNode:d?b:null})};d.$37=function(){var a=this;this.$54=this.$54.filter(function(b){var c=b.commentID,d=b.scrollToNode;b=b.scrollToComposer;c=a.$6[c];if(c!=null){c.$21({focusComposer:!0,scrollToComposer:b,scrollToNode:d});return!1}return!0})};d.$56=function(a,c){var d=this,e=this.props,f=e.connectionPageInfo.pageSize,g=e.depth,h=e.fetchComments,i=!1;this.$20(function(c){var d=l.isPagerLoading({depth:g,direction:a,state:c})||g===0&&l.isListLoading({depth:g,state:c})||g!==0&&l.isRepliesExpanderLoading({depth:g,state:c});if(d)return null;d=g===0?m.requestCommentsPage({args:{depth:0,direction:a,pageSize:f},state:c}):m.requestCommentsPage({args:{depth:g,direction:a,minCountToShowCollapser:b("CometUFICommentListStateConfig").MIN_REPLIES_TO_SHOW_COLLAPSER,pageSize:f},state:c});i=l.isPagerLoading({depth:g,direction:a,state:d});return d},function(b){if(!i){c&&c();return}b=l.getCountForFetch({depth:g,direction:a,pageSize:f,state:b});if(b==null)return;c!=null&&d.$16(a,c);h({count:b,direction:a,onCommentsFetched:d.$22})})};d.$27=function(a,c){var d=a.authorId,e=a.authorIsWeakReference,f=a.authorName;a=a.authorType;c.execCommand({__type:"PrefillMention",mentionableEntity:new(b("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,indexRank:void 0,renderType:e?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:f,type:a==="User"?"user":"non_user",uniqueID:d})})};d.$47=function(a){var b=this.$3.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$3["delete"](a)};d.$20=function(a,b){var c=this;this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(c.state.listState)})};d.render=function(){var a=this.props,b=a.children,c=a.commentParent,d=a.depth,e=a.getComment,f=a.isInitiallyExpanded,g=a.relay,h=a.replyViewOption,i=a.totalCount;a=a.viewOption;var j=this.state.listState;g=g.environment;g={Actions:this.Actions,Selectors:l,addReplyToCommentCallback:this.$17,clearReplyToCommentCallback:this.$18,environment:g,getComment:e,getCommentEditorProps:this.$24,getCommentProps:this.$25,getComposerProps:this.$29,getFilterWarningPropsForNewerComments:this.$34,getFilterWarningPropsForOlderComments:this.$33,getHiddenCommentsPlaceholderProps:this.$35,getNestedCommentsListProps:this.$36,getPagerPropsForNewerComments:this.$43,getPagerPropsForOlderComments:this.$42,getPaginationProgressProps:this.$44,getTotalRepliesCountForComment:this.$53,isInitiallyExpanded:f,isReplyComposerVisibleForComment:this.$52,listState:j,onCommentsListMouseEnter:this.$48,onCommentsListMouseLeave:this.$49,replyViewOption:h,totalCount:i,viewOption:a};e=d===0?babelHelpers["extends"]({},g,{depth:0}):babelHelpers["extends"]({},g,{commentParent:c,depth:d,getRepliesCollapserProps:this.$45,getRepliesExpanderProps:this.$46});return b(e)};return a}(i.Component);o.displayName="UFI2CommentsListInternal";o.getDerivedStateFromProps=d;function a(a){var c=a.children,d=a.commentParent,e=a.depth,f=a.displayCommentsContext,h=a.fallback,j=a.feedLocation,k=a.feedback,l=a.feedbackSource,m=a.focusCommentID,p=a.listRef,q=a.relay,r=a.topLevelFeedback,s=a.topLevelViewOption,t=a.useDefaultActor;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commentParent","depth","displayCommentsContext","fallback","feedLocation","feedback","feedbackSource","focusCommentID","listRef","relay","topLevelFeedback","topLevelViewOption","useDefaultActor"]);var u=n(b("UFI2SurfaceContainerContext"));u=u.isComet;e!==0&&(r!=null||g(0,3328));return i.jsx(b("UFI2CommentsProvider.react"),babelHelpers["extends"]({depth:e,displayCommentsContext:f,fallback:h,feedLocation:j,feedback:k,feedbackSource:l,focusCommentID:m,isComet:u,topLevelFeedback:r,topLevelViewOption:s,useDefaultActor:t},a,{children:function(a){return i.createElement(o,babelHelpers["extends"]({},a,{children:c,commentParent:d,depth:e,displayCommentsContext:f,feedLocation:j,feedback:k,feedbackSource:l,focusCommentID:m,key:[l,m,(a=k.id)!=null?a:""].join("_"),ref:p,relay:q,topLevelFeedback:r,useDefaultActor:t}))}}))}a.displayName="UFI2CommentsList";a.defaultProps={depth:0};f=c(a,{feedback:h!==void 0?h:h=b("UFI2CommentsList_feedback.graphql")});e.exports=f}),null);
__d("getUFI2CommentsPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.labelType;a=a.numCommentsToShow;switch(c){case"view_one":return g._("View 1 comment");case"view_more":return g._("View more comments");case"view_one_more":return g._("View 1 more comment");case"view_more_explicit":return g._({"*":{"*":"View {count} more comments","_1":"View {count} more comment"}},[g._param("count",b("NumberFormat").formatInteger(a),[0,a]),g._plural(a)]);case"view_previous":return g._("View previous comments");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous comments","_1":"View {count} previous comment"}},[g._param("count",b("NumberFormat").formatInteger(a),[0,a]),g._plural(a)]);default:c;return g._("View comments")}}e.exports=a}),null);
__d("getUFI2RepliesPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 reply");case"view_more":return g._("View more replies");case"view_one_more":return g._("View 1 more reply");case"view_more_explicit":return g._({"*":{"*":"View {count} more replies","_1":"View {count} more reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous replies");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous replies","_1":"View {count} previous reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_comments_indeterminate":return g._("View replies");case"view_all":default:return g._({"*":"View all {count} replies"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2PagerLabel",["UFI2ViewOption","getUFI2CommentsPagerLabel","getUFI2RepliesPagerLabel","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,g=a.pagerCount,h=a.pageSize,i=a.summaryTotalNumComments,j=a.totalCount;a=a.viewOption;var k=c.getVisibleCommentsCount({depth:d,state:f});c=c.hasLastPageLeftInDirection({depth:d,direction:e,pageSize:h,state:f,totalCount:j});f=b("UFI2ViewOption").isChronologicalOrder(a);j=f&&e==="backward"||!f&&e==="forward";if(k===0){if(g===1&&i===1)return"view_one";if(d>0)return"view_all";else return"view_comments_indeterminate"}else if(c&&g<=h)if(g===1)return"view_one_more";else return"view_more_explicit";if(j)return"view_more";else return"view_previous"}function a(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.getCommentsPagerLabel;f=f===void 0?b("getUFI2CommentsPagerLabel"):f;var h=a.listState,i=a.totalCount,j=c.isPagerVisible({depth:d,direction:e,state:h});if(!j)return null;j=c.getPagerCount({depth:d,direction:e,state:h});if(j==null){b("recoverableViolation")("UFI2CommentsPager: Expected to have a pager count if pager was rendered","ufi2");return null}c=g(babelHelpers["extends"]({},a,{pagerCount:j}));e=d>0;return e?b("getUFI2RepliesPagerLabel")({labelType:c,numCommentsToShow:j,numCommentsTotal:i}):f({labelType:c,numCommentsToShow:j})}e.exports=a}),null);
__d("UFI2CommentsPager.react",["React","TrackingNodes","UFI2CommentsPagerRenderer.react","UFICommonInteractionEvents","UFICommonInteractionLogger","getUFI2PagerLabel"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={pagerLabel:b("getUFI2PagerLabel")(d.props)},d.$1=function(){var a=d.props,c=a.depth;a=a.loadMoreComments;var e=b("UFICommonInteractionLogger").startInteraction(c===0?b("UFICommonInteractionEvents").UFI2_TOP_LEVEL_COMMENTS_PAGINATION:b("UFICommonInteractionEvents").UFI2_REPLY_COMMENTS_PAGINATION);a({onCommentsRendered:function(){return b("UFICommonInteractionLogger").endInteraction(e)}})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState;c=c.isPagerLoading({depth:d,direction:e,state:f});return!c?{pagerLabel:b("getUFI2PagerLabel")(a)}:null};var d=c.prototype;d.render=function(){var a=this.props,c=a.Selectors,d=a.className,e=a.depth,f=a.direction,h=a.linkClassName,i=a.listState,j=a.nestedPagerIconClassName;a=a.onMouseEnter;var k=this.state.pagerLabel;if(k==null)return null;c=c.isPagerLoading({depth:e,direction:f,state:i});f=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);return g.jsx(b("UFI2CommentsPagerRenderer.react"),{className:d,depth:e,isLoading:c,linkClassName:h,nestedPagerIconClassName:j,onClick:this.$1,onMouseEnter:a,trackingInfo:f,children:function(a){return g.jsx("span",{className:a,children:k})}})};return c}(g.Component);e.exports=a}),null);
__d("getScrollableAreaContainingNode",["DataStore","Parent"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("Parent").byClass(a,"uiScrollableArea");return a?b("DataStore").get(a,"ScrollableArea"):null}e.exports=a}),null);
__d("UFI2Composer.react",["cx","fbt","invariant","requireCond","Bootloader","cr:955308","FBLogger","Random","React","ReactDOM","Run","SubscriptionsHandler","TrackingNodes","UFI2CometRelayCreateFragmentContainer","UFI2CommentRow.react","UFI2ComposerActions.react","UFI2Config","UFI2ErrorBoundary.react","UFI2ProgressiveComposerInput.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFINavigationCheck","UFIODSLogger","Vector","WebFunnelLogger","collectDataAttributes","createUFI2ComposerPluginPipeline","emptyFunction","getActiveElement","getCommentDataFromComposerState","getPlainTextFromUFI2InputState","getScrollableAreaContainingNode","gkx","ifRequired","isUFI2ComposerStateEmpty","joinClasses","makeUFI2ClientID","memoize","nullthrows","requestAnimationFrameAcrossTransitions","setFocusOnUFI2ComposerInputState","cr:1439761","UFI2Composer_actor.graphql","UFI2Composer_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var m=b("UFI2Config").composerInputSamplingRateDenominator,n=(d=b("cr:1439761"))!=null?d:window.scrollTo;function o(a){a===void 0&&(a=b("emptyFunction"));return b("Bootloader").loadModules(["clearUFIComposerInputState"],a,"UFI2Composer.react")}var p=[],q=b("memoize")(function(){var a=m||100;return b("Random").coinflip(a)&&b("gkx")("678290")});f=function(c){babelHelpers.inheritsLoose(d,c);function d(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=[],d.$2=[],d.$3=l.createRef(),d.$5=!1,d.$6=null,d.$7=!1,d.$8=null,d.state={UFI2ComposerPluginPipeline:b("createUFI2ComposerPluginPipeline")(d.props.initialPlugins||p),composerState:d.props.initialComposerState||{attachment:null,commentAssociatedWithReply:null,feedbackID:b("nullthrows")(d.props.feedback.id,"A `UFI2Composer` was mounted without a feedback target ID. This is a fatal error, since there's nothing useful a composer can do without one. Please check why the GraphQL query for this feedback object failed to materialize an ID."),formattingStyle:void 0,inputDecorators:[],inputState:b("UFI2ProgressiveComposerInput.react").createEmptyComposerState(),isLocked:!1}},d.$9=null,d.$10=new(b("SubscriptionsHandler"))(),d.$11=function(a,c){var e=d.$3.current;e=b("ReactDOM").findDOMNode(e);return e?b("collectDataAttributes")(e,a,c):null},d.$13=function(){var a=d.props,c=a.actor,e=a.onCommit,f=a.relay,g=a.topLevelFeedbackID,h=a.useDefaultActor,j=b("makeUFI2ClientID")(b("UFICommonInteractionLogger").makeTrackingID()),k=c.id;k!=null||i(0,4686);var l=d.state.composerState.usedWritingHelpToCompose,m=function(a,b){b===void 0&&(b={}),e({actorID:k,clientID:j,commentData:a,entitiesByID:b,environment:f.environment,feedLocation:d.props.feedLocation,feedbackSource:d.props.feedbackSource,focusCommentID:d.props.focusCommentID,getTrackingDataFn:d.$11,topLevelFeedbackID:g,useDefaultActor:h,usedWritingHelpToCompose:l})};a=d.state.composerState.inputState;if(a.__type==="plain-text"){if(a.text.trim()===""&&d.state.composerState.attachment==null)return;d.$14();d.$12(j);c=d.state.composerState;var n=c.attachment,p=c.commentAssociatedWithReply;c=c.replyTargetClicked;m({attachments:n&&(n.__type==="ExistingAttachment"?[]:d.$1.map(function(a){return a(n)}).filter(Boolean)),feedback_id:d.state.composerState.feedbackID,formatting_style:d.state.composerState.formattingStyle,message:{text:a.text},reply_comment_parent_fbid:p==null?void 0:p.id,reply_target_clicked:c});d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{attachment:null,formattingStyle:void 0,inputState:{__type:"plain-text",selectionOffsets:{end:0,start:0},text:""},replyTargetClicked:!1,usedWritingHelpToCompose:!1})}})}else{d.$12(j);a=function(){o(function(a){if(d.$7===!1)return;var c=b("getCommentDataFromComposerState")({attachmentMappers:d.$1,composerState:d.state.composerState,contentBlockToTextWithEntitiesInputMessageMappers:d.$2});if(c==null){d.setState(function(a){if(a.composerState.isLocked)return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!1})};else return a});d.props.commentAction==="EDIT"&&m(null,{});return}d.$14();m(c.commentData,c.entitiesByID);if(d.$7===!1)return;d.setState(function(b){return{composerState:babelHelpers["extends"]({},a(b.composerState),{attachment:null,formattingStyle:void 0,isLocked:!1,replyTargetClicked:!1,usedWritingHelpToCompose:!1})}})})};d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!0})}},a)}},d.$15=function(){d.$4&&!d.$5&&(new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(d.$4).setAction("first_input").log(),d.$5=!0);q()&&(d.$8=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI2_COMPOSER_KEYPRESS_LATENCY));return"not-handled"},d.$16=function(a){d.setState(function(b){b=b.composerState;if(b.isLocked)return{};var c=a(b);c&&c.inputState&&c.inputState.__type==="editor-state-based"&&c.inputState.editorState.getCurrentContent().getBlockMap().some(function(a){return a.getText()!=null})&&o();if(c){b=babelHelpers["extends"]({},b,c);return{composerState:b}}else return null})},d.$17=function(a){d.$6=a,d.props.onInputRefUpdated&&d.props.onInputRefUpdated(a)},d.$18=function(){if(!d.$4){var a=d.props.actor.id;a&&(d.$4=a+"_"+Date.now(),new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(d.$4).setAction("focus").setFunnelTags(["depth_"+d.props.depth]).markStart().log())}},d.$19=function(a){var c=d.state.composerState.inputState;switch(c.__type){case"editor-state-based":a.preventDefault();d.setState(function(a){var c=a.composerState.inputState;if(c.__type!=="editor-state-based"){b("FBLogger")("ufi2").warn("While handling a focus trigger click on an editor-state-based input the `inputState` type unexpectedly changed to `%s`.",c.__type);return null}var d=c.editorState,e=d.getSelection();if(e.getHasFocus()===!1){var f=e.set("hasFocus",!0);return b("ifRequired")("EditorState",function(b){return{composerState:babelHelpers["extends"]({},a.composerState,{inputState:babelHelpers["extends"]({},c,{editorState:b.forceSelection(d,f)})})}},function(){return null})}else return null});break;case"plain-text":default:a.preventDefault(),b("getActiveElement")()!==d.$6&&d.focus()}},d.$20=function(){var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];(a=d.$1).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;this.$1=this.$1.filter(function(a){return c.includes(a)===!1})}}},d.$21=function(){var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];(a=d.$2).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;this.$2=this.$2.filter(function(a){return c.includes(a)===!1})}}},d.isUnfinished=function(){if(d.props.initialComposerState){if(d.props.initialComposerState!==d.state.composerState)return!0}else if(!b("isUFI2ComposerStateEmpty")(d.state.composerState))return!0;return!1},d.$22=function(a){var c,e=a.actions;a=a.inputProps;var f=d.props,g=f.depth;f=f.feedback;var i=a.composerState,j=a.isCommentDenied,k=b("getPlainTextFromUFI2InputState")(i.inputState).trim()!=="";f=(c=(c=(c=(c=a.placeholder)!=null?c:d.props.placeholder)!=null?c:(c=i.commentAssociatedWithReply)==null?void 0:c.commentComposerPlaceholderText)!=null?c:f.comment_composer_placeholder)!=null?c:g>0?h._("Write a reply\u2026"):h._("Write a comment\u2026");return l.jsxs("form",{className:b("joinClasses")((j?"_882o":"")+(i.isLocked?" _4w75":"")+" _129h"+(k?" _7c_q":""),a.formClassName),children:[l.jsx(b("UFI2ProgressiveComposerInput.react"),{className:b("joinClasses")((k===!1?"_7c_r":"")+" _4w79",a.className),composerState:a.composerState,depth:g,handleBeforeInput:d.$15,handleCommand:a.handleCommand,handleKeyCommand:a.handleKeyCommand,handlePastedFiles:a.handlePastedFiles,keyBindingFn:a.keyBindingFn,onBlur:a.onBlur,onClick:a.onClick,onCommit:a.onCommit,onComposerStateChange:a.onComposerStateChange,onFocus:a.onFocus,onInputRefUpdated:a.onInputRefUpdated,placeholder:f,ref:d.$3,webDriverTestID:a.webDriverTestID}),e?l.jsx(b("UFI2ComposerActions.react"),{children:e}):null]})},a)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.$12=function(a){var c=this.props.commentAction,d=c==="ADD"?b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d);d=c==="ADD"?b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d)};e.componentDidUpdate=function(a,c){a=this.$8;a&&c.composerState!==this.state.composerState&&(this.$8=null,b("UFICommonInteractionLogger").endInteractionAtEndOfFrame(a))};e.$14=function(){this.$4&&(new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(this.$4).setAction("commit").markEnd().log(),delete this.$4,this.$5=!1)};e.componentDidMount=function(){var c=this;this.$7=!0;var d=this.props,e=d.depth;d=d.feedbackSource;d===1&&(e===0?b("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount","relay"):b("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount","relay"));b("gkx")("708253")||this.$10.addSubscriptions(b("Run").onBeforeUnload(function(){return a.PageTransitions&&b("UFINavigationCheck").isLeaving(a.PageTransitions)&&c.isUnfinished()?h._("You haven't finished your comment yet. Do you want to leave without finishing?"):void 0}))};e.componentWillUnmount=function(){this.$7=!1,this.$10.release(),window.cancelAnimationFrame(this.$9)};e.execCommand=function(a){this.$3.current?this.$3.current.execCommand(a):b("FBLogger")("ufi2").warn("Someone tried to run a `%s` command, but a ref to the composer was not yet available.",a.__type)};e.focus=function(){var a=this,c=this.$6;c&&this.$16(function(d){var e=b("getScrollableAreaContainingNode")(c);if(e){var f=e.getScrollTop();a.$9=b("requestAnimationFrameAcrossTransitions")(function(){e.setScrollTop(f,!1)})}else{var g=b("Vector").getScrollPosition();a.$9=b("requestAnimationFrameAcrossTransitions")(function(){n(g.x,g.y)})}d.inputState.__type==="plain-text"&&c.focus();return b("setFocusOnUFI2ComposerInputState")(d)})};e.render=function(){var a=this.props,c=a.actor,d=a.className;a=a.depth;var e=this.state.UFI2ComposerPluginPipeline;return l.jsx(b("UFI2ErrorBoundary.react"),{children:l.jsxs(l.Fragment,{children:[b("cr:955308")!=null?l.jsx(b("cr:955308"),{isUnfinished:this.isUnfinished}):null,l.jsx(b("UFI2CommentRow.react"),{actor:c,className:d,"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ADD_COMMENT_BOX),"data-testid":void 0,depth:a,isComposer:!0,onAvatarClick:this.$19,children:l.jsx(e,{actions:this.props.actions||p,initialComposerState:this.props.initialComposerState,inputProps:{commentAction:this.props.commentAction,composerState:this.state.composerState,depth:a,formClassName:this.props.formClassName,onClick:this.$19,onCommit:this.$13,onComposerStateChange:this.$16,onFocus:this.$18,onInputRefUpdated:this.$17},onInstallAttachmentMappers:this.$20,onInstallContentBlockToTextWithEntitiesInputMessageMappers:this.$21,render:this.$22})})]})})};return d}(l.Component);f.displayName="UFI2Composer";e.exports=c(f,{actor:j!==void 0?j:j=b("UFI2Composer_actor.graphql"),feedback:k!==void 0?k:k=b("UFI2Composer_feedback.graphql")})}),null);
__d("UFI2PaginationProgressIndicator.react",["cx","fbt","NumberFormat","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){var c=a.Selectors,d=a.className,e=a.depth,f=a.listState,g=a.pageSize;a=a.totalCount;var j=c.hasMoreInDirection({depth:e,direction:"forward",state:f,totalCount:a});c=c.getVisibleCommentsCount({depth:e,state:f});return a>=g&&j?i.jsx("span",{className:b("joinClasses")("_3bu3",d),children:h._("{number of comments displayed} of {total number of comments}",[h._param("number of comments displayed",b("NumberFormat").formatInteger(c)),h._param("total number of comments",b("NumberFormat").formatInteger(a))])}):null};e.exports=a}),null);
__d("UFI2PrivateReplyIndicator.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("span",{className:a.className,children:g._("Page responded privately")})}a.shouldRender=function(a){return a==="ALREADY_REPLIED"};e.exports=a}),null);
__d("UFI2ReactionsCount.react",["cx","fbt","invariant","JSResource","NumberFormat","React","ShimButton.react","UFI2CometRelayCreateFragmentContainer","UFI2PrimerDialogWrapper.react","UFI2Tooltip.react","UFIReactionsProfileBrowserUtils","intlList","lazyLoadComponent","qex","UFI2ReactionsCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var l=function(a){return k.jsx("span",babelHelpers["extends"]({},a))},m=b("lazyLoadComponent")(b("JSResource")("UFI2ReactionsCountTooltipContent.react").__setRef("UFI2ReactionsCount.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){};d.render=function(){var a=this.props,c=a.feedback;a=a.relay;var d=c.i18n_reaction_count,e=c.id,f=c.important_reactors,g=c.reaction_count,h=c.viewer_actor,j=c.viewer_feedback_reaction_info;c=(c=(c=c.viewer_actor)==null?void 0:c.id)!=null?c:"0";g=g==null?void 0:g.count;e!=null||i(0,3978);g!=null||i(0,3979);d!=null||i(0,3980);if(g===0)return null;h=h==null?void 0:h.name;f=(f=f==null?void 0:f.nodes)!=null?f:[];j=j!=null;var o=j?f.length+1:f.length;o=o<g;var p=o?b("UFI2Tooltip.react"):l;o=o?{environment:a.environment,tooltipContentComponent:m,tooltipContentProps:{queryVariables:{feedbackTargetID:e},reactionCount:g}}:{};a=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:c,feedbackTargetID:e});c=((c=b("qex")._("1113951"))!=null?c:!1)&&((e=b("qex")._("1115760"))!=null?e:!1);return k.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("ShimButton.react"),props:babelHelpers["extends"]({},a,{children:k.jsxs(k.Fragment,{children:[!c&&k.jsx("span",{"aria-hidden":!0,className:"_3dlg",children:k.jsx(p,babelHelpers["extends"]({className:"_3dlh"},o,{children:k.jsx("span",{className:"_81hb",children:d})}))},"count-sentence"),k.jsx("span",{className:"_3dlh _3dli","data-testid":void 0,children:k.jsx(p,babelHelpers["extends"]({},o,{children:k.jsx("span",{className:"_81hb",children:k.jsx(n,{actorName:h,i18nReactionCount:d,importantReactors:f,isPrivateFeedback:c,reactionCount:g,viewerReacted:j})})}))},"social-sentence")]}),className:"_3dlf"+(c?" _8io7":""),"data-testid":"UFI2ReactionsCount/root",form:this.props.disableReactorDialog===!0?"none":"link",onClick:this.$1})})};return c}(k.Component);c.displayName="UFI2ReactionsCount";function n(a){var c=a.actorName,d=a.i18nReactionCount,e=a.importantReactors,f=a.isPrivateFeedback;f=f===void 0?!1:f;var g=a.reactionCount;a=a.viewerReacted;if(a&&g===1)return c;if(!a&&e.length===0&&!f)return o(d,g);c=[a?h._("You"):null].concat(e.map(function(a){return a==null?void 0:a.name})).filter(Boolean);a=g-c.length;if(f){e=3;f=c.slice(0,e);e=g>f.length;return b("intlList")([].concat(f,[e&&f.length>0&&h._("others")]).filter(Boolean))}a>0&&c.push(h._({"*":"{number} others","_1":"1 other"},[h._plural(a,"number",o(d,a))]));return b("intlList")(c)}function o(a,c){var d=Math.floor(Math.log10(c));return d<3?b("NumberFormat").formatInteger(c):a}e.exports=a(c,{feedback:j!==void 0?j:j=b("UFI2ReactionsCount_feedback.graphql")})}),null);
__d("UFI2SubscriptionManager",["cancelIdleCallback","requestIdleCallbackAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set(),this.$2=new Set(),this.$3=!1}var c=a.prototype;c.add=function(a){var b=this;this.$1.add(a);this.$3&&a.subscribe();return{dispose:function(){a.unsubscribe(),b.$1&&b.$1["delete"](a)}}};c.subscribeAll=function(){if(!this.$3){this.$3=!0;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.subscribe()}}};c.subscribeAllOnIdle=function(){var a=this;if(!this.$3){this.$3=!0;var c=function(){if(e){if(f>=d.length)return"break";g=d[f++]}else{f=d.next();if(f.done)return"break";g=f.value}var c=g,h=null;h=b("requestIdleCallbackAcrossTransitions")(function(){h!=null&&(a.$2["delete"](h),h=null),a.$3&&c.subscribe()});a.$2.add(h)};for(var d=this.$1,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g,h=c();if(h==="break")break}}};c.unsubscribeAll=function(){if(this.$3){this.$3=!1;for(var a=this.$2,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b("cancelIdleCallback")(e)}for(var e=this.$1,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;a=e[c++]}else{c=e.next();if(c.done)break;a=c.value}a=a;a.unsubscribe()}}};c.reset=function(){this.unsubscribeAll(),this.$1=new Set()};return a}();e.exports=a}),null);
__d("UFI2RealtimeRoot.react",["requireCond","cr:898976","React","cr:898975","UFI2RealtimeContext","UFI2SubscriptionManager"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=new(b("UFI2SubscriptionManager"))(),d.$2=null,d.$4=function(a){return d.$1.add(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){this.$2!=null&&(this.$2.remove(),this.$2=null),this.$1.unsubscribeAll()};d.subscribe=function(){this.props.enabled&&this.$1.subscribeAllOnIdle()};d.componentDidMount=function(){var a=this,c=function(){a.$2=null,a.subscribe()};if(b("cr:898976")){var d=b("cr:898976").scheduleSpeculativeCallback(c);this.$2={remove:function(){b("cr:898976").cancelCallback(d)}}}else b("cr:898975")&&(this.$2=b("cr:898975").onAfterLoad(c))};d.componentWillUnmount=function(){this.$3(),this.$1.reset()};d.render=function(){return g.jsx(b("UFI2RealtimeContext").Provider,{value:this.$4,children:this.props.children})};return c}(g.Component);a.defaultProps={enabled:!0};e.exports=a}),null);
__d("UFI2RepliesExpander.react",["cx","fbt","invariant","requireCond","FBLogger","GraphQLGender","Image.react","Middot.react","NumberFormat","React","cr:851885","TrackingNodes","UFI2CometRelayCreateFragmentContainer","UFI2CommentsPagerRenderer.react","joinClasses","useServerTime","UFI2RepliesExpander_highlightedComments.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c=a.Selectors,d=a.className,e=a.depth,f=a.expandList,g=a.listState,h=a.onMouseEnter,j=a.viewOption;e===1||i(0,2662);if(!c.isRepliesExpanderVisible({depth:e,state:g}))return null;var m=c.getRepliesExpanderCount({depth:e,state:g});if(m==null){b("FBLogger")("ufi2").warn("UFI2RepliesExpander: Tried rendering a visible replies expander without a count");return null}c=c.isRepliesExpanderLoading({depth:e,state:g});var n=a.highlightedComments||[];g=n[0];a=g==null?void 0:g.author;g=a!=null;a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);return k.jsx(b("UFI2CommentsPagerRenderer.react"),{className:b("joinClasses")(g?"_77bj":"",d),depth:e,isLoading:c,nestedPagerIconClassName:g?"_3eof":"",onClick:function(){return f({focusComposer:!0})},onMouseEnter:h,trackingInfo:a,children:function(a){return k.jsx(l,{count:m,highlightedComments:n,pagerTextClassName:a,viewOption:j})}})}function l(a){var c=a.count,d=a.highlightedComments,e=a.pagerTextClassName;a=a.viewOption;d=d[0];var f=d==null?void 0:d.author,g=f!=null;d=d==null?void 0:d.created_time;c=h._({"*":{"*":"{count} Replies","_1":"{count} Reply"}},[h._param("count",b("NumberFormat").formatInteger(c),[0,c]),h._plural(c)]);var i=b("useServerTime")();i=f!=null&&d!=null&&(i/1e3-d<43200||a==="RECENT_ACTIVITY");return k.jsxs(k.Fragment,{children:[k.jsxs("span",{className:e,children:[g&&f?k.jsxs(k.Fragment,{children:[k.jsx(m,{actor:f}),"\xa0",k.jsx(b("Middot.react"),{}),"\xa0"]}):null,c]}),d!=null&&i?k.jsx(b("cr:851885"),{timestamp:d}):null]})}function m(a){var c;a=a.actor;if(a==null)return null;var d=a.name;if(!d)return null;c=(c=a.profile_picture)==null?void 0:c.uri;if(!c)return null;a=new(b("GraphQLGender"))(a.gender);return k.jsxs("div",{className:"_3eog",children:[k.jsx("span",{className:"_3eoh",children:k.jsx(b("Image.react"),{alt:d,className:"img _3eoi",src:c})}),k.jsx("span",{className:"_3eol ellipsis",children:h._({"*":"{actor} replied"},[h._name("actor",d,a.toIntlVariationsEnum())])})]})}d=c(a,{highlightedComments:j!==void 0?j:j=b("UFI2RepliesExpander_highlightedComments.graphql")});d.PagerLabel=l;e.exports=d}),null);
__d("UFI2SeenByCount.react",["cx","fbt","invariant","ActorURI","React","UFI2AbstractButtonWrapper.react","UFI2CometRelayCreateFragmentContainer","UFI2PrimerDialogWrapper.react","URI","XUFIGroupSeenByProfileBrowserController","XUFIGroupSeenByProfileDialogController","joinClasses","UFI2SeenByCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){};d.render=function(){var a=this.props,c=a.className;a=a.feedback;var d=a.can_show_seen_by,e=a.seen_by,f=a.share_fbid,g=e==null?void 0:e.count;if(!d||!g)return null;d=e==null?void 0:e.i18n_seen_by_count;d!=null||i(0,5404);e=e==null?void 0:e.seen_by_everyone;e!=null||i(0,5405);a=a==null?void 0:(a=a.viewer_actor)==null?void 0:a.id;a||i(0,5406);var j=b("ActorURI").create(b("XUFIGroupSeenByProfileBrowserController").getURIBuilder().setInt("id",f).getURI(),a);a=b("ActorURI").create(b("XUFIGroupSeenByProfileDialogController").getURIBuilder().setInt("id",f).getURI(),a);f=new(k||(k=b("URI")))("/ajax/ufi/seen_list_hovercard.php").setQueryData({id:f});return l.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2AbstractButtonWrapper.react"),props:{ajaxify:a.toString(),className:b("joinClasses")("_33zy",c),"data-hovercard":f,"data-testid":"UFI2SeenByCount/root",href:j.toString(),label:e===!0?h._("Seen by everyone"):h._({"*":"Seen by {seenByCount}"},[h._param("seenByCount",d,[0,g])]),onClick:this.$1,rel:"dialog",role:"button"}})};return c}(l.Component);c.displayName="UFI2SeenByCount";e.exports=a(c,{feedback:j!==void 0?j:j=b("UFI2SeenByCount_feedback.graphql")})}),null);
__d("UFI2SharesCount.react",["cx","fbt","ActorURIConfig","JSResource","React","UFI2AbstractButtonWrapper.react","UFI2CometRelayCreateFragmentContainer","UFI2PrimerDialogWrapper.react","UFI2Tooltip.react","URI","XViewSharesPermalinkController","joinClasses","lazyLoadComponent","recoverableViolation","UFI2SharesCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var l=b("lazyLoadComponent")(b("JSResource")("UFI2SharesCountTooltipContent.react").__setRef("UFI2SharesCount.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){};d.render=function(){var a,c,d=this.props,e=d.className,f=d.feedback;d=d.relay;var g=f.share_count,i=f.i18n_share_count;g=(g=g==null?void 0:g.count)!=null?g:0;if(g===0)return null;a=(a=(a=f.viewer_actor)==null?void 0:a.id)!=null?a:0;var m=f.share_fbid;f=f.id;if(!f){b("recoverableViolation")("UFI2SharesCount tried to render without a feedback ID.","ufi2");return null}if(!m){b("recoverableViolation")("UFI2SharesCount tried to render without a share FBID. Feedback Target ID: "+f,"ufi2");return null}c=b("XViewSharesPermalinkController").getURIBuilder().setInt("id",m).getURI().setQueryData((c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c));a=new(j||(j=b("URI")))("/ajax/shares/view").setQueryData((m={target_fbid:m},m[b("ActorURIConfig").PARAMETER_ACTOR]=a,m));m=k.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2AbstractButtonWrapper.react"),props:{ajaxify:a.toString(),className:"_3rwx","data-testid":"UFI2SharesCount/root",href:c.toString(),label:h._({"*":"{number} Shares","_1":"1 Share"},[h._plural(g,"number",i)]),onClick:this.$1,rel:"dialog"}});return k.jsx(b("UFI2Tooltip.react"),{className:b("joinClasses")("_355t",e),environment:d.environment,tooltipContentComponent:l,tooltipContentProps:{queryVariables:{feedbackTargetID:f}},children:m})};return c}(k.Component);c.displayName="UFI2SharesCount";e.exports=a(c,{feedback:i!==void 0?i:i=b("UFI2SharesCount_feedback.graphql")})}),null);
__d("UFI2TopReactions.react",["cx","fbt","invariant","CometUFIReactionIconImpl.react","JSResource","React","ReactDOM","RTLKeys","ShimButton.react","UFI2CometRelayCreateFragmentContainer","UFI2PrimerDialogWrapper.react","UFI2ReactionIconTooltipTitle.react","UFI2Tooltip.react","UFIReactionsProfileBrowserUtils","getReactionKeyFromType","isNotOutlierReaction","joinClasses","lazyLoadComponent","nullthrows","qex","stylex","UFI2TopReactions_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var l=b("lazyLoadComponent")(b("JSResource")("UFI2ReactionIconTooltipContent.react").__setRef("UFI2TopReactions.react")),m={icon:{verticalAlign:"khgy6jzf"}};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1={},d.state={selectedReactionIndex:null},d.$3=function(a){d.$2=a},d.$5=function(a){switch(a.keyCode){case b("RTLKeys").getLeft():a.preventDefault();d.$4(-1);break;case b("RTLKeys").getRight():a.preventDefault();d.$4(1);break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(){var a=this.state.selectedReactionIndex;if(a!==null){a=b("ReactDOM").findDOMNode(this.$1[a]);a!=null&&a.focus()}};d.$4=function(a){var c=this.props.feedback.top_reactions,d=b("nullthrows")(c==null?void 0:c.edges);this.setState(function(b){return{selectedReactionIndex:Math.max(0,Math.min(b.selectedReactionIndex+a,d.length-1))}})};d.$6=function(){var a=b("qex")._("881636");a=a!=null?a.toString():"16";switch(a){case"16":case"18":case"20":return a;default:return"16"}};d.$7=function(a,c,d){var e=this,f=c.i18n_reaction_count;c=c.node;var g=this.props.relay.environment,j=this.state.selectedReactionIndex,n=c==null?void 0:c.localized_name;c=c==null?void 0:c.reaction_type;var o=this.props.feedback.id;c!=null||i(0,4015);o!=null||i(0,4016);var p=b("getReactionKeyFromType")(c);a=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:a,feedbackTargetID:o,reactionKey:p});var q=j===null;j=j===d;q=q&&d===0||j?0:-1;j=k.jsxs("div",{children:[k.jsx(b("UFI2ReactionIconTooltipTitle.react"),{children:n}),h._("Loading\u2026")]});var r=this.$6();return k.jsx(b("UFI2Tooltip.react"),{className:"_1n9k","data-testid":void 0,environment:g,placeholder:j,tabIndex:-1,tooltipContentComponent:l,tooltipContentProps:{i18nReactionName:n,placeholder:j,queryVariables:{feedbackTargetID:o,reactionType:c},reactionType:c},children:k.jsx(b("UFI2PrimerDialogWrapper.react"),{Component:b("ShimButton.react"),props:babelHelpers["extends"]({},a,{"aria-label":h._("{i18nReactionCount} {i18nReactionName}",[h._param("i18nReactionCount",f),h._param("i18nReactionName",n)]),children:k.jsx(b("CometUFIReactionIconImpl.react"),{reaction:p,size:r,xstyle:m.icon},"reactionIcon"),className:"_1n9l",form:this.props.shouldNotOpenTopReactorsDialogOnClick===!0?"none":"link",ref:function(a){e.$1[d]=a},tabIndex:q})})},p)};d.render=function(){var a,c=this,d=this.props,e=d.className;d=d.feedback;var f=d.top_reactions;f=f==null?void 0:f.edges;f||i(0,4017);var g=(a=(a=d.viewer_actor)==null?void 0:a.id)!=null?a:"0";if(f.length===0)return null;a=f.filter(function(a){return((a=a.node)==null?void 0:a.reaction_type)!=null}).filter(b("isNotOutlierReaction")(d)).slice(0,3);return k.jsx("span",{"aria-label":h._("See who reacted to this"),className:b("joinClasses")("_1n9r",e),onKeyDown:this.$5,ref:this.$3,role:"toolbar",children:a.map(function(a,b){return c.$7(g,a,b)})})};return c}(k.Component);c.displayName="UFI2TopReactions";e.exports=a(c,{feedback:j!==void 0?j:j=b("UFI2TopReactions_feedback.graphql")})}),null);
__d("UFI2UserToPageCommentLinkItem.react",["fbt","Bootloader","MessengerSMBExperimentDebugTypedLogger","React","UFI2LinkWrapper.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useCallback,j=c.useEffect,k=c.useRef,l=c.useState;function a(a){var c=a.className,d=a.pageID,e=a.prefilledContent,f=a.postID,m=a.permalink,n=k(null),o=k(null);a=l(!1);var p=a[0],q=a[1];a=i(function(){if(p===!0)return;q(!0);n.current&&n.current.remove();n.current=b("Bootloader").loadModules(["FantaTabActions","MercuryIDs"],function(a,c){c=c.getThreadIDFromUserID(d);var h=e!=null?m!=null?g._("{comment} (Re: {link})",[g._param("comment",e),g._param("link",m)]).toString():e:m!=null?g._("(Re: {link})",[g._param("link",m)]).toString():null;a.openTab(c,["user_private_reply"],h);o.current==null&&(o.current=new(b("MessengerSMBExperimentDebugTypedLogger"))());o.current.setPostID(f).setPageID(d).setExperiment("user_messaging_on_page_comment").setEvent("user_click_message_cta_desktop").log();q(!1)},"UFI2UserToPageCommentLinkItem.react")},[p,d,e,m,f]);j(function(){o.current=new(b("MessengerSMBExperimentDebugTypedLogger"))();o.current.setPostID(f).setPageID(d).setExperiment("user_messaging_on_page_comment").setEvent("user_impression_message_cta_desktop").log();return function(){n.current&&n.current.remove()}});var r=g._("Message");return c!=null?h.jsxs(b("UFI2LinkWrapper.react"),{href:"#",name:c,onClick:a,role:"button",children:[r,p&&h.jsx(b("XUISpinner.react"),{})]}):h.jsxs(b("UFI2LinkWrapper.react"),{href:"#",onClick:a,role:"button",children:[r,p&&h.jsx(b("XUISpinner.react"),{})]})}e.exports=a}),null);
__d("UFI2UserToPageCommentLink.react",["invariant","React","UFI2CometRelayCreateFragmentContainer","UFI2UserToPageCommentLinkItem.react","UFI2UserToPageCommentLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c;if(!j(a))return null;c=(c=a.feedback.page_private_reply)==null?void 0:c.status;if(c==null)return null;var d=a.WrapperComponent;switch(c){case"NOT_USER_CREATED":var e=(c=a.feedback.page_private_reply)==null?void 0:(c=c.page)==null?void 0:c.id,f=(c=a.feedback.page_private_reply)==null?void 0:c.prefilled_content,h=(c=a.feedback.page_private_reply)==null?void 0:c.permalink,k=(c=a.feedback.page_private_reply)==null?void 0:c.post_id;e!=null||g(0,5848);return i.jsx(d,{children:function(a){a=a.className;return i.jsx(b("UFI2UserToPageCommentLinkItem.react"),{className:a,pageID:e,permalink:h,postID:k,prefilledContent:f})}});default:return null}}a.displayName="UFI2UserToPageCommentLink";function j(a){var b,c,d;a=a.feedback;if(!a)return!1;b=(b=a.page_private_reply)==null?void 0:b.has_reply_permission;c=(c=a.page_private_reply)==null?void 0:c.user_can_private_reply;d=(d=a.viewer_actor)==null?void 0:d.id;a=(a=a.page_private_reply)==null?void 0:(a=a.page)==null?void 0:a.id;return b===!0&&d!=null&&a!=null&&d!==a&&c===!0}d=c(a,{feedback:h!==void 0?h:h=b("UFI2UserToPageCommentLink_feedback.graphql")});e.exports=d}),null);
__d("UFI2ViewCount.react",["cx","fbt","React","UFI2CometRelayCreateFragmentContainer","UFI2TooltipCometCompatWrapper.react","joinClasses","renderCrosspostedTooltipText","UFI2ViewCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c=a.className;a=a.feedback;var d=a.video_view_count,e=a.video_view_count_reduced,f=a.total_video_posts,g=a.video_post_view_count,i=a==null?void 0:a.associated_video;if(a==null||d==null||e==null||f==null||g==null||(i==null?void 0:i.is_live_streaming)===!0||(i==null?void 0:i.is_profile_video)===!0)return null;a=Math.max(0,d-g);i=b("renderCrosspostedTooltipText")({otherPostsViews:a,postViews:g,posts:f});return j.jsx(b("UFI2TooltipCometCompatWrapper.react"),{alignH:"left",className:c,delayMountUntilHover:!0,position:"below",tooltip:i,children:j.jsx("span",{className:b("joinClasses")("_26fq"+(i?" _26fr":"")),"data-testid":void 0,children:h._({"*":"{count} Views","_1":"{count} View"},[h._param("count",e),h._plural(d)])})})}e.exports=c(a,{feedback:i!==void 0?i:i=b("UFI2ViewCount_feedback.graphql")})}),null);
__d("UFI2ViewOptionsSelector.react",["cx","requireDeferred","AsyncRequest","BasicFBNux","CommentOrderingMode","CommentOrderingModeFalcoEvent","FanFundingStarsEventsTypedLogger","FBLogger","React","UFI2CometRelayCreateFragmentContainer","UFI2LinkWrapper.react","XBasicFBNuxGenShouldShowController","XUIAmbientNUX.react","deferredLoadComponent","joinClasses","OnVisible.react","UFI2ViewOptionsSelector_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;var j=b("deferredLoadComponent")(b("requireDeferred")("UFI2ViewOptionsSelectorImpl.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={loadImmediately:!1,showNux:!1},c.$1=null,c.$2=null,c.loadImmediately=function(){if(c.state.loadImmediately)return;c.setState({loadImmediately:!0})},c.$3=function(a){if(!c.state.loadImmediately||!a)return;a.showPopover()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;if(this.props.nuxID!=null){var c=this.props.nuxID,d=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",this.props.nuxID).getURI();new(b("AsyncRequest"))().setURI(d).setHandler(function(d){if(d.payload){d=d.payload.should_show_nux;d&&b("BasicFBNux").onView(c);a.setState({showNux:d})}}).send()}};d.render=function(){var a=this,c=this.props,d=c.selectedViewOption,e=c.className,f=c.linkClassName,g=c.caretClassName,h=c.feedback;c=((c=h)!=null?c.localized_comment_orderings:c)||[];if(c.length<=1)return null;var k=c.find(function(a){return a.value===d});if(k==null){b("FBLogger")("ufi2").mustfix("SelectedOption %s missing from possible options, failed to render UFI2ViewOptionsSelector",d);return null}var l=function(){var a=h.share_fbid;if(d!=null&&d!=="%future added value"&&a!=null){var c=b("CommentOrderingMode")[d]===h.default_comment_ordering?"default":"changed";b("CommentOrderingModeFalcoEvent").log(function(){return{comment_ordering_mode:b("CommentOrderingMode")[d],event_type:c,feedback_id:a}});b("CommentOrderingMode")[d]==="star_comments"&&new(b("FanFundingStarsEventsTypedLogger"))().setEvent("stars_comment_filter_click").setContentID(a).setEventData(new Map([["event_type",c]])).log()}};l=i.jsx(b("OnVisible.react"),{onVisible:l,children:i.jsxs(b("UFI2LinkWrapper.react"),{className:b("joinClasses")(f,"_21q1"),"data-ordering":k.value,"data-testid":void 0,onClick:this.loadImmediately,role:"button",children:[k.title,i.jsx("div",{className:b("joinClasses")(g,"_1ojy")})]})});f=function(c){a.setState({showNux:!1}),a.props.nuxID!=null&&b("BasicFBNux").onDismiss(a.props.nuxID)};return i.jsxs("div",{children:[i.jsx("div",{className:b("joinClasses")(e,"_21ij"),"data-testid":void 0,ref:function(b){return a.$2=b},children:i.jsx(i.Suspense,{fallback:l,loading:l,children:i.jsx(j,{alignh:this.props.alignh,loadImmediately:this.state.loadImmediately,menuClassName:this.props.menuClassName,menuRef:this.$3,onChange:this.props.onChange,ref:function(b){return a.$1=b},selectedOption:k,selectorOptions:c,children:l})})}),this.state.showNux&&i.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.$2},onCloseButtonClick:f,position:"right",shown:this.state.showNux,width:"normal",children:this.props.nuxString})]})};return c}(i.PureComponent);e.exports=a(c,{feedback:h!==void 0?h:h=b("UFI2ViewOptionsSelector_feedback.graphql")})}),null);
__d("UFI2LazyCodedErrorDialog.react",["FBLogger","JSResource","LoadingDialog.react","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("UFI2CodedErrorDialog.react").__setRef("UFI2LazyCodedErrorDialog.react"));function a(a){var c=a.error;a=babelHelpers.objectWithoutPropertiesLoose(a,["error"]);if(Object.prototype.hasOwnProperty.call(c,"code")&&Object.prototype.hasOwnProperty.call(c,"description")&&Object.prototype.hasOwnProperty.call(c,"summary")){var d=c;return g.jsx(g.Suspense,{fallback:g.jsx(b("LoadingDialog.react"),{}),children:g.jsx(h,babelHelpers["extends"]({},a,{codedError:d,width:445}))})}else{b("FBLogger")("ufi2").warn("A `UFI2LazyCodedError` was constructed with an `Error` object that doesn't conform to `CodedError`. Error: %s",String(c));return null}}e.exports=a}),null);
__d("getConsumerFacebookUFI2ComposerPlugins",["requireCond","JSResource","RelayModern","UFI2Config","createUFI2AssociateReplyWithParentComposerPlugin","cr:1515183","createUFI2ComposerStateSnapshotComposerPlugin","createUFI2ComposerTipPlugin","cr:1004782","createUFI2EmojiComposerPlugin","createUFI2EmoticonsComposerPlugin","createUFI2GIFComposerPlugin","createUFI2HashtagComposerPlugin","createUFI2MediaUploadComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2SetReplyClickedComposerPlugin","cr:1101374","createUFI2StarsComposerPlugin","createUFI2StickersComposerPlugin","cr:1004783","getConsumerFacebookUFI2ComposerPlugins_feedback.graphql","getConsumerFacebookUFI2ComposerPlugins_group.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h;b("RelayModern").graphql;var i=b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("getConsumerFacebookUFI2ComposerPlugins"),j=b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("getConsumerFacebookUFI2ComposerPlugins");g!==void 0?g:g=b("getConsumerFacebookUFI2ComposerPlugins_feedback.graphql");h!==void 0?h:h=b("getConsumerFacebookUFI2ComposerPlugins_group.graphql");function a(a){var c,d=a.environment,e=a.feedback,f=a.group;a=a.pluginsToInsertBeforePositions;var g=e.mentions_datasource_js_constructor_args_json;return[e.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:e.composer_tip}):null,b("cr:1004783")&&b("UFI2Config").shouldShowWritingHelp?b("cr:1004783")({environment:d,isAutoEnabled:!1}):null,f?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,b){var c=a.getAuxiliaryData().renderType,d=b.getAuxiliaryData().renderType;if(c===d){var e=a.getAuxiliaryData().indexRank,f=b.getAuxiliaryData().indexRank;if(e===-1&&f!==-1)return-1;else if(e!==-1&&f===-1)return 1;else return a.getOrder()-b.getOrder()}e={bot:1,member:0,non_member:2,place:3};return e[c]-e[d]},viewProps:{bot:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_title:c:c},member:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.member_title:c:c},nonMember:{aux:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_aux:c:c,title:(c=f)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_title:c:c}}},upgradedPluginResource:i}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{},upgradedPluginResource:j})].concat(e.can_viewer_comment_with_stars===!0?b("createUFI2StarsComposerPlugin")({environment:d,feedbackID:(f=e)!=null?f.id:f}):[],[b("createUFI2HashtagComposerPlugin")(),b("cr:1004782")?b("cr:1004782")({size:10}):null],a?a["1"]||[]:[],[b("cr:1515183")!=null&&(e==null?void 0:(c=e.viewer_actor)==null?void 0:(g=c.user_avatar)==null?void 0:g.has_fb_app_avatar)===!0?b("cr:1515183")({}):null],b("createUFI2EmojiComposerPlugin")({size:16}),a?a["2"]||[]:[],[b("createUFI2EmoticonsComposerPlugin")({size:16})],a?a["3"]||[]:[],[e.can_viewer_comment_with_photo===!0&&e.can_viewer_comment_with_video===!0?b("createUFI2MediaUploadComposerPlugin")({feedback:e}):null],a?a["4"]||[]:[],e.can_viewer_comment_with_gif===!0?b("createUFI2GIFComposerPlugin")({ftentidentifier:e==null?void 0:e.id}):[],a?a["5"]||[]:[],e.can_viewer_comment_with_sticker===!0?b("createUFI2StickersComposerPlugin")({environment:d,targetID:(f=e)!=null?(f=f.owning_profile)!=null?f.id:f:f}):[],[b("createUFI2PrefillMentionComposerPlugin")(),b("createUFI2AssociateReplyWithParentComposerPlugin")(),b("createUFI2SetReplyClickedComposerPlugin")(),e.can_see_voice_switcher===!0||e.flat_threading_config!=null?b("createUFI2ComposerStateSnapshotComposerPlugin")():null,b("cr:1101374")!=null?b("cr:1101374")({environment:d,ftentidentifier:e==null?void 0:e.id,surface:"newsfeed_comment_www"}):null]).filter(Boolean)}e.exports=a}),null);
__d("UFI2CommentVoteMutation",["RelayModern","UFI2CommentVoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UFI2CommentVoteMutation.graphql");function j(a,b){var c=a.commentID,d=a.currentVoteCount,e=a.currentVoteState,f=a.newVoteState;a=a.voteActionType;b=b.get(c);if(b==null)return;a==="UPVOTE"&&e==="DOWNVOTE"?b.setValue(d+2,"upvote_downvote_total"):a==="DOWNVOTE"&&e==="UPVOTE"?b.setValue(d-2,"upvote_downvote_total"):a==="UPVOTE"&&e==="NONE"||a==="DOWNVOTE"&&a===e?b.setValue(d+1,"upvote_downvote_total"):b.setValue(d-1,"upvote_downvote_total");b.setValue(f,"viewer_comment_vote_state")}e.exports={commit:function(a,b){var c=b.actorID,d=b.commentID,e=b.currentVoteCount,f=b.currentVoteState,g=b.voteActionType,k=g===f?"NONE":g;return h(a,{mutation:i,optimisticUpdater:function(a){return j({commentID:d,currentVoteCount:e,currentVoteState:f,newVoteState:k,voteActionType:g},a)},variables:{input:{actor_id:c,comment_id:d,new_vote_state:k}}})}}}),null);
__d("UFI2RemovePreviewMutation",["RelayModern","UFI2RemovePreviewMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UFI2RemovePreviewMutation.graphql");function a(a,b){var c={comment_id:b.commentID};c={input:babelHelpers["extends"]({},c,{actor_id:b.actorID})};b={comment_delete_attachment:{comment:{attached_story:null,attachments:[],can_viewer_disable_preview:!1,id:b.commentID}}};return h(a,{mutation:i,optimisticResponse:b,variables:c})}e.exports={commit:a}}),null);
__d("getMutationTrackingPropertyFromTrackingData",["URI"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){a=a(["ft"]);a=a==null?void 0:a.ft;var c=(g||(g=b("URI"))).getMostRecentURI().getQueryData(),d=c.notif_id;c=c.notif_t;d=d!=null?{alert_id:d,notif_source:"notif_jewel",notif_type:c}:null;c=a!=null||d!=null?babelHelpers["extends"]({},a,d):null;return c?[JSON.stringify(c)]:null}e.exports=a}),null);
__d("getCommentCreateMutationPropertiesFromTrackingData",["getMutationTrackingPropertyFromTrackingData","getReferrerURI"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("getReferrerURI")();return{feedback_referrer:c?c.getPath():void 0,tracking:b("getMutationTrackingPropertyFromTrackingData")(a)}}e.exports=a}),null);
__d("useTrackingCodeFnForBlue",["getCommentCreateMutationPropertiesFromTrackingData"],(function(a,b,c,d,e,f){"use strict";a=function(){return b("getCommentCreateMutationPropertiesFromTrackingData")};e.exports=a}),null);
__d("UFI2CommentShareNux.react",["AsyncRequest","BasicFBNux","Random","React","XBasicFBNuxGenShouldShowController","XUIAmbientNUX.react","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=7643,i=2e3,j=6e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={shouldShow:!1},d.closeNUX=function(){b("BasicFBNux").onDismiss(h),d.setState({shouldShow:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;var c=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",h).setBool("should_log_view",!1).getURI();b("setTimeout")(function(){new(b("AsyncRequest"))().setURI(c).setHandler(function(c){if(c.payload&&a.$1){c=c.payload.should_show_nux;b("BasicFBNux").onView(h);a.setState({shouldShow:c})}}).send()},b("Random").random()*(j-i)+i)};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){return g.jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:this.closeNUX,position:"below",shown:this.state.shouldShow},this.props))};return c}(g.Component);e.exports=a}),null);
__d("useNoopCareReactionNUX",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return[b("emptyFunction"),b("emptyFunction")]}e.exports=a}),null);
__d("UFI2FeedbackSubscriptionTopicProvider",["FBLogger","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","relay-runtime/query/GraphQLTag"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRuntime").getRequest,h=b("relay-runtime/query/GraphQLTag").isRequest,i={};function j(a){return function(b){var c;b=(c=(c=b.input)==null?void 0:c.feedback_id)!=null?c:(c=b.input)==null?void 0:c.top_level_feedback_id;c=i[b];return c==null?null:a+c}}function a(a,c){if(h(a)===!1){b("FBLogger")("ufi2").warn("The `subscription` passed to `registerProvider()` must be a `ConcreteRequest`.");return}a=g(a);a=a.params.id;a!=null&&(a!=null&&typeof a==="string"&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(a,j(c)))}function c(a,b){i[a]=b}e.exports={addSubscriptionTargetIDForFeedbackID:c,registerProvider:a}}),null);
__d("UFI2FeedbackCommentReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","emptyFunction","gkx","UFI2FeedbackCommentReactSubscription_feedback.graphql","UFI2FeedbackCommentReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription;g!==void 0?g:g=b("UFI2FeedbackCommentReactSubscription_feedback.graphql");var j=h!==void 0?h:h=b("UFI2FeedbackCommentReactSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(j,"gqls/comment_like_subscribe/top_level_feedback_id_");function a(a,c,d,e,f){if(b("gkx")("1352845"))return{dispose:b("emptyFunction")};b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.top_level_feedback_id,e);return i(a,{subscription:j,variables:{input:c,isComet:f,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("UFI2FeedbackReactSubscription",["RelayModern","UFI2FeedbackSubscriptionTopicProvider","emptyFunction","gkx","UFI2FeedbackReactSubscription_feedback.graphql","UFI2FeedbackReactSubscription_liker.graphql","UFI2FeedbackReactSubscription_viewer.graphql","UFI2FeedbackReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j;b("RelayModern").graphql;var k=b("RelayModern").requestSubscription;g!==void 0?g:g=b("UFI2FeedbackReactSubscription_feedback.graphql");h!==void 0?h:h=b("UFI2FeedbackReactSubscription_liker.graphql");i!==void 0?i:i=b("UFI2FeedbackReactSubscription_viewer.graphql");var l=j!==void 0?j:j=b("UFI2FeedbackReactSubscription.graphql");b("UFI2FeedbackSubscriptionTopicProvider").registerProvider(l,"gqls/feedback_like_subscribe/feedback_id_");function a(a,c,d,e){if(b("gkx")("1352845"))return{dispose:b("emptyFunction")};b("UFI2FeedbackSubscriptionTopicProvider").addSubscriptionTargetIDForFeedbackID(c.feedback_id,e);return k(a,{subscription:l,updater:function(a,b){var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:c,useDefaultActor:d}})}e.exports={subscribe:a}}),null);
__d("RelayUFI2Environment",["invariant","requireCond","ActorURIConfig","PinnedCommentEventsConnectionHandler","RelayAPIConfig","RelayFBOperationLoader","RelayRuntime","UFI2CommentsConnectionHandler","VideoTimestampedCommentsConnectionHandler","cr:1121434","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","relayFBGetDataID","resolveImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=(c=b("RelayRuntime")).ConnectionHandler,i=c.Environment,j=c.QueryResponseCache,k=c.RecordSource,l=c.Store,m=10,n=5*60*1e3,o={};a(b("RelayAPIConfig").actorID);function p(a){switch(a){case"connection":return h;case"video_timestamped_comments":return b("VideoTimestampedCommentsConnectionHandler");case"pinned_comment_events":return b("PinnedCommentEventsConnectionHandler");case"ufi2_comments":return b("UFI2CommentsConnectionHandler")}g(0,11762,a)}function a(a){if(!Object.prototype.hasOwnProperty.call(o,a)){var c=new j({size:m,ttl:n});c=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},a!=null?{actorID:a,getAdditionalData:function(){var c;return c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c}}:null,{queryResponseCache:c})),b("createRelayFBSubscribeFunction")({queryResponseCache:c}));var d=new k();d=new l(d,{UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:1e3*60*5});o[a]=new i({UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),configName:"RelayUFI2Environment(actor:"+String(a)+")",handlerProvider:p,log:b("cr:1121434")!=null?b("cr:1121434")():null,network:c,operationLoader:b("RelayFBOperationLoader"),store:d})}return o[a]}e.exports={forActor:a,handlerProvider:p}}),null);
__d("UFI2BluePrimerDialog.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");e.exports=function(a){var b=a.Component;a=a.props;return g.jsx(b,babelHelpers["extends"]({},a))}}),null);
__d("getUFI2CommentHighlightClasses",["cx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"_3iub"+(a?" _3iuc":"")}e.exports=a}),null);
__d("getViewportViewDurationPropertiesFromTrackingData",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a=a(["ft"],["data-referrer"]);return{isPageComment:(a==null?void 0:(b=a.ft)==null?void 0:b.page_id)!=null,isSponsored:!!(a==null?void 0:(b=a.ft)==null?void 0:b.is_sponsored),mfStoryKey:(a==null?void 0:(b=a.ft)==null?void 0:b.mf_story_key)||void 0,pageInsights:(a==null?void 0:(b=a.ft)==null?void 0:b.page_insights)||void 0,qid:(a==null?void 0:(b=a.ft)==null?void 0:b.qid)||void 0,referrerSource:(a==null?void 0:(b=a.normal)==null?void 0:b["data-referrer"])||void 0}}e.exports=a}),null);
__d("isCommentTokenOrFBID",["relay-runtime","isCommentTokenOrFBID_comment.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("relay-runtime").graphql;g!==void 0?g:g=b("isCommentTokenOrFBID_comment.graphql");function a(a,b){return a!=null&&(a===b.id||a===b.legacy_fbid)}e.exports=a}),null);
__d("isStandaloneEmoji",["EmojiRenderer"],(function(a,b,c,d,e,f){"use strict";var g=14,h=3;function a(a){if(!a||a.length>g*h)return!1;var c=b("EmojiRenderer").parse(a);if(!c)return!1;var d=0;c.forEach(function(a){d+=a.length});return a.length==d&&c.length<=h}e.exports=a}),null);
__d("logCommentViewportViewDuration",["Banzai","ScriptPath","WebSession","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.commentID,d=a.endpoint,e=a.isLivePinnedComment,f=a.isPageComment,g=a.isReply,h=a.isSponsored,i=a.milliseconds,j=a.storyRenderLocation,k=a.visibleStartTime;a=babelHelpers.objectWithoutPropertiesLoose(a,["commentID","endpoint","isLivePinnedComment","isPageComment","isReply","isSponsored","milliseconds","storyRenderLocation","visibleStartTime"]);if(i<100)return;var l=a.referrerSource!=null?{referrer_source:a.referrerSource}:null,m=a.pageInsights!=null?{page_insights:a.pageInsights}:null,n=a.qid!=null?a.qid:null,o=a.xt!=null&&a.xt!==""?a.xt:null;a=a.mfStoryKey!=null?{mf_story_key:a.mfStoryKey}:null;i={container_module:j,duration_ms:i,endpoint:(j=d)!=null?j:b("ScriptPath").getScriptPath(),is_live_pinned_comment:e,is_on_sponsored_story:h,is_page_comment:f,is_reply:g,mfStoryKey:a,node_token:c,pageInsights:m,qid:n,referrerSource:l,sid_raw:b("WebSession").getId(),visible_start_time_ms:k,xt:o};b("Banzai").post("comment_vpvd",i)}e.exports=a}),null);
__d("useUFIVPVDEndpoint",["ScriptPath","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";function a(){var a;return(a=(a=b("useCurrentRoute")())==null?void 0:a.tracePolicy)!=null?a:b("ScriptPath").getScriptPath()}e.exports=a}),null);