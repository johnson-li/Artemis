(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0031":function(e,t,r){var n=r("967c").default,i=function(e,t){i.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(i,n,{name:"CommercialModel",_overlayTypeKey:"overlayType",_overlayQueryParamsKey:"overlayQueryParams",_performerNameKey:"p_id",_promoCampaignNameKey:"campaign",getOverlayType:function(){return this.attributes[this._overlayTypeKey]},getOverlayQueryParams:function(){return this.attributes[this._overlayQueryParamsKey]||{}},getOverlayQueryParameter:function(e){return this.getOverlayQueryParams()[e]},getPromoCampaignName:function(){return this.attributes[this._promoCampaignNameKey]||null}})},"00a1":function(e,t,r){var n=r("3414"),i=r("d869"),o=r("768e"),a=r("e481").default,s=r("b07d"),l=r("8f76"),c=r("bb3b"),u=r("825c"),f=r("b909"),d=r("3432").default,h=r("0619"),p=r("4daa"),m=r("7ab0"),g=function(e,t){g.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(g,n.Component,{name:"ListPageComponentAbstract",performersConfig:"listPagePerformers",controllerClassName:o,viewClassName:a,modelClassName:s,listPageControllerListeners:{},listPagePlayerControllerClassName:c,isRandomPlayerEnabled:!1,listPagePlayerViewClassName:u,isBigThumbsExists:!0,flashPlayerConfig:{},listPagePlayerForceDelayedInit:!1,init:function(e,t){g.superclass.init.call(this,e,t),("visible"===document.visibilityState||Ext.isIE9)&&this._setController(),m.isHokkaido()&&d.getInstance(),this._setListPagePlayerController()},_setController:function(){var e=this.controllerClassName;!n.isFunction(e)||this._listPageController instanceof e||(this._listPageController=new e({items:Ext.apply({IndexBroadcaster:{component:n.Broadcaster,listeners:Ext.apply({},{"global-status-change":"onStatusChange","global-performer-details-change":"onPerformerDetailsChange","refresh-listpage":"onRefreshListPage","globalevent-search-results":"onSearchResults","logged-in":"onLoggedIn","after-signup-success":"onSignUpSuccess","ajax-searchpage-off":"onAjaxSearchPageOff","ajax-searchpage-on":"onAjaxSearchPageOn","firstbill-complete":"onFirstBillComplete","purchase-success":"onQuickBuySuccess","LuckyWheelModal:wheel-spun":"onLuckyWheelSpun","WheelOfFortune:guest-wheel-spun":"onGuestWheelOfFortuneSpun","CommercialItemView:countdown-end":"onCommercialCountdownEnd","global-list-page-promo-ab-test":"onListPageCommercialABTest","Applet:quickbuy-success":"onAppletQuickBuySuccess"},this.listPageControllerListeners.IndexBroadcaster)},ListPageView:{component:this.getView(),listeners:Ext.apply({},{"event-view-mouseover":"onPerformerViewMouseOver","event-view-mouseout":"onPerformerViewMouseOut"},this.listPageControllerListeners.ListPageView)},ListPageModel:{component:this._getListPageModel(),listeners:{"event-visible-free-models-ready":"onVisibleFreeModelsReady","event-visible-models-ready":"onVisibleModelsReady","event-swapped-commercial":"onPerformerSwap","event-show-more-error":"onShowMoreError","destroy-all":"onDestroyAll","ListPageModelAbstract:get-all-performers-ready":"onGetAllPerformersReady"}}}),plugins:n.object([i.AutoShowMore.NAME],[{component:h,config:{direction:i.AutoShowMore.DIRECTION_DOWN,view:this.getView(),model:this._getListPageModel(),maxAutoLoadNum:3,resetEvent:i.ListPageModelAbstract.EVENT_DESTROY_ALL,loadingStartedEvent:i.ListPageModelAbstract.EVENT_START_LOADING,loadingFinishedEvent:i.ListPageModelAbstract.EVENT_FINISHED_LOADING,showMoreButtonClickEvent:i.ListPageViewAbstract.EVENT_SHOW_MORE_BUTTON_CLICK,offset:m.isHokkaido()?400:100}}])}),this._listPageController.on(Ext.apply({},{"event-visible-free-models-ready":this.setVisibleFreeModelsReady,"event-view-mouseover":this.onPerformerViewMouseOver,"event-view-mouseout":this.onPerformerViewMouseOut,scope:this},this.listPageControllerListeners.ListPageController)))},enablePerformerSwap:function(){this.performerSwap instanceof f||!this._listPageController||(this.performerSwap=new f(this.element,{swapRouteHandler:"ListPageAjax/PerformersSwap",ajaxQueue:new n.AjaxQueue}),this._listPageController.addComponent({component:this.performerSwap,listeners:{"PerformerSwapComponent:get-all-performers":"getAllPerformers","get-visible-performers":"getVisiblePerformers","event-swap-performers":"onPerformerSwap","PerformerSwapComponent:swap-performer-with-last-performer":"onPerformerSwapLast"}},"PerformerSwap"),this._listPageController.addPlugin(i.PerformerSwap.NAME,{component:p,config:{view:this.getView()}}),this._listPageController.on({"PerformerSwap:destroy-performer":this.destroyPerformerById,"ListPageControllerAbstract:get-all-performers-ready":this.getAllPerformersReady,"event-swapped-performers":this.setSwappedPerformers,"event-visible-models-ready":this.setVisibleModelsReady,scope:this}),n.fireEvent("global-list-page-swap-ready"))},setVisibleFreeModelsReady:function(e){this._listPagePlayerController&&this._listPagePlayerController.setVisibleFreeModels(e)},onPerformerViewMouseOver:function(e){this._listPagePlayerController&&this._listPagePlayerController.onPerformerViewMouseOver(e)},onPerformerViewMouseOut:function(e){this._listPagePlayerController&&this._listPagePlayerController.onPerformerViewMouseOut(e)},setVisibleModelsReady:function(e){this.performerSwap.setVisibleViews(e)},getAllPerformersReady:function(e){this.performerSwap.onAllPerformersReady(e)},setSwappedPerformers:function(e){this.performerSwap.setSwappedPerformers(e)},destroyPerformerById:function(e){this._getListPageModel().destroyPerformerById(e)},getView:function(){var e=this.viewClassName;return!n.isFunction(e)||this._listPageView instanceof e||(this._listPageView=new e({element:this.element,model:this._getListPageModel()})),this._listPageView},getController:function(){return this._listPageController||this._setController(),this._listPageController},_getListPageModel:function(){return!n.isFunction(this.modelClassName)||this._listPageModel instanceof this.modelClassName||(this._listPageModel=new this.modelClassName),this._listPageModel},setStreamPlayerModel:function(){var e=l;return this._streamPlayerModel instanceof e||(this._streamPlayerModel=new e),this._streamPlayerModel},_setListPagePlayerController:function(){var e=this.listPagePlayerControllerClassName;!n.isFunction(e)||this._listPagePlayerController instanceof e||(this._listPagePlayerController=new e({items:{ListPagePlayerView:{component:this.getListPagePlayerView(),listeners:{}},StreamPlayerModel:{component:this.setStreamPlayerModel(),listeners:{"performer-details-success":"onPerformerDetailsSuccess","performer-details-error":"onPerformerDetailsError"}},IndexBroadcaster:{component:n.Broadcaster,listeners:n.object([["window-show","onWindowShow"],["window-hide","onWindowHide"],[i.ModalComponent.GLOBALEVENT_MODAL_OPENED,"onOverlayOpen"],[i.ModalComponent.GLOBALEVENT_MODAL_CLOSED,"onOverlayClose"],[i.FlashExternal.GLOBALEVENT_OUT_OF_CONTENT,"onAppletOutOfContent"]])}},isRandomPlayerEnabled:this.isRandomPlayerEnabled,isBigThumbsExists:this.isBigThumbsExists,flashPlayerConfig:this.flashPlayerConfig,forceDelayedInit:this.listPagePlayerForceDelayedInit}),this.getController().addComponent({component:this._listPagePlayerController,listeners:{"get-visible-free-models":"getVisibleFreeModels"}},"ListPagePlayer"))},getListPagePlayerView:function(){var e=this.listPagePlayerViewClassName;return!n.isFunction(e)||this._listPagePlayerView instanceof e||(this._listPagePlayerView=new e({element:this.element,model:this.setStreamPlayerModel(),flashPlayerConfig:this.flashPlayerConfig})),this._listPagePlayerView},onHashUpdate:function(){location.hash?m.saveScrollPosition():m.currentScrolling()},onVisibilityChange:function(){"visible"!==document.visibilityState||this._isTabActivated||(this._isTabActivated=!0,this._setController())},bind:function(){g.superclass.bind.call(this),n.on([{element:n.Broadcaster,event:i.History.GLOBALEVENT_HASH_UPDATE,handler:this.onHashUpdate}],this),(Ext.isChrome||Ext.isSafari||Ext.isEdge)&&"visible"!==document.visibilityState&&Ext.fly(document).on(i.BrowserEvents.VISIBILITY_CHANGE,this.onVisibilityChange,this,{single:!0})}})},"0619":function(e,t,r){var n=r("3414"),i=r("d869"),o=r("7ab0"),a=function(e){a.superclass.constructor.call(this,e)};e.exports=Ext.extend(a,n.Plugin,{name:i.AutoShowMore.NAME,pageSelector:".page",maxAutoLoadNum:3,offset:100,clientHeight:0,_showMoreEnabled:!1,_tempScrollTop:0,_autoLoadNum:0,direction:i.AutoShowMore.DIRECTION_DOWN,forceShowMore:!1,init:function(e){this.selectElements(),a.superclass.init.call(this,e),this.host.addEvents(i.AutoShowMore.EVENT_SHOW_MORE,i.AutoShowMore.EVENT_NO_MORE_AUTO_SHOW_MORE),this._getClientHeight(),this.reset()},selectElements:function(){return!1},getScrollContainerEl:function(){return this.view.element},reset:function(){this.view.element.removeClass(i.AutoShowMore.CLASS_SHOW_MORE_BUTTON_VISIBLE),this._autoLoadNum=0,this._tempScrollTop=0,this._showMoreEnabled=!0},_checkTriggerPoint:function(){return this.direction===i.AutoShowMore.DIRECTION_DOWN?this.getScrollContainerEl().dom.getBoundingClientRect().bottom-this.clientHeight<=this.offset:this.getScrollContainerEl().dom.getBoundingClientRect().top>=-this.offset},_isShowMoreNeeded:function(){var e=parseInt(n.getMeta(i.AutoShowMore.META_IS_SINGLE_PAGE),10),t=this.forceShowMore||0===e;return this._showMoreEnabled&&t&&this.isScrollDirectionCorrect()&&this._checkTriggerPoint()},isScrollDirectionCorrect:function(){return this.direction===i.AutoShowMore.DIRECTION_DOWN?this._currentScrollTop>=this._tempScrollTop:this._currentScrollTop<=this._tempScrollTop},showMore:function(){this._autoLoadNum<this.maxAutoLoadNum?(this._autoLoadNum++,this.host.fireEvent(i.AutoShowMore.EVENT_SHOW_MORE,this,this.host)):(this.host.fireEvent(i.AutoShowMore.EVENT_NO_MORE_AUTO_SHOW_MORE,this,this.host),this.view.element.addClass(i.AutoShowMore.CLASS_SHOW_MORE_BUTTON_VISIBLE))},getScrollTop:function(){return o.getScrollTop()},setShowMoreEnabled:function(e){this._showMoreEnabled=e},_onScroll:function(){this._currentScrollTop=this.getScrollTop(),this._isShowMoreNeeded()&&this.showMore(),this._tempScrollTop=this._currentScrollTop},_onLoadingStarted:function(){this._showMoreEnabled=!1},_onLoadingFinished:function(e){this._showMoreEnabled=!(e&&e.isLastPage)},_onShowMoreButtonClick:function(){this.reset()},_onReset:function(){this.reset()},_getClientHeight:function(){this.clientHeight=document.documentElement.clientHeight},onWindowResize:function(){return this._getClientHeight()},getScrollEl:function(){return Ext.isIE8||Ext.isIE7?Ext.fly(window):Ext.fly(document)},_onResetElements:function(){this.reset(),this.unbind(),this.selectElements(),this.bind()},_bindElements:function(){n.on(Ext.fly(window),"resize",this.onWindowResize,this)},bind:function(){n.on([{element:this.getScrollEl(),event:"scroll",handler:this._onScroll},{element:this.model,event:this.resetEvent,handler:this._onReset},{element:this.model,event:this.loadingStartedEvent,handler:this._onLoadingStarted},{element:this.model,event:this.loadingFinishedEvent,handler:this._onLoadingFinished},{element:this.view,event:this.showMoreButtonClickEvent,handler:this._onShowMoreButtonClick}],this),this.resetElementsEvent&&n.on(this.view,this.resetElementsEvent,this._onResetElements,this),this._bindElements(),a.superclass.bind.call(this)}})},"170d":function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("d869"),a=r.n(o),s=r("5aa8"),l=r.n(s),c=r("f94d");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,r,n,o=m(s);function s(){return f(this,s),o.apply(this,arguments)}return t=s,(r=[{key:"init",value:function(e,t){h(y(s.prototype),"init",this).call(this,e,t),this._createVideoContainer(),this.HTML5ListPagePlayerView.hideContainer()}},{key:"_createVideoContainer",value:function(){var e=this.OverlapView.createContainer();this.HTML5ListPagePlayerView.renderTo(e)}},{key:"stopVideo",value:function(){this.OverlapView.hideContainer(),l.a.isHTML5ListPagePlayerEnabled()&&c.default.instance.hideChat(),this.HTML5ListPagePlayerView.hideContainer()}},{key:"playVideo",value:function(e){l.a.isHTML5ListPagePlayerEnabled()&&c.default.instance.appletReady.then((function(){c.default.instance.playStreamByPerformerDetails(e,!0).catch((function(){}))}))}},{key:"playTeaser",value:function(e){this.HTML5ListPagePlayerView.playTeaser(e)}},{key:"stopTeaser",value:function(){this.HTML5ListPagePlayerView.stopTeaser()}},{key:"startPulse",value:function(e){this.OverlapView.showContainer(e),this.HTML5ListPagePlayerView.startPulse()}},{key:"stopPulse",value:function(){this.HTML5ListPagePlayerView.stopPulse()}},{key:"resetPulseLayer",value:function(){this.OverlapView.resetContainer()}},{key:"onFavoriteUpdateSuccess",value:function(e){e.command===a.a.FavoritesComponent.CONST_COMMAND_ADD?c.default.instance.markAsFavorite():c.default.instance.unmarkAsFavorite()}},{key:"getLayoutMode",value:function(){return c.default.instance.layoutMode}},{key:"bind",value:function(){i.a.on([{element:i.a.Broadcaster,event:a.a.FavoritesComponent.GLOBALEVENT_FAVORITE_UPDATE_SUCCESS,handler:this.onFavoriteUpdateSuccess,scope:this}])}},{key:"name",get:function(){return"HTML5ListPagePlayerController"}}])&&d(t.prototype,r),n&&d(t,n),s}(i.a.Controller);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var i=C(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(o,e);var t,r,n,i=w(o);function o(){return v(this,o),i.apply(this,arguments)}return t=o,(r=[{key:"stopPulse",value:function(){this._pulsingLayoutEl.hide()}},{key:"startPulse",value:function(){this._pulsingLayoutEl.show()}},{key:"setPulseLayout",value:function(){return this._pulsingLayoutEl||(this._pulsingLayoutEl=Ext.select("."+this.pulseOverlayCls).item(0)),this.stopPulse(),this._pulsingLayoutEl}},{key:"name",get:function(){return"PulseView"}},{key:"pulseOverlayCls",get:function(){return"pulse-overlay"}}])&&b(t.prototype,r),n&&b(t,n),o}(n.View),T=function(e){var t=e.src,r=e.attributes,n=e.badgeText;return'<div class="html5-list-page-player">\n\t\t<video '.concat(r,'>\n\t\t\t<source src="').concat(t,'" />\n\t\t</video>\n\t\t<span class="html5-list-page-player__badge">').concat(n,"</span>\n\t</div>")};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var i=k(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return M(this,r)}}function M(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=Symbol(),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(s,e);var t,r,n,o=R(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e))[N]=Ext.get(t.container),t}return t=s,(r=[{key:"seekVideo",value:function(e){this._video.dom.currentTime=e}},{key:"selectElements",value:function(){this._video=this._player.select("video").item(0)}},{key:"bindVideoEvents",value:function(){this._video.on("loadeddata",this.onVideoLoadedData.bind(this)),this._video.on("playing",this.onVideoPlaying.bind(this)),this._video.on("error",this.onVideoPlayError.bind(this))}},{key:"onVideoLoadedData",value:function(){this.seekVideo(this.startTime),this._video.dom.play()}},{key:"onVideoPlaying",value:function(){this._player.show(),this.stopPulse()}},{key:"onVideoPlayError",value:function(){this.stopPulse()}},{key:"showContainer",value:function(){l.a.isWin7IE11()?this[N].removeClass("minified"):this[N].display("block")}},{key:"hideContainer",value:function(){l.a.isWin7IE11()?this[N].addClass("minified"):this[N].display("none")}},{key:"renderTo",value:function(e){var t=T({src:this.blankSrc,attributes:'muted preload="none"',badgeText:i.a.translate("Video intro")});this._player=Ext.DomHelper.append(e,t,!0),this._player.hide(),this.setPulseLayout(),this.selectElements(),this.bindVideoEvents()}},{key:"onStreamReady",value:function(){this.showContainer(),this.stopPulse()}},{key:"playTeaser",value:function(e){this._setSource(e),this._video.dom.load()}},{key:"stopTeaser",value:function(){this._video.dom.pause(),this._setSource(this.blankSrc),this._player.hide()}},{key:"_setSource",value:function(e){this._video.select("source").item(0).dom.setAttribute("src",e)}},{key:"bind",value:function(){i.a.on([{element:i.a.Broadcaster,event:a.a.FlashExternal.GLOBALEVENT_APPLET_STREAM_READY,handler:this.onStreamReady}],this),A(k(s.prototype),"bind",this).call(this)}},{key:"name",get:function(){return"HTML5ListPagePlayerView"}},{key:"container",get:function(){return"member_client_container"}},{key:"id",get:function(){return"list-page-html5-video-container"}},{key:"blankSrc",get:function(){return"about:blank"}},{key:"startTime",get:function(){return 3}}])&&L(t.prototype,r),n&&L(t,n),s}(O);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=W(e);if(t){var i=W(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return G(this,r)}}function G(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(o,e);var t,r,n,i=H(o);function o(){return D(this,o),i.apply(this,arguments)}return t=o,(r=[{key:"createContainer",value:function(){return this._container||(this._container=Ext.select("."+this.containerClass).item(0)),this._container}},{key:"showContainer",value:function(e){this.setContainerDimensions(e).setContainerStyle()}},{key:"resetContainer",value:function(){this.top=0,this.left=0,this.width=0,this.height=0,this.setContainerStyle()}},{key:"setContainerDimensions",value:function(e){var t=e.getPosition(),r=e.getDimensions();return this.top=t.top,this.left=t.left,this.width=r.width,this.height=r.height,this}},{key:"setContainerStyle",value:function(){return this._container.removeClass(this.hideClass).setStyle({left:this.left+"px",top:this.top+"px",width:this.width+"px",height:this.height+"px"}),this}},{key:"hideContainer",value:function(){this._container.addClass(this.hideClass)}},{key:"name",get:function(){return"OverlapView"}},{key:"containerClass",get:function(){return"overlap-container"}},{key:"hideClass",get:function(){return l.a.isWin7IE11()?"minified":"hide"}}])&&j(t.prototype,r),n&&j(t,n),o}(n.View);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t,r){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Z(e);if(t){var i=Z(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return X(this,r)}}function X(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,e);var t,r,n,i=J(o);function o(){return K(this,o),i.apply(this,arguments)}return t=o,(r=[{key:"init",value:function(e,t){Q(Z(o.prototype),"init",this).call(this,e,t),this._createController()}},{key:"getLayoutMode",value:function(){return this.getController().getLayoutMode()}},{key:"_createController",value:function(){this._HTML5ListPagePlayerController=new _({el:this.element,items:{HTML5ListPagePlayerView:{component:this._createHTML5ListPagePlayerView()},OverlapView:{component:this._createOverlapView()}}})}},{key:"getController",value:function(){return this._HTML5ListPagePlayerController instanceof _||this._createController(),this._HTML5ListPagePlayerController}},{key:"_createOverlapView",value:function(){return this._OverlapView instanceof U||(this._OverlapView=new U({id:this.listPagePlayerId})),this._OverlapView}},{key:"_createHTML5ListPagePlayerView",value:function(){return this._HTML5ListPagePlayerView instanceof x||(this._HTML5ListPagePlayerView=new x({id:this.element.dom.id})),this._HTML5ListPagePlayerView}},{key:"stopVideo",value:function(){this.getController().stopVideo()}},{key:"startPulse",value:function(e){this.getController().startPulse(e)}},{key:"stopPulse",value:function(){this.getController().stopPulse()}},{key:"resetPulseLayer",value:function(){this.getController().resetPulseLayer()}},{key:"playVideo",value:function(e){this.getController().playVideo(e)}},{key:"playTeaser",value:function(e){this.getController().playTeaser(e)}},{key:"stopTeaser",value:function(){this.getController().stopTeaser()}},{key:"name",get:function(){return"HTML5ListPagePlayerComponent"}},{key:"listPagePlayerId",get:function(){return"listpage_player"}}])&&Y(t.prototype,r),n&&Y(t,n),o}(i.a.Component);t.default=$},"1e4a":function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("15b9"),a=r("7ab0"),s=r.n(a),l=r("a9a1"),c=r("d869"),u=r.n(c),f=r("0592"),d=r("00a1"),h=r.n(d),p=function e(t,r){e.superclass.constructor.call(this,t,r)};Ext.extend(p,i.a.Page,{name:"listPageAbstract",layout:null,id:"",memberAppletContainerIsEmbedded:!1,embedListPagePlayerEmbedded:!1,freeChatId:"freechat",favoriteBtnId:"favorite_button",listpageId:"listpage",listpageContainerId:"listpage_container",chatAppletId:"chatapplet",dataAttributeForListPagePlayer:!1,listPageComponentName:h.a,forceDelayedLPPInit:!1,animateImageOnLoad:!1,isRandomPlayerEnabled:!1,isPerformerSwapEnabled:!1,freeChatContainerId:"freechat_container",freeChatOverlayName:"FreeChat",memberChatPerformerStatus:"memberChat",freeChatPerformerStatus:"freeChat",offlinePerformerStatus:"offline",paymentModalComponent:"PaymentModalComponent",overlayContainerId:"overlay_container",overlayId:"overlay",_ajaxListPageRefreshCounter:0,_showMoreJsonQueryParams:{},_onLogoClickRefresh:void 0,init:function(e,t){var n=this;p.superclass.init.call(this,e,t),r.e(7).then(r.bind(null,"ddd5")).then((function(e){e.default.getComponent().then((function(e){n._chatComponent=e})).catch(console.error)})),this.addEvents(u.a.ListPageAbstract.EVENT_SUCCESS_REFRESH_LISTPAGE,u.a.ListPageAbstract.EVENT_SHOW_ONLINE_FAVORITES_COUNT),i.a.addEvents(u.a.ListPageAbstract.GLOBALEVENT_DO_INIT_LISTPAGE,u.a.ListPageAbstract.GLOBALEVENT_REFRESH_LISTPAGE),this.isLogoutPopupNeeded()&&f.default.navigate("loggedout",{trigger:!0,replace:!1,preventNavigateBack:!0}),this.isRedirected(),Ext.fly(this.listpageContainerId)&&this.initListPage(!1),this.searchAndDestroyToolbar()},isLogoutPopupNeeded:function(){return i.a.Config.get("isMobileLogoutOverlayEnabled",!0)&&1===parseInt(i.a.Cookie.get("logout"),10)},searchAndDestroyToolbar:function(){Ext.select(".apn-toolbar").item(0)&&(Ext.select("html").item(0).addClass("ask_killer"),Ext.select(".apn-toolbar").item(0).remove())},isRedirected:function(){i.a.getMeta("showPerformer")&&this.fastEmbedding()},initListPage:function(e){!Ext.fly(this.listpageId)||this.listPage instanceof this.listPageComponentName?e&&(this.listPage.unbind(),delete this.listPage,this.initListPage(!1)):this.listPage=new this.listPageComponentName(this.listpageId,{contentId:"listpage_",showMoreBtnId:"show_more_btn",isRandomPlayerEnabled:this.isRandomPlayerEnabled,flashPlayerConfig:{appendToId:"listpage_player",objectId:"ListPagePlayer",objectName:"ListPagePlayer",url:i.a.Config.get("listPagePlayerUrl"),flashVars:i.a.Config.get("listPagePlayerFlashVars"),params:{allowScriptAccess:"always",allowFullScreen:"true",scale:"noscale",quality:"high",wmode:"transparent",menu:"false",bgcolor:"#000000"}}})},onAppletTypeWillChange:function(){this.modelContentComponent&&(this.modelContentComponent.destroy(),delete this.modelContentComponent)},onStatusChange:function(e){var t=e.header;l.store.dispatch(Object(o.b)(t)),i.a.fireEvent(u.a.BasicController.GLOBALEVENT_GLOBAL_STATUS_CHANGE,{statuses:t})},onModalClosed:function(e){e.scope.name===u.a.LoggedOutModalComponent.NAME&&setTimeout(function(){this.showFlashWarningPopup()}.bind(this),0)},onSetScroll:function(e){s.a.disableScroll(e.disable)},reloadPage:function(){window.location.reload()},bind:function(){p.superclass.bind.call(this),i.a.on([{element:i.a.Broadcaster,event:u.a.BasicLayout.GLOBALEVENT_SET_SCROLL,handler:this.onSetScroll},{element:i.a.Broadcaster,event:u.a.JawsNotificationsComponent.GLOBALEVENT_PERFORMER_STATUS_CHANGE,handler:this.onStatusChange},{element:i.a.Broadcaster,event:u.a.FlashChatPageControllerAbstract.GLOBALEVENT_APPLET_TYPE_WILL_CHANGE,handler:this.onAppletTypeWillChange}],this)}}),t.default=p},"20d3":function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("d869"),a=r.n(o),s=r("8c3d"),l=r.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,e);var t=p(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).performerId=e.id,n.imageLinks=e.imageLinks,n.preloadedImages=e.preloadedImages,n.delay=e.delay||2e3,n.activeSlide=1,n}return d(r,[{key:"name",get:function(){return"ListPageGalleryView"}},{key:"galleryClassName",get:function(){return"list-page-gallery"}},{key:"wrapImageClassName",get:function(){return"list-page-gallery__wrap"}},{key:"nextClassName",get:function(){return"next"}},{key:"activeClassName",get:function(){return"active"}},{key:"badgeText",get:function(){return i.a.translate("gallery")}},{key:"badgeClassName",get:function(){return"list-page-gallery__badge"}},{key:"parentActiveClassName",get:function(){return"lpp_playing"}}]),d(r,[{key:"init",value:function(){u(g(r.prototype),"init",this).call(this),this.element=Ext.DomHelper.append(this.element,{tag:"div",cls:this.galleryClassName},!0),this.element.hide(),this.setBadge()}},{key:"setBadge",value:function(){Ext.DomHelper.append(this.element.id,{tag:"span",cls:this.badgeClassName,html:this.badgeText})}},{key:"startSlideShow",value:function(){return new Promise(this.play.bind(this))}},{key:"play",value:function(e){(i.a.isNaN(this.activeSlide)||this.activeSlide>=this.imageLinks.length)&&(this.activeSlide=0),this.element.parent().hasClass(this.parentActiveClassName)?0!==this.imageLinks.length?this.canShowNextSlider()?(this.setActiveSlide(e),e({message:a.a.ListPageGalleryComponent.MESSAGE_READY_TO_PLAY})):this.preloadNextImage(e):e({message:a.a.ListPageGalleryComponent.MESSAGE_NO_IMAGES}):e({message:a.a.ListPageGalleryComponent.MESSAGE_VIEW_IS_NOT_ACTIVE})}},{key:"stop",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.element.hide(),this.clearActiveClasses())}},{key:"clearActiveClasses",value:function(){this.select(".".concat(this.activeClassName)).removeClass(this.activeClassName),this.select(".".concat(this.nextClassName)).removeClass(this.nextClassName)}},{key:"setActiveSlide",value:function(e){var t=this;this.element.show(),this.select(".".concat(this.activeClassName)).removeClass(this.activeClassName),this.select(".".concat(this.nextClassName)).addClass(this.activeClassName).removeClass(this.nextClassName),this.select(".".concat(this.wrapImageClassName)).item(this.activeSlide).addClass(this.nextClassName),this.timeout=setTimeout((function(){t.activeSlide++,t.play(e)}),this.delay)}},{key:"canShowNextSlider",value:function(){return this.preloadedImages===this.imageLinks.length||this.preloadedImages>this.activeSlide+1}},{key:"preloadNextImage",value:function(e){var t=this.imageLinks[this.preloadedImages],r=this.onImageLoad(e);l.a.preload(t,r.bind(this))}},{key:"onImageLoad",value:function(e){var t=this;return function(r,n){r?t.imageLinks.splice(t.preloadedImages,1):(t.appendImage(n.src),t.preloadedImages++),t.play(e)}}},{key:"appendImage",value:function(e){Ext.DomHelper.append(this.element.id,{tag:"div",cls:this.wrapImageClassName,html:'<img src="'.concat(e,'" />')})}}]),r}(i.a.View);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var i=C(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,r,n,o=w(a);function a(){return P(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"init",value:function(e,t){b(C(a.prototype),"init",this).call(this,e,t),this._views=[]}},{key:"getPerformerGallery",value:function(e){return this.ListPageGalleryModel.getPerformerData(e).then(this.showGallery.bind(this)).catch(i.a.noop)}},{key:"getView",value:function(e){return this._views[e._id]||(this._views[e._id]=new y(e)),this._views[e._id]}},{key:"showGallery",value:function(e){var t=this.getView(Object.assign(e,{id:e._id}));return this.activeModelId=e._id,t.startSlideShow()}},{key:"stopSlideShow",value:function(){var e=this._views[this.activeModelId];e&&(e.stop(),this.activeModelId=null)}},{key:"destroyView",value:function(e){this._views[e]&&(this._views[e].destroy(),delete this._views[e])}},{key:"name",get:function(){return"ListPageGalleryController"}}])&&v(t.prototype,r),n&&v(t,n),a}(i.a.Controller),T=r("5f9e"),I=r.n(T);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var i=x(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return N(this,r)}}function N(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,r,n,o=k(a);function a(){return A(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"init",value:function(){R(x(a.prototype),"init",this).call(this),this.store={scope:this}}},{key:"saveToStore",value:function(e,t){return this.store[e]=t,t}},{key:"getFromStore",value:function(e){return this.store[e]}},{key:"getUrl",value:function(e){var t=e.performerName,r=e.isBigPicture;return i.a.getUrl(this.getThumbnailSlideShowImageUrl,{performerName:t,isBigPicture:r,layoutSize:"large"})}},{key:"isBigImage",value:function(e){return e===this.bigImageSizeCls?1:0}},{key:"sendRequest",value:function(e){var t=this;return new Promise((function(r,n){I.a.request({url:e,scope:t,method:"GET",type:"json",success:r,error:n,failure:n})}))}},{key:"getPerformerData",value:function(e){var t=this;return new Promise((function(r){e||reject();var n=e.model.getName(),i=t.isBigImage(e.model.getSize()),o=t.getFromStore(n),a=t.getUrl({performerName:n,isBigPicture:i}),s=e.element.id;o?r(o):t.sendRequest(a).then((function(e){return r(t.onSuccessResponse(e,s))}))}))}},{key:"onSuccessResponse",value:function(e,t){var r=e.json.data,n=r.modelName,i=r.imageLinks;return this.saveToStore(n,{_id:t,imageLinks:i,preloadedImages:0})}},{key:"name",get:function(){return"ListPageGalleryModel"}},{key:"getThumbnailSlideShowImageUrl",get:function(){return"ListPageSlideShow/Get"}}])&&V(t.prototype,r),n&&V(t,n),a}(i.a.Model);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t,r){return(H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=z(e);if(t){var i=z(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return U(this,r)}}function U(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(o,e);var t,r,n,i=W(o);function o(){return j(this,o),i.apply(this,arguments)}return t=o,(r=[{key:"init",value:function(e,t){H(z(o.prototype),"init",this).call(this,e,t),this._createController()}},{key:"_createController",value:function(){this._ListPageGalleryController=new O({el:this.element,items:{ListPageGalleryModel:{component:this._getListPageGalleryModel()}}})}},{key:"getController",value:function(){return this._ListPageGalleryController instanceof O||this._createController(),this._ListPageGalleryController}},{key:"_getListPageGalleryModel",value:function(){return this._ListPageGalleryModel instanceof B||(this._ListPageGalleryModel=new B),this._ListPageGalleryModel}},{key:"startSlideShow",value:function(e){return this.getController().getPerformerGallery(e)}},{key:"stopSlideShow",value:function(e){this.getController().stopSlideShow(e)}},{key:"name",get:function(){return"ListPageGalleryComponent"}}])&&F(t.prototype,r),n&&F(t,n),o}(i.a.Component);t.default=K},2809:function(e,t,r){var n=r("3414"),i=r("d869"),o=function(e,t){o.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(o,n.Component,{name:"PerformerSwapModel",swapRouteHandler:"",ajaxQueue:null,_swappedPerformers:[],init:function(e,t){o.superclass.init.call(this,e,t)},_onChangeListPageId:function(){this._swappedPerformers=[]},setSwappedPerformers:function(e){this._swappedPerformers=n.union(this._swappedPerformers,e)},sendRequest:function(e,t){t=t||{};var r=n.getMeta("listPageId"),o=n.getUrl(this.swapRouteHandler,{listPageId:r},{});this.ajaxQueue.request({type:"json",url:o,params:{performers:Ext.encode(e),swapped:Ext.encode(this._swappedPerformers),applyAdditionalFilters:t.applyAdditionalFilters?1:0},method:"POST",scope:this,success:function(e){if(e.json.data.listPage.id!==r.toString())return window.location.reload();this.fireEvent(i.PerformerSwapModel.EVENT_REQUEST_SUCCESS,{response:e,options:t})},error:function(e){this.fireEvent(i.PerformerSwapModel.EVENT_REQUEST_ERROR,{response:e,options:t})}})},bind:function(){o.superclass.bind.call(this),n.on(n.Broadcaster,i.ListPageModelAbstract.GLOBALEVENT_CHANGE_LIST_PAGE_ID,this._onChangeListPageId,this)}})},3432:function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("d869"),a=r.n(o),s=r("a9a1"),l=r("870e"),c=function e(t,r){e.superclass.constructor.call(this,t,r)};c.getInstance=function(){return c.prototype.instance instanceof c||(c.prototype.instance=new c(Ext.getBody(),{})),c.prototype.instance},t.default=Ext.extend(c,i.a.Component,{name:"LayoutSwitcherComponent",thumbnailSizeButtonsSel:".thumbnail_btn",gridSizeButton:{},sizes:["small","medium","large"],init:function(e,t){c.superclass.init.call(this,e,t);i.a.Cookie.get("gridSize")||i.a.Config.get("gridSize");this.gridSizeButton={all:Ext.getBody().select(this.thumbnailSizeButtonsSel),small:Ext.getBody().select("".concat(this.thumbnailSizeButtonsSel,"[data-size=small]")).item(0),medium:Ext.getBody().select("".concat(this.thumbnailSizeButtonsSel,"[data-size=medium]")).item(0),large:Ext.getBody().select("".concat(this.thumbnailSizeButtonsSel,"[data-size=large]")).item(0)}},setGridSize:function(e){var t=Ext.fly("inner_container");s.store.dispatch(Object(l.setGridLayout)(e)),i.a.each(this.sizes,(function(e){t.removeClass("grid--".concat(e))})),t.addClass("grid--".concat(e)),this.gridSizeButton.all&&this.gridSizeButton.all.removeClass("selected"),this.gridSizeButton[e]&&this.gridSizeButton[e].addClass("selected"),_jasminLazyLoad.update();try{i.a.Cookie.set("gridSize",e,"/"),window.localStorage.setItem("gridSize",e)}catch(e){i.a.Config.set("gridSize")}},onThumbnailSizeButtonsClick:function(e,t){var r=Ext.get(t).data("size");i.a.fireEvent(a.a.IndexIndex.GLOBALEVENT_THUMBNAIL_SIZE_BUTTON_CLICK,this),this.setGridSize(r)},bind:function(){c.superclass.bind.call(this),i.a.on([{element:Ext.getBody(),event:"click",handler:this.onThumbnailSizeButtonsClick,options:{delegate:this.thumbnailSizeButtonsSel}}],this)}})},"3b17":function(e,t,r){var n=r("7b09"),i=function(e){i.superclass.constructor.call(this,e)};e.exports=Ext.extend(i,n,{name:"ImageWithoutAnchorTemplate",commercialImageUrl:"listpage",commercialImageId:"commercial",tpl:'<div id="container_{id}" class="{containerClass} commercial_container"><img src="{src}" alt /></div>',_setTemplateParams:function(e){return{containerClass:e.size,id:e.id,src:e.commercialImageUrl}}})},4228:function(e,t,r){var n=r("d30b").default,i=r("7ab0"),o=function(e){o.superclass.constructor.call(this,e)};e.exports=Ext.extend(o,n,{name:"HistoryTemplate",tpl:'<article id="{id}" class="{containerClass} {hasVideoCall}" data-status="{dataStatus}">{imageBlock}<a href="{href}" rev="{rev}">{debugText}<span class="protip favorite {isFavorite}" data-model-id="{favoriteId}" data-pt-auto-hide="2000" data-pt-classes="favorite_protip" data-pt-gravity="right 5" data-pt-size="tiny" data-pt-trigger="sticky" data-pt-arrow="false"><span class="broken-heart"><i>'+i.svgIconBlock("heart-broken-left")+"</i><i>"+i.svgIconBlock("heart-broken-right")+'</i></span></span><span class="history_status history_type">{historyType}</span><span class="history_status history_time">{historyTime}</span>{rightBottomBadge}<span class="performer_name">{displayName}</span>{badgeBlock}{videoBadgeBlock}</a></article>',getImageBlock:function(e,t,r){var n=Ext.isEdge?"":'<source srcset="'+t+'" type="image/webp">',o='<picture class="cover">'+n+'<img src="'+e+'" class="cover" alt="'+r+'"></picture>';return i.isHokkaido()&&(o='<picture class="cover">'+(n=Ext.isEdge?"":'<source data-srcset="'+t+'" type="image/webp">')+'<img src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7" data-src="'+e.replace(".webp",".{ext}")+'" class="cover performer-image" alt="'+r+'"></picture>'),o},_setTemplateParams:function(e){return Ext.apply(o.superclass._setTemplateParams.call(this,e),{historyType:e.lastHistoryEventTimeMessage,historyTime:e.lastHistoryEventType})}})},4388:function(e,t){var r="can_use_webp";!function(){if(window.localStorage&&"object"==typeof localStorage&&(!localStorage.getItem(r)||"available"!==localStorage.getItem(r)&&"disable"!==localStorage.getItem(r))){var e=document.createElement("img");e.onload=function(){try{localStorage.setItem(r,"available")}catch(e){}},e.onerror=function(){try{localStorage.setItem(r,"disable")}catch(e){}},e.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="}}(),e.exports=function(){return!!window.localStorage&&"available"===window.localStorage.getItem(r)}},"4daa":function(e,t,r){var n=r("3414"),i=r("d869"),o=r("7ab0"),a=(r("9b72"),r("a9a1").store),s=r("870e").swapPerformers,l=function(e){l.superclass.constructor.call(this,e)};e.exports=Ext.extend(l,n.Plugin,{name:i.PerformerSwap.NAME,animDuration:.2,animDelay:200,animDelayDivisor:1e3,showDuration:.2,template:null,perfImgSel:"img",badImgWidth:2,badImgHeight:2,_prevHideAnimationEndTime:0,init:function(e){l.superclass.init.call(this,e),this.host.addEvents(i.PerformerSwap.EVENT_SWAPPED_PERFORMERS,i.PerformerSwap.DESTROY_PERFORMER)},_onPerformerSwap:function(e){var t=n.map(e,(function(e,t){var r,i=this.view.model.createPerformerModelFromData(e),o=this.view.createPerformerView(i).setZeroOpacity(),a={oldPerformerId:t,newPerformerView:o},s=i.getProfilePictureUrl();return n.isUndefined(o.element)?null:(s?((r=new Image).onload=n.bind(this._onPerformerImageLoaded,this,a,r),r.src=s):this._hideAndReplaceBoxesAnimated(a),t)}),this);t.length&&this.host.fireEvent(i.PerformerSwap.EVENT_SWAPPED_PERFORMERS,t)},_onPerformerSwapWithLastPerformer:function(e){var t={oldPerformerId:e.swapPerformerID,newPerformerView:e.lastPerformerView,callback:function(){this.host.fireEvent(i.PerformerSwap.DESTROY_PERFORMER,e.swapPerformerID)}};this._hideAndReplaceBoxesAnimated(t)},_onPerformerImageLoaded:function(e,t){this._isGoodImgDimensions(t)&&this._hideAndReplaceBoxesAnimated(e)},_hideAndReplaceBoxesAnimated:function(e){if(n.hasPath(e,"oldPerformerId")&&n.hasPath(e,"newPerformerView")){var t=this.view.getPerformerViewById(e.oldPerformerId);if(!n.isDefined(t))return;TweenLite.to(t.element.dom,this.animDuration,{delay:this._setHideDelay(),autoAlpha:0,onCompleteScope:this,onComplete:function(){t.setZeroOpacity().replaceWith(e.newPerformerView),this._showBoxAnimated(e.newPerformerView),o.updateLazy(),"function"==typeof e.callback&&e.callback.call(this),this.updateStore(e)}})}},updateStore:function(e){var t=parseInt(e.oldPerformerId,10),r=e.newPerformerView.model.attributes;a.dispatch(s({oldPerformerId:t,newPerformerData:r}))},_showBoxAnimated:function(e){TweenLite.to(e.element.dom,this.animDuration,{autoAlpha:1})},_setHideDelay:function(){var e=(new Date).getTime(),t=e-this._prevHideAnimationEndTime,r=this.animDelay/this.animDelayDivisor;return t>=this.animDelay?(this._prevHideAnimationEndTime=e,r):(this._prevHideAnimationEndTime+=this.animDelay,Math.abs(t)/this.animDelayDivisor+r)},_isGoodImgDimensions:function(e){return!(e.width===this.badImgWidth&&e.height===this.badImgHeight)},bind:function(){l.superclass.bind.call(this),this.host.on(i.ListPageControllerAbstract.EVENT_PERFORMER_SWAP,this._onPerformerSwap,this),this.host.on(i.ListPageControllerAbstract.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,this._onPerformerSwapWithLastPerformer,this)},unbind:function(){l.superclass.unbind.call(this),this.host.un(i.ListPageControllerAbstract.EVENT_PERFORMER_SWAP,this._onPerformerSwap,this),this.host.on(i.ListPageControllerAbstract.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,this._onPerformerSwapWithLastPerformer,this)}})},"68b3":function(e,t,r){var n=r("3414"),i=r("d869"),o=function(e){o.superclass.constructor.call(this,e)};e.exports=Ext.extend(o,n.View,{name:"ListPageItemViewAbstract",itemImageSel:"img",imageLoadingClass:"image_loading",imageLoadedClass:"image_loaded",visibleListPageSel:"section.page.showless.visible",visibleListPageEl:null,init:function(){this.addEvents(i.ListPageItemViewAbstract.EVENT_VIEW_REPLACED),o.superclass.init.call(this),this.visibleListPageEl=Ext.select(this.visibleListPageSel).item(0),this.element&&(this._selectElements(),this._bindElements())},_selectElements:function(){},setCurrentOrder:function(e){this.element&&this.element.data("order",e)},setZeroOpacity:function(){return this.element&&this.element.setStyle("opacity",0),this},_checkInVisibleListPage:function(){this.element.dom.parentNode||this.visibleListPageEl.appendChild(this.element)},replaceWith:function(e){return this.element&&(this._checkInVisibleListPage(),this.element.replaceWith(e.element),delete this.element,e.checkIfIsOnViewPort(),this.fireEvent(i.ListPageItemViewAbstract.EVENT_VIEW_REPLACED,{oldPerformerView:this,newPerformerView:e})),this},_setImageOnLoad:function(e){var t=this.getItemImage();if(t){var r=n.isDefined(e)?e:t.dom.src,i=n.bind((function(){o=null,this.element.removeClass(this.imageLoadingClass).addClass(this.imageLoadedClass)}),this);try{var o=new Image;t.dom.complete?this.element.addClass(this.imageLoadedClass):(this.element.addClass(this.imageLoadingClass),o.onload=i,o.onerror=i,o.src=r)}catch(e){console.error("Set image on load error.",e.stack)}}},getItemImage:function(){return this._itemImage||(this._itemImage=this.select(this.itemImageSel).item(0)),this._itemImage},_bindElements:function(){},_unBindElements:function(){},checkIfIsOnViewPort:function(){},bind:function(){o.superclass.bind.call(this)},unbind:function(){o.superclass.unbind.call(this),this._unBindElements()}})},"768e":function(e,t,r){var n=r("3414"),i=r("d869"),o=r("7ab0"),a=r("1cab").default,s=r("38863").setSurveyPostponed,l=r("38863").resetPostponedSurvey,c=function(e,t){c.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(c,n.Controller,{name:"ListPageControllerAbstract",performersConfig:"listPagePerformers",newSorterId:"order_list",newSorterDataAttribute:"data-action",newSorterDataAction:"my_rating",_newSorterEl:void 0,_newSorterObject:{tag:"li",cls:"menu_item",children:[{tag:"a",cls:"item_text ordering filter_item",id:"order_my_rating",html:n.translate("My Rating")}]},init:function(e,t){c.superclass.init.call(this,e,t),this.ListPageModel.setPerformerDetailsOnInit(this.getPerformerDataObject()),this._newSorterEl=Ext.get(this.newSorterId),this.addEvents(i.ListPageModelAbstract.EVENT_DESTROY_ALL,i.ListPageControllerAbstract.EVENT_VISIBLE_FREE_MODELS_READY,i.ListPageControllerAbstract.EVENT_VISIBLE_MODELS_READY,i.ListPageControllerAbstract.EVENT_PERFORMER_SWAP,i.ListPageControllerAbstract.EVENT_VIEW_MOUSEOVER,i.ListPageControllerAbstract.EVENT_VIEW_MOUSEOUT,i.ListPageControllerAbstract.GET_ALL_PERFORMERS_READY)},getPerformerDataObject:function(){return n.Config.get(this.performersConfig)},getVisibleFreeModels:function(){this.ListPageModel.getVisibleFreeModels()},getVisiblePerformers:function(){this.ListPageModel.getVisibleModels()},getAllPerformers:function(){this.ListPageModel.getAllPerformers()},onVisibleFreeModelsReady:function(e){var t=n.map(e,(function(e){return this.ListPageView.getPerformerViewById(e)}),this);this.fireEvent(i.ListPageControllerAbstract.EVENT_VISIBLE_FREE_MODELS_READY,t)},onVisibleModelsReady:function(e){var t=n.map(e,(function(e){return this.ListPageView.getPerformerViewById(e.getId())}),this);this.fireEvent(i.ListPageControllerAbstract.EVENT_VISIBLE_MODELS_READY,t)},onGetAllPerformersReady:function(e){var t=n.map(e,(function(e){return this.ListPageView.getPerformerViewById(e.getId())}),this);this.fireEvent(i.ListPageControllerAbstract.GET_ALL_PERFORMERS_READY,t)},onPerformerViewMouseOver:function(e){this.fireEvent(i.ListPageControllerAbstract.EVENT_VIEW_MOUSEOVER,e)},onPerformerViewMouseOut:function(e){this.fireEvent(i.ListPageControllerAbstract.EVENT_VIEW_MOUSEOUT,e)},onShowMore:function(){this.ListPageModel.getNextPage()},onStatusChange:function(e){this.ListPageModel.setNewStatuses(e.statuses)},onPerformerDetailsChange:function(e){this.ListPageModel.setExclusivePrivateStatus(e.body.performerId,e.body.inExclusivePrivate)},onRefreshListPage:function(e){this.ListPagePlayer&&this.ListPagePlayer.resetRandomPlayer(),o.setCursor("wait"),this.ListPageModel.setShowMoreJsonQueryParams(e).refreshListPage()},onSearchResults:function(e){n.isObject(e)&&(this.ListPagePlayer&&this.ListPagePlayer.resetRandomPlayer(),this.ListPageModel.refreshListPageFromSearch(e))},onPerformerSwap:function(e){this.fireEvent(i.ListPageControllerAbstract.EVENT_PERFORMER_SWAP,e)},onPerformerSwapLast:function(e){this.fireEvent(i.ListPageControllerAbstract.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,e)},onAjaxSearchPageOn:function(){n.isDefined(this.PerformerSwap)&&this.PerformerSwap.disableSwapping(),n.setMeta("isSearchPage",1)},onAjaxSearchPageOff:function(){n.setMeta("isSearchPage",0),n.isDefined(this.PerformerSwap)&&this.PerformerSwap.enableSwapping()},onAjaxInProgress:function(){},onAjaxFinished:function(){},onFirstBillComplete:function(){},onLuckyWheelSpun:function(){},onCommercialCountdownEnd:function(){},onAppletQuickBuySuccess:function(){},onLoggedIn:function(){a.setUserAction(a.CONST.ACTION.LOGIN),this._setNewSorter(),l()},onSignUpSuccess:function(){a.setUserAction(a.CONST.ACTION.SIGNUP),this._setNewSorter(),s()},onQuickBuySuccess:function(){},onListPageCommercialABTest:function(){},_setNewSorter:function(){this._newSorterEl&&Ext.DomHelper.append(this._newSorterEl,this._newSorterObject).setAttribute(this.newSorterDataAttribute,this.newSorterDataAction)},onShowMoreError:function(){this.ListPageView.showMoreError()},onDestroyAll:function(){this.ListPagePlayer&&this.ListPagePlayer.resetRandomPlayer()},bind:function(){c.superclass.bind.call(this),this.on(i.AutoShowMore.EVENT_SHOW_MORE,this.onShowMore,this)},unbind:function(){c.superclass.unbind.call(this),this.un(i.AutoShowMore.EVENT_SHOW_MORE,this.onShowMore,this)}})},"768e7":function(e,t,r){"use strict";var n=r("8af1"),i=r.n(n),o=r("3414"),a=r.n(o),s=r("d869"),l=r.n(s),c=r("0a81"),u=r("0b3c"),f=r("e6c0"),d=Object(u.e)(["0%,50%,100%{transform:scale(0.8);}17%{transform:scale(0.7);}33%,75%{transform:scale(1);}"]),h=(Object(u.e)(["0%,100%{transform:scale(0.8);}25%{transform:scale(0.7);}"]),Object(u.e)(["60%{transform:translate3d(-5px,0,0) rotate(-10deg);}65%{opacity:1;}100%{transform:translate3d(-6px,0,0) rotate(-15deg);opacity:0;}"])),p=Object(u.e)(["60%{transform:translate3d(5px,0,0) rotate(10deg);}65%{opacity:1;}100%{transform:translate3d(6px,0,0) rotate(15deg);opacity:0;}"]),m=Object(u.c)(["animation:"," 1s linear;"],d),g=Object(u.c)(["animation:heart-single-pulse 0.2s ease;.svgicon-heart-broken-left{animation:"," 1s ease 0.2s;}.svgicon-heart-broken-right{animation:"," 1s ease 0.2s;}"],h,p),y=Object(u.c)(["&:after{content:'';background:rgba(0,0,0,0.8);position:absolute;width:100%;height:100%;left:-2px;top:-2px;padding:2px;border-radius:4px;}"]),_=Object(u.d)(f.a).withConfig({displayName:"styledFavoriteButtones6__HeartIcon",componentId:"vxort4-0"})(["position:absolute;color:#ffcc00;"]),P=u.d.span.withConfig({displayName:"styledFavoriteButtones6__BrokenHeart",componentId:"vxort4-1"})(["visibility:",";backface-visibility:hidden;transform:scale(0.8);display:block;width:100%;height:100%;overflow:visible;position:absolute;",";.svgicon-heart-broken-right{left:9px;}.svgicon-heart-broken-left{left:0;}i{.svgicon-heart-broken-right,.svgicon-heart-broken-left{color:",";transition:color 1s ease-in;z-index:2;}}",""],(function(e){return e.active?"visible!important":"hidden"}),(function(e){var t=e.action;if("none"!==t)return"added"===t?m:g}),(function(e){return e.active?"#FFCC00":"#ffffff"}),(function(e){return e.background&&y})),v=u.d.span.withConfig({displayName:"styledFavoriteButtones6__HeartWithText",componentId:"vxort4-2"})(["visibility:visible !important;width:100%;height:100%;z-index:",";color:",";font-size:20px;display:inline-block;> i{color:",";}"],(function(e){return e.zIndex}),(function(e){return e.active?"#fc0!important":"#f99!important"}),(function(e){return e.active?"#fc0!important":"#f99!important"})),b=r("7ab0"),E=r.n(b),w=r("6097"),S=function(e){var t=a.a.getUrl("Favourite/AddFavourite",{},{performerId:e},"");return new Promise((function(e,r){w.a.post(t,{session:E.a.getSessionId()}).then((function(t){return e(t.data)})).catch((function(e){return r(e)}))}))},C=function(e){var t=a.a.getUrl("Favourite/DeleteFavourite",{},{performerId:e},"");return new Promise((function(e,r){w.a.post(t,{session:E.a.getSessionId()}).then((function(t){return e(t.data)})).catch((function(e){return r(e)}))}))},O=r("e67d"),T=r("8a2d"),I=r("c2d1"),L=r("791c");function A(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function V(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){A(o,n,i,a,s,"next",e)}function s(e){A(o,n,i,a,s,"throw",e)}a(void 0)}))}}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){var t=e.performerId,r=e.performerNick,o=e.displayName,s=e.status,u=e.showTooltipCallback,d=e.background,h=e.zIndex,p=e.withText,m=void 0!==p&&p,g=Object(c.d)(),y=Object(c.e)((function(e){return e.user.favorites&&!!e.user.favorites[t]})),b=Object(c.e)((function(e){return e.user.favorites?Object.keys(e.user.favorites).length:null})),E=Object(c.e)((function(e){return e.elite})),w=R(Object(n.useState)("none"),2),T=w[0],A=w[1],M=R(Object(n.useState)(!1),2),k=M[0],N=M[1],x=Object(n.useRef)(0),B=function(){var e=V(regeneratorRuntime.mark((function e(t){var r,n,i,o,s,c,f,d,h,p,m,g,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=y?C:S,s=y?"removed":"added",c=y?a.a.translate("Removed from favorites"):a.a.translate("Added to favorites"),f=a.a.translate("No more free slots"),d=a.a.translate("There was an error"),h=a.a.translate("Only for Members"),p="active"!==(null==E||null===(r=E.profile)||void 0===r?void 0:r.status),m=(null==E||null===(n=E.profile)||void 0===n||null===(i=n.level)||void 0===i?void 0:i.id)===E.levels[E.levels.length-1].id,g=null==E?void 0:E.levels.find((function(e){return e.benefits.favorites_limit>b})),e.next=11,o(t);case 11:return _=e.sent,e.abrupt("return",new Promise((function(e,t){switch(_.status){case l.a.FavoritesComponent.STATUS_OK:u(c),e(s),a.a.fireEvent(l.a.FavoritesComponent.GLOBALEVENT_FAVORITE_UPDATE_SUCCESS,{command:s});break;case l.a.FavoritesComponent.STATUS_ERROR_LOGIN:u(h),e(_.status);break;case l.a.FavoritesComponent.STATUS_FULL_LIST:if(e(_.status),!Object(I.b)()||p||m){u(f);break}u(a.a.translate("Become {levelName} to add more favorites",{levelName:g.name}));break;default:u(d),e(_.status)}})));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return function(){x.current&&clearTimeout(x.current)}}),[]);var D=function(){var e=V(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,N(!0),e.next=5,B(t);case 5:"added"===(i=e.sent)?(g(Object(O.b)({performerId:t,performerNick:r,displayName:o,status:s})),A("added")):"removed"===i&&(g(Object(O.e)({performerId:t})),A("removed")),x.current=setTimeout((function(){return N(!1)}),1e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return m?i.a.createElement(v,{onClick:D,active:y,action:T,zIndex:h,"data-testid":"FavoriteButtonHeartWithText"},i.a.createElement("i",null,i.a.createElement(f.a,{icon:"heart","data-testid":"FavoriteButtonIcon"})),y?i.a.createElement(L.a,null,"Remove From Favorites"):i.a.createElement(L.a,null,"Add to Favorites")):i.a.createElement(P,{background:d,onClick:D,active:y||k,action:T,"data-testid":"FavoriteButtonBrokenHeart"},i.a.createElement("i",null,i.a.createElement(_,{icon:"heart-broken-left","data-testid":"FavoriteButtonHeartIcon"})),i.a.createElement("i",null,i.a.createElement(_,{icon:"heart-broken-right","data-testid":"FavoriteButtonHeartIcon"})))};k.propTypes={performerId:T.number.isRequired,performerNick:T.string.isRequired,displayName:T.string.isRequired,status:T.number.isRequired,showTooltipCallback:T.func.isRequired,withText:T.bool,background:T.bool,zIndex:T.number},k.defaultProps={withText:!1,background:!1,zIndex:100};t.a=k},"825c":function(e,t,r){var n=r("3414"),i=function(e,t){i.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(i,n.View,{name:"ListPagePlayerView",_defaultZIndex:110,init:function(){i.superclass.init.call(this)},setElements:function(){this.listPagePlayerDivEl=Ext.get(this.flashPlayerConfig.appendToId)},getPerformerDetails:function(e){this.model.getPerformerDetails(e)}})},"88fa":function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("98d2"),a=r("a9a1"),s=r("0592"),l=r("d869"),c=r.n(l),u=r("8af1"),f=r.n(u),d=r("63f1"),h=r.n(d),p=r("978c"),m=r("768e7"),g=r("0a81"),y=r("8a2d"),_=r("791c"),P=r("178a"),v=r("0b3c").d.div.withConfig({displayName:"indexes6",componentId:"sc-1wx2o7i-0"})(["font-family:Roboto,sans-serif;display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);text-align:center;color:#fff;align-items:center;justify-content:center;flex-direction:column;z-index:25;button{margin:10px 0;font-size:12px;line-height:30px;height:30px;padding:0 8px;border-radius:3px;overflow:hidden;}span,em{display:block;}span{font-size:12px;font-weight:bold;}em{font-size:10px;color:#ccc;font-weight:bold;}",""],(function(e){var t=e.size;return"small"===t?"\n                span {\n                    padding: 0 10px;\n                    font-size: 12px;\n                }\n                button {\n                    margin: 8px 0;\n                }\n            ":"large"===t?"\n                span {\n                    padding: 0 15px;\n                    font-size: 14px;\n                }\n                button {\n                    margin: 12px 0;\n                }\n            ":void 0})),b=function(e){var t=e.price,r=e.freeVideoCallSeconds;return r>c.a.MIN_VIDEO_CALL_SECONDS_TO_SHOW_INFO?f.a.createElement(_.a,{as:"em",value:r},"{value} Free Seconds"):f.a.createElement(_.a,{as:"em",credits:t},"{credits} Credits / minute")};b.propTypes={price:y.string,freeVideoCallSeconds:y.number},b.defaultProps={price:null,freeVideoCallSeconds:0};var E=function(e){var t=e.size;return e.freeVideoCallSeconds>c.a.MIN_VIDEO_CALL_SECONDS_TO_SHOW_INFO&&"small"!==t?f.a.createElement(_.a,null,"Call me for Free"):f.a.createElement(_.a,null,"Call me")};E.propTypes={size:y.string.isRequired,freeVideoCallSeconds:y.number},E.defaultProps={freeVideoCallSeconds:0};var w=function(e){var t=e.price,r=e.onButtonClick,n=Object(g.e)((function(e){return e.user._user.balances.freeVideoCallSecond})),i=Object(g.e)((function(e){return e.listPage.gridLayout}));return f.a.createElement(v,{size:i,className:"video_call_container","data-testid":"VideoCallSpotBlockMaskSpotBlockMask"},f.a.createElement("span",null,f.a.createElement(_.a,null,"I'm available")),f.a.createElement(P.a,{type:"button",onClick:r,"data-testid":"VideoCallSpotBlockMaskButton"},f.a.createElement(E,{size:i,freeVideoCallSeconds:n,"data-testid":"VideoCallSpotBlockMaskCta"})),f.a.createElement(b,{price:t,freeVideoCallSeconds:n,"data-testid":"VideoCallSpotBlockMaskAltText"}))};w.propTypes={price:y.string,onButtonClick:y.func.isRequired},w.defaultProps={price:null};var S=w,C=r("1cab"),O=r("68b3"),T=r.n(O),I=r("d30b"),L=r("ab39"),A=r.n(L),V=r("4228"),R=r.n(V),M=r("a462"),k=r.n(M),N=r("3b17"),x=r.n(N),B=r("089a"),D=r("7ab0"),j=r.n(D);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K(e);if(t){var i=K(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return U(this,r)}}function U(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?z(e):t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(a,e);var t,r,i,o=W(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Y(z(t=o.call(this,e)),"setUrl",(function(e){return e.href||Object(n.getUrl)(t.chatRouting,{performerId:e.performer_id})})),Y(z(t),"_setTemplateParams",(function(e){var r=e.p_id,n=e.display_name,i=e.performer_id,o=e.size,a=e.altText,s=e.status,l=e.gravity_category,c=e.is_voted,u=e.point,f=e.winning,d=e.is_favourite,h=e.profilePictureUrl;return{id:t.idPrefix+r,name:null!=n?n:i,href:t.setUrl(e),containerClass:"performer allow_hover "+o,altText:a||i,anchorClass:"perf_link",status:s,rev:l,voteBtnClass:c?"hidden":"vote",isVotedClass:c?"":"hidden",point:j.a.formatNumberWithComma(u),winning:f>0?"$"+f+" - ":"",voteButtonLabel:Object(B.a)("Vote for Free"),isFavorite:"1"===d?"remove":"add",favoriteId:r,profilePictureUrl:h}})),t}return t=a,(r=[{key:"name",get:function(){return"AwardsPerformerTemplate"}},{key:"tpl",get:function(){return'<article id="{id}" class="{containerClass}" data-status="{status}"><img src="{profilePictureUrl}" class="cover" alt="{altText}"><a href="{href}" rev="{rev}" class="{anchorClass}"><span class="protip favorite {isFavorite}" data-model-id="{favoriteId}" data-pt-auto-hide="2000" data-pt-classes="favorite_protip" data-pt-gravity="right 5" data-pt-size="tiny" data-pt-trigger="sticky" data-pt-arrow="false"><span class="broken-heart"><i>'+j.a.svgIconBlock("heart-broken-left")+"</i><i>"+j.a.svgIconBlock("heart-broken-right")+'</i></span></span><div class="details"><h2 class="name">{name}</h2><span class="points">{winning}<span class="num">{point}</span> points</span><div class="vote_btn_wrapper"><button class="vote_button {voteBtnClass} first_button small">{voteButtonLabel}<span class="loader">&nbsp;</span></button></div><p class="is_voted {isVotedClass}"><span>{isVotedText}</span></p><p class="is_offline hidden">Model is offline<br><span>Check back later!</span></p></div></a></article>'}}])&&H(t.prototype,r),i&&H(t,i),a}(I.default);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function e(t){e.superclass.constructor.call(this,t)};Ext.extend(Z,T.a,{name:"PerformerView",favoriteButtonSel:".favorite",hoverClass:"hover",lppPlayingClass:"lpp_playing",statusAttributeName:"data-status",_performerTemplates:i.a.object([[c.a.PerformerView.BLOCK_TYPE_PERFORMER,I.default],[c.a.PerformerView.BLOCK_TYPE_FAVORITES,A.a],[c.a.PerformerView.BLOCK_TYPE_HISTORY,R.a],[c.a.PerformerView.BLOCK_TYPE_SNAPSHOT,k.a],[c.a.PerformerView.BLOCK_TYPE_NEW_CATEGORIES,x.a],[c.a.PerformerView.BLOCK_TYPE_AWARDS_PERFORMER,Q]]),_itemMargin:0,_minImageSide:0,init:function(){this.addEvents(c.a.PerformerView.EVENT_VIEW_MOUSEOVER,c.a.PerformerView.EVENT_VIEW_MOUSEOUT),Z.superclass.init.call(this),this._createDebugLabels(),this.createFavoriteButton()},showTooltipMessage:function(e,t){var r={trigger:"sticky",autoHide:3e3,title:t,gravity:!0,arrow:!j.a.isCurrentPage(c.a.PageId.AWARDS_INDEX),size:"tiny",classes:"favorite-tooltip"};j.a.isCurrentPage(c.a.PageId.AWARDS_INDEX)||(r.position="left"),i.a.fireEvent(c.a.TooltipView.EVENT_SHOW_TOOLTIP,{element:e,attributes:r})},createFavoriteButton:function(){var e=this,t=this.element.select(".favorite").item(0).dom,r=parseInt(this.model.getId(),10),n=parseInt(this.model.getStatus(),10),i=this.model.getDisplayName(),o=this.model.getName();h.a.render(f.a.createElement(p.a,{store:a.store,"data-testid":"PerformerViewProvider"},f.a.createElement(m.a,{performerId:r,performerNick:o,displayName:i,status:n,showTooltipCallback:function(r){e.showTooltipMessage(t,r)},background:j.a.isCurrentPage(c.a.PageId.AWARDS_INDEX),"data-testid":"PerformerViewFavoriteButton"})),t)},getAnchorElement:function(){return this.select("a").item(0)},getDimensions:function(){var e=0,t=0,r=this.getItemImage();return null!==r&&(e=r.getWidth()-this._itemMargin,t=r.getHeight()-this._itemMargin),{width:e,height:t}},getVideoPreviewSize:function(){return this.getDimensions().width<c.a.PerformerView.VIDEO_PREVIEW_SIZE_WIDTH_THRESHOLD?i.a.Config.get("smallPreview"):i.a.Config.get("bigPreview")},getPosition:function(){var e=0,t=0,r=this.getItemImage(),n=Ext.get("inner_container").getTop();return null!==r&&(e=r.getTop()-n+this._itemMargin/2,t=r.getLeft()+this._itemMargin/2),{top:e,left:t}},_createDebugLabels:function(){var e=this;1===parseInt(localStorage.getItem("performer-view-debug-labels-enabled"),10)&&r.e(18).then(r.bind(null,"aeed")).then((function(t){new(0,t.default)(e.element,e.model.attributes)})).catch((function(){return"An error occurred while loading the component"}))},_getTemplate:function(){return this._performerTemplates[this.model.getBlockType()]},checkIfIsOnViewPort:function(){return this.element&&this.model.setIsOnViewPort(i.a.Util.isFullyVisibleOnViewPort(this.element),i.a.Util.isOnViewPort(this.element)),this},getVideoCallContainer:function(){var e=document.createElement("div");return this.element.select("a").item(0).dom.append(e),this.videoCallMaskContainer=e,e},_appendVideoCallTemplate:function(){var e=0===this.model.getStatus();return 0===parseInt(i.a.getMeta("isSearchPage"),10)&&j.a.isIndexPage()||!e||this.model.getIsVideoCallAppended()||(h.a.render(f.a.createElement(p.a,{store:a.store,"data-testid":"PerformerViewProvider"},f.a.createElement(S,{price:this.model.getVideoCallPrice(),onButtonClick:this.onVideoCallButtonClick,"data-testid":"PerformerViewVideoCallSpotBlockMask"})),this.getVideoCallContainer()),this.model.setIsVideoCallAppended()),this},_appendSendMessageTemplate:function(){var e,t=0===this.model.getStatus(),r=this.element.select("a").item(0),n=(e=Object(B.a)("I'm offline"),'<div class="send_message_container">\n\t\t\t\t<span>'.concat(e,'</span>\n\t\t\t\t<button class="send_message_button first_button">').concat(Object(B.a)("Send me a message"),"</button>\n\t\t\t</div>"));return!t||this.model.hasVideoCall()||this.model.getIsSendMessageAppended()||(this.element.addClass("sendMessageAllowed"),Ext.DomHelper.append(r,n),this.model.setIsSendMessageAppended(),i.a.on([{element:this.element.select(".send_message_button"),event:"click",handler:this.onSendMessageButtonClick}],this)),this},_onStatusChange:function(){var e=this.model.getStatus();this.element&&(this.element.dom.setAttribute(this.statusAttributeName,e),this.checkIfIsOnViewPort())},_onPerformerElementClick:function(e,t){e.preventDefault();var r=Ext.get(t).findParent(this.favoriteButtonSel,10,!0),n=t.classList.contains("videoCallBadge"),i=t.classList.contains("story-icon"),o=t.classList.contains("vipshow_icon");if(this._trackBadgeIconClick({isFavoriteBtn:!!r,isVideoCallBadge:n,isStoryCircle:i,isVipShowIcon:o}),!(j.a.getMouseButton(e)===c.a.Util.MIDDLE_MOUSE_BUTTON||e.ctrlKey||r||j.a.isModalOpenDenied())){var a=this.model.attributes.display_name,l=parseInt(this.model.attributes.has_vip_show,10);this._trackPerformerClick(l),s.default.navigateToChatPage("chat/".concat(a))}},_trackPerformerClick:function(e){e&&C.default.trackGenericEvent({eventCategory:C.default.CONST.PAGE.LISTS,eventAction:C.default.CONST.ACTION.CLICK,eventLabel:"vip show room"})},_trackBadgeIconClick:function(e){var t=e.isFavoriteBtn,r=e.isVideoCallBadge,n=e.isStoryCircle,i=e.isVipShowIcon,o={eventCategory:C.default.CONST.PAGE.LISTS,eventAction:C.default.CONST.ACTION.BADGE_ICON_CLICK};return t?C.default.trackGenericEvent(J(J({},o),{},{eventLabel:"favorite icon"})):r?C.default.trackGenericEvent(J(J({},o),{},{eventLabel:"video call icon"})):n?C.default.trackGenericEvent(J(J({},o),{},{eventLabel:"story circle"})):i?C.default.trackGenericEvent(J(J({},o),{},{eventLabel:"vip badge"})):void 0},_onTouchEnd:function(){this.isTouchEvent=!0},_onMouseEnter:function(){this.isTouchEvent?this.isTouchEvent=!1:this.model.hasOngoingVipShow()||(this.model.hasVideoCall()&&this._appendVideoCallTemplate(),j.a.isSendMessageAllowedInThumbnail()&&this._appendSendMessageTemplate(),this.addHoverClass(),this.fireEvent(c.a.PerformerView.EVENT_VIEW_MOUSEOVER,this),this.model.setHovered(!0))},_onMouseLeave:function(){this.model.hasOngoingVipShow()||(this.model.setHovered(!1),this.removeHoverClass(),this.fireEvent(c.a.PerformerView.EVENT_VIEW_MOUSEOUT,this))},_onLppChange:function(){this.element&&this.element[this.model.getIsLppPlaying()?"addClass":"removeClass"](this.lppPlayingClass)},_onGetsFullyInViewPort:function(){this.model.un(c.a.PerformerModel.EVENT_GETS_FULLY_IN_VIEWPORT,this._onGetsFullyInViewPort,this),i.a.Broadcaster.fireEvent(c.a.PerformerView.GLOBALEVENT_GETS_FULLY_IN_VIEWPORT,{scope:this})},addHoverClass:function(){this.element&&this.getAnchorElement().addClass(this.hoverClass)},removeHoverClass:function(){this.element&&this.getAnchorElement().removeClass(this.hoverClass)},onVideoCallButtonClick:function(){i.a.fireEvent("PerformerView:videoCallButtonClick"),C.default.trackVideoCallClick({eventSource:j.a.isCurrentPage(c.a.PageId.FAVORITE_INDEX)?C.GA_CONST.PAGE.FAVORITE:C.GA_CONST.PAGE.LISTS})},onSendMessageButtonClick:function(e){e.stopEvent(),o.default.isLoggedIn()?(C.default.trackGenericEvent({eventCategory:j.a.isCurrentPage(c.a.PageId.FAVORITE_INDEX)?C.default.CONST.PAGE.FAVORITE:C.default.CONST.PAGE.LISTS,eventAction:"click",eventLabel:"send message"}),s.default.navigate("messages/".concat(this.model.getDisplayName()),!0,e)):s.default.navigate("signup",{trigger:!0,preventNavigateBack:!0})},_bindElements:function(){this.element&&this.element.on({touchend:this._onTouchEnd,mouseenter:this._onMouseEnter,mouseleave:this._onMouseLeave,click:this._onPerformerElementClick,scope:this})},_unBindElements:function(){this.element&&this.element.un({touchend:this._onTouchEnd,mouseenter:this._onMouseEnter,mouseleave:this._onMouseLeave,click:this._onPerformerElementClick,scope:this}),this.videoCallMaskContainer&&h.a.unmountComponentAtNode(this.videoCallMaskContainer)},bind:function(){Z.superclass.bind.call(this),i.a.on([{element:this.model,event:c.a.PerformerModel.EVENT_STATUS_CHANGE,handler:this._onStatusChange},{element:this.model,event:c.a.PerformerModel.EVENT_LPP_STATUS_CHANGE,handler:this._onLppChange},{element:this.model,event:c.a.PerformerModel.EVENT_GETS_FULLY_IN_VIEWPORT,handler:this._onGetsFullyInViewPort}],this)}});t.default=Z},"8c3d":function(e,t){var r,n,i;e.exports=(r=[],n=[],i=[],{isImageLoaded:function(e){return-1!==i.indexOf(e)},preloadGroup:function(e){var t=function(e){var t,i=[];if(e.length)for(var o=0;o<e.length;o++)i.push(new Promise((function(i){(t=new Image).src=e[o],t.onload=function(){r.push(t),i(t)},t.onerror=function(){n.push(t),i(t)}})));return i}(e);return new Promise((function(e,i){Promise.all(t).then((function(t){e({successfulImages:r,failedImages:n})})).catch((function(e){i(e)}))}))},preload:function(e,t){var r=new Image;r.src=e,r.onload=function(){-1==i.indexOf(r.src)&&i.push(r.src),t&&t(null,r)},r.onerror=function(){t&&t(new Error("Failed to load image "+e),r)}},preloadList:function(e){var t=e.imageList;e.originalList=[].concat(t),e.limit&&(t=t.slice(0,e.limit));var r,n=0;for(r=0;r<t.length;r++){var o=new Image;o.src=t[r],o.onload=function(r){return function(){-1==i.indexOf(t[r])&&i.push(t[r]),n++,e.callback&&n===t.length&&e.callback(e)}}(r),o.onerror=function(){n++,e.callback&&n===t.length&&e.callback(e)}}}})},"8f76":function(e,t,r){var n=r("3414"),i=r("d869"),o=r("e5b0").default,a=function(e,t){a.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(a,n.Model,{name:"StreamPlayerModel",init:function(){this.addEvents(i.StreamPlayerModel.EVENT_PERFORMER_DETAILS_SUCCESS,i.StreamPlayerModel.EVENT_PERFORMER_DETAILS_ERROR),a.superclass.init.call(this)},getPerformerDetails:function(e){if(e.performerId){var t={appletType:e.appletType,videoPreviewSize:e.videoPreviewSize,isOverlayChat:!1};o.get(e.performerId,t).then(n.bind(this._getPerformerDetailsSuccess,this)).catch(n.bind(this._getPerformerDetailsError,this))}},_getPerformerDetailsSuccess:function(e){try{this.fireEvent(i.StreamPlayerModel.EVENT_PERFORMER_DETAILS_SUCCESS,this.filterData(e))}catch(e){console.log("error: ",e)}},_getPerformerDetailsError:function(e){this.fireEvent(i.StreamPlayerModel.EVENT_PERFORMER_DETAILS_ERROR,this.filterData(e))},filterData:function(e){var t=Ext.decode(e.responseText).data||{},r={performer_id:t.performer_id,sb_hash:t.sb_hash,sb_ip:t.sb_ip,proxy_ip:t.proxy_ip,supercategory:t.category,has_channel:t.has_channel,ishostedchannel:t.ishostedchannel,channel_type:t.channel_type,pid:t.p_id,video:t.video};return Ext.encode(Object.assign(r,e.json.data))}})},9381:function(e,t,r){"use strict";r.r(t),r.d(t,"initCountdown",(function(){return o}));var n=r("3414"),i=n.Config.get("clientServerTimeDifference",0),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=new Date(e.getAttribute("data-count-to")).getTime()||(new Date).getTime(),n=e.getAttribute("data-delimiter")||":";e.innerHTML=s(r,n,t);var i=setInterval((function(){var o=s(r,n,t);o?e.innerHTML=o:clearInterval(i)}),1e3);return function(){return clearInterval(i)}},a=function(e,t){return e.map((function(e){return e.toString().padStart(2,"0")})).join(t)},s=function(e,t,r){var n=new Date;n.setTime(n.getTime()+i);var o=e-n;if(o<=0)return r(),a([0,0,0],t);var s=Math.floor(o/36e5),l=Math.floor(o%36e5/6e4),c=Math.floor(o%6e4/1e3);return a([s,l,c],t)}},"967c":function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("d869"),a=r.n(o),s=r("4388"),l=r.n(s),c=r("a9a1"),u=function e(t,r){e.superclass.constructor.call(this,t,r)};Ext.extend(u,i.a.Model,{name:"PerformerModel",_performerIdKey:"id",_performerNameKey:"pid",_blockTypeKey:"blockType",_statusKey:"originalStatus",_fallbackStatusKey:"status",_sizeKey:"size",_gravityCategoryKey:"gravity_category",_flashDataKey:"flashInitData",_profilePictureUrlKey:"profilePictureUrl",_profileWebpPictureUrlKey:"profileWebpPictureUrl",_isOnViewPort:!1,_isFullyVisibleOnViewPort:!1,_isLppPlaying:!1,_isVideoCallAppended:!1,_isSendMessageAppended:!1,_qualityCategoryKey:"qualitycategory",_sumOfOnlinePerformersKey:"sumofonlineperformers",_resolutionKey:"resolution",_videoTeasersKey:"videoteasers",_jasminChannelKey:"jasmin_channel",_chatRouting:"Chat/Performer",_isHovered:!1,init:function(){this.addEvents(a.a.PerformerModel.EVENT_STATUS_CHANGE,a.a.PerformerModel.EVENT_GETS_IN_VIEWPORT,a.a.PerformerModel.EVENT_LPP_STATUS_CHANGE),u.superclass.init.call(this)},getId:function(){return this.attributes[this._performerIdKey]},getName:function(){return this.attributes[this._performerNameKey]},getDisplayName:function(){return this.attributes.display_name},getVideoCallPrice:function(){return this.attributes.video_call_charge_amount},getBlockType:function(){return this.attributes[this._blockTypeKey]},getUrl:function(){return this.attributes.href||i.a.getUrl(this._chatRouting,{performerId:this.getName()})},hasVideoCall:function(){return i.a.Config.get("video_call_enabled")&&1===parseInt(this.attributes.is_video_call_enabled,10)},getStatus:function(e){return e=this.attributes.hasOwnProperty(this._statusKey)?this._statusKey:this._fallbackStatusKey,parseInt(this.attributes[e],10)},getFlashData:function(){return this.attributes[this._flashDataKey]},getIsFullyVisibleOnViewPort:function(){return this._isFullyVisibleOnViewPort},getIsOnViewPort:function(){return this._isOnViewPort},getSize:function(){return this.attributes[this._sizeKey]||a.a.ListPageModelAbstract.PERFORMER_SIZE_SMALL},getGravityCategory:function(){return this.attributes[this._gravityCategoryKey]},getProfilePictureUrl:function(){return this.attributes[this._profileWebpPictureUrlKey]&&l()()?this.attributes[this._profileWebpPictureUrlKey]:this.attributes[this._profilePictureUrlKey]},getIsLppPlaying:function(){return this._isLppPlaying},getIsVideoCallAppended:function(){return this._isVideoCallAppended},getIsSendMessageAppended:function(){return this._isSendMessageAppended},isHovered:function(){return this._isHovered},setHovered:function(e){this._isHovered=e},setStatus:function(e){return this.getStatus()!==e&&(this.attributes[this._statusKey]=e,this.fireEvent(a.a.PerformerModel.EVENT_STATUS_CHANGE)),this},setExclusivePrivateStatus:function(e){this.attributes.in_exclusive_private=e},setIsVideoCallAppended:function(){return this._isVideoCallAppended=!0,this},setIsSendMessageAppended:function(){return this._isSendMessageAppended=!0,this},setIsOnViewPort:function(e,t){return this._isOnViewPort!==t&&(this._isOnViewPort=t,this._isOnViewPort&&this.fireEvent(a.a.PerformerModel.EVENT_GETS_IN_VIEWPORT,this)),this._isFullyVisibleOnViewPort!==e&&(this._isFullyVisibleOnViewPort=e,this._isFullyVisibleOnViewPort&&this.fireEvent(a.a.PerformerModel.EVENT_GETS_FULLY_IN_VIEWPORT,this)),this},hasOngoingVipShow:function(){var e=parseInt(this.attributes.id,10);return-1!==c.store.getState().listPage.performersWithOngoingShows.indexOf(e)},setLppStatusPlaying:function(){this.hasOngoingVipShow()||(this._isLppPlaying=!0,this.fireEvent(a.a.PerformerModel.EVENT_LPP_STATUS_CHANGE))},setLppStatusStopped:function(){this.hasOngoingVipShow()||(this._isLppPlaying=!1,this.fireEvent(a.a.PerformerModel.EVENT_LPP_STATUS_CHANGE))}}),t.default=u},"9b72":function(e,t,r){var n=r("3414"),i=r("d869"),o=r("68b3"),a=r("7ab0"),s=r("0592").default,l=r("ffe4").default,c=r("1cab").default,u=r("b5df").default,f=r("9381"),d=r("c25d"),h=function(e){h.superclass.constructor.call(this,e)};e.exports=Ext.extend(h,o,{name:"CommercialItemView",_attributeOverlayType:"data-overlay-type",_attributeOverlayQueryParams:"data-overlay-query-params",_templates:n.object([[i.CommercialItemView.BLOCK_TYPE.FAVORITES_BANNER,u]]),_countdownIntervalUnbinder:function(){},init:function(){h.superclass.init.call(this),this.model.attributes.overlayType=this.element.dom.getAttribute(this._attributeOverlayType),this.model.attributes.overlayQueryParams=Ext.util.JSON.decode(this.element.dom.getAttribute(this._attributeOverlayQueryParams));var e=this.element.dom.querySelector(".countdown");e&&(this._countdownIntervalUnbinder=f.initCountdown(e,n.bind(this._onCountdownEnd,this))),!a.isHokkaido()&&this._setImageOnLoad()},_getTemplate:function(){return this._templates[this.model.getBlockType()]},render:function(){!1===this.model.attributes.preRendered?this.element=this._createElementFromTemplateFromModel(this._getTemplate()):this.element=a.createElementFromHtmlString(this.model.getContent()),h.superclass.render.call(this)},_bindElements:function(){this.element&&this.element.on("click",this._onElementClick,this)},_unBindElements:function(){this.element&&this.element.un("click",this._onElementClick,this),this._countdownIntervalUnbinder()},_getBannerEventAction:function(e){if(e.stopEvent(),n.Config.get("navigateTo"))return!1;var t=this.model.getId(),r=this.model.getPromoCampaignName(),o=r?t+"/"+r:t;this.sendGAEvent(o).then(function(){switch(this.model.getOverlayType()){case i.CommercialItemView.OVERLAY_SIGNUP:this._doSignupTypeBannerClickAction();break;case i.CommercialItemView.OVERLAY_LOGIN:this._doLoginTypeBannerClickAction();break;case i.CommercialItemView.OVERLAY_QUICKBUY:this._doQuickbuyTypeBannerClickAction();break;case i.CommercialItemView.LIST_PAGE_FILTER:this._doListPageFilterTypeBannerClickAction();break;case i.CommercialItemView.OVERLAY_LUCKY_WHEEL:this._doLuckyWheelBannerClickAction();break;case i.CommercialItemView.OVERLAY_CAMPAIGN_PICKER:this._doCampaignPickerBannerClickAction();break;default:this._doDefaultBannerClickAction()}}.bind(this))},_doSignupTypeBannerClickAction:function(){var e=d.stringify(this.model.getOverlayQueryParams()),t="signup"+(e&&"?"+e);s.navigate(t,{trigger:!0,replace:!1})},_doLoginTypeBannerClickAction:function(){s.navigate("login",{trigger:!0,preventNavigateBack:!0})},_doQuickbuyTypeBannerClickAction:function(){s.navigate("payment",{trigger:!0,preventNavigateBack:!0,replace:!1})},_doListPageFilterTypeBannerClickAction:function(){n.fireEvent(i.SearchFilterComponent.GLOBALEVENT_FILTER_SELECT,{filterId:this.model.getOverlayQueryParameter("filter")})},_doLuckyWheelBannerClickAction:function(){l.openModal("wheel-of-fortune")},_doCampaignPickerBannerClickAction:function(){s.navigate("payment",{trigger:!0,preventNavigateBack:!0,replace:!1})},_doDefaultBannerClickAction:function(){var e=this.select("a").item(0).dom;e.getAttribute("href")&&(-1!==e.target.indexOf("blank")?window.open(e.href):window.location.href=e.href)},sendGAEvent:function(e){return new Promise((function(t){c.push({event:c.CONST.EVENT.GENERIC,eventCategory:c.CONST.PAGE.LISTS,eventAction:c.CONST.ACTION.INTERNAL_BANNERS,eventLabel:e,eventCallback:t,eventValue:0,eventInteraction:!0})}))},_onElementClick:function(e){this._getBannerEventAction(e)},_onCountdownEnd:function(){this._countdownIntervalUnbinder(),n.Broadcaster.fireEvent(i.CommercialItemView.GLOBALEVENT_COMMERCIAL_COUNTDOWN_END)}})},"9cb7":function(e,t,r){var n=r("3414"),i=r("d869"),o=r("e781"),a=r("7ab0"),s=function(e,t){s.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(s,n.Controller,{name:"PerformerSwapController",searchPageMeta:"isSearchPage",perfSwapDelay:3e3,perfSwapErrorLimit:5,perfSwapErrorDelay:6e4,isPerfSwapEnabled:!0,overlayId:"overlay",_perfSwapErrorCount:0,_performerSwapTask:null,_performerIdsWithEndedVIPShow:[],init:function(e,t){s.superclass.init.call(this,e,t),this._startPerformerCheckingTask()},_onPerformerCancelledVIPShow:function(e){this._isSwapEnabledForSearchPage()&&(this._performerIdsWithEndedVIPShow=[e.body.performerId.toString()],this.fireEvent(i.PerformerSwapController.GET_ALL_PERFORMERS))},onAllPerformersReady:function(e){this._isSwapEnabledForSearchPage()&&this._swapViPShowPerformers(e)},setVisiblePerformerViews:function(e){this._swapVisiblePerformers(n.filter(e,this._isPerformerNeedsToBeSwapped,this))},_swapViPShowPerformers:function(e){e=n.map(e).filter((function(e){return e}));var t=n.filter(e,(function(e){return e&&e.model.getId()&&this._performerIdsWithEndedVIPShow.indexOf(e.model.getId())>-1}),this);if(0!==t.length){var r=t[0],i=n.map(t,this._getSwapDataFromPerformerBox,this),o=n.sortBy(e,(function(e){return Math.min(e.element.data("order"))})),a=n.findLastIndex(o,(function(e){return e.model.getId()!==this._performerIdsWithEndedVIPShow[0]}),this),s=-1!==a?o[a]:r;this.PerformerSwapModel.sendRequest(i,{performerForSwap:r,lastPerformerView:s,swapPerformerID:r.model.getId(),isVIPShowCanceled:!0,applyAdditionalFilters:!1}),this._performerIdsWithEndedVIPShow=[]}},_isSearchPage:function(){return 1===parseInt(n.getMeta(this.searchPageMeta),10)},_isSwapEnabledForSearchPage:function(){return this._isSearchPage()&&a.isSwappingForVIPShowEnabled()},_isPerformerSwapEnabledOnCurrentPage:function(){return!this._isSearchPage()},_startPerformerCheckingTask:function(){this._isPerformerSwapEnabledOnCurrentPage()&&(this._performerSwapTask=new Ext.util.DelayedTask(this._swapPerformers,this),this._performerSwapTask.delay(this.perfSwapDelay))},_restartPerformerCheckingTask:function(){this.isPerfSwapEnabled&&this._performerSwapTask&&this._performerSwapTask.delay(this.perfSwapDelay)},_stopPerformerCheckingTask:function(){this._performerSwapTask&&this._performerSwapTask.cancel()},_swapPerformers:function(){this._performerSwapTask.delay(this.perfSwapDelay),this.isPerfSwapEnabled&&!this._isOverlayVisible()&&this.fireEvent(i.PerformerSwapComponent.EVENT_GET_VISIBLE_PERFORMERS)},_swapVisiblePerformers:function(e){if(e.length){this._performerSwapTask.cancel();var t=n.map(e,this._getSwapDataFromPerformerBox,this);this.PerformerSwapModel.sendRequest(t,{applyAdditionalFilters:!0})}},_getSwapDataFromPerformerBox:function(e){return{id:e.model.getId(),size:e.model.getSize(),gravityCategory:e.model.getGravityCategory()}},_isOverlayVisible:function(){return Ext.get(this.overlayId).isVisible()},_isPerformerNeedsToBeSwapped:function(e){return e&&e.model.getStatus()!==i.PerformerSwapController.STATUS_FREE&&!1===e.model.hasOngoingVipShow()&&!1===e.model.isHovered()},_onDocumentFocus:function(){this.enableSwappingIfItIsDisabled()},_onDocumentBlur:function(){this.disableSwappingIfItIsEnabled()},_onModelRequestSuccess:function(e){var t=n.getPath(e,"response.json.data.swapData")||[];n.keys(t).length&&this.fireEvent(i.PerformerSwapController.EVENT_SWAP_PERFORMERS,t),this._restartPerformerCheckingTask()},_onModelRequestError:function(e){e.options&&e.options.isVIPShowCanceled?this._swapPerformerWithLastPerformer(e.options):(this._perfSwapErrorCount++,this._perfSwapErrorCount===this.perfSwapErrorLimit?(this._perfSwapErrorCount=0,this._performerSwapTask.delay(this.perfSwapErrorDelay)):this._restartPerformerCheckingTask())},_swapPerformerWithLastPerformer:function(e){this.fireEvent(i.PerformerSwapController.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,e)},enableSwappingIfItIsDisabled:function(){this.isPerfSwapEnabled||this._isSearchPage()||(this.isPerfSwapEnabled=!0,this._restartPerformerCheckingTask())},disableSwappingIfItIsEnabled:function(){this.isPerfSwapEnabled&&(this.isPerfSwapEnabled=!1,this._stopPerformerCheckingTask())},bind:function(){s.superclass.bind.call(this),this._isPerformerSwapEnabledOnCurrentPage()&&Ext.fly(window).on({focus:this._onDocumentFocus,blur:this._onDocumentBlur,scope:this}),n.on([{element:o.getClient(),event:o.EVENT.PERFORMER.SHOW_CANCELLED,handler:n.bind(this._onPerformerCancelledVIPShow,this)},{element:o.getClient(),event:o.EVENT.PERFORMER.SHOW_ENDED,handler:n.bind(this._onPerformerCancelledVIPShow,this)}],this)},unbind:function(){s.superclass.unbind.call(this),this._isPerformerSwapEnabledOnCurrentPage()&&Ext.fly(window).un({focus:this._onDocumentFocus,blur:this._onDocumentBlur,scope:this})}})},a462:function(e,t,r){var n=r("d30b").default,i=r("7ab0"),o=function e(t){e.superclass.constructor.call(this,t)};e.exports=Ext.extend(o,n,{name:"SnapshotTemplate",tpl:'<article id="{id}" class="{containerClass} {hasVideoCall}" data-status="{dataStatus}">{imageBlock}<a href="{href}" rev="{rev}">{debugText}<span class="snapshot_counter">{snapshotCount}</span><span class="protip favorite {isFavorite}" data-model-id="{favoriteId}" data-pt-auto-hide="2000" data-pt-classes="favorite_protip" data-pt-gravity="right 5" data-pt-size="tiny" data-pt-trigger="sticky" data-pt-arrow="false"><span class="broken-heart"><i>'+i.svgIconBlock("heart-broken-left")+"</i><i>"+i.svgIconBlock("heart-broken-right")+'</i></span></span>{rightBottomBadge}<span class="performer_name">{name}</span></a></article>',getImageBlock:function(e,t,r){var n='<picture class="cover"> \n\t\t\t\t\t\t\t\t'.concat(!Ext.isEdge&&'<source srcset="'.concat(t,'" type="image/webp">'),'\n\t\t\t\t\t\t\t\t<img src="').concat(e,'" class="cover" alt="').concat(r,'">\n\t\t\t\t\t\t</picture>');return i.isHokkaido()&&(n='<picture class="cover">\n\t\t\t\t\t\t\t'.concat(!Ext.isEdge&&'<source srcset="'.concat(t,'" type="image/webp">'),'\n\t\t\t\t\t\t\t<img src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7" \n\t\t\t\t\t\t\t\tdata-src="').concat(t.replace(".webp",".{ext}"),'" class="cover performer-image" \n\t\t\t\t\t\t\t\talt="').concat(r,'">\n\t\t\t\t\t\t</picture>')),n},_setTemplateParams:function(e){return Ext.apply(o.superclass._setTemplateParams.call(this,e),{snapshotCount:e.snapshotCount,imageBlock:this.getImageBlock(e.profilePictureUrl,e.profileWebpPictureUrl,e.altText||e.pid)})}})},a669:function(e,t,r){"use strict";var n=r("8af1"),i=r("e781"),o=r.n(i);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=o.a.getClient(),r=Object(n.useState)(null),i=a(r,2),s=i[0],l=i[1],c=function(e){l(e)},u=function(){e.forEach((function(e){return t.on(e,c)}))},f=function(){e.forEach((function(e){return t.un(e,c)}))};return Object(n.useEffect)((function(){return u(),function(){return f()}}),[]),s}},ab39:function(e,t,r){var n=r("d30b").default,i=function(e){i.superclass.constructor.call(this,e)};e.exports=Ext.extend(i,n,{})},b07d:function(e,t,r){var n=r("3414"),i=r("d869"),o=r("967c").default,a=r("0031"),s=r("7ab0"),l=r("a9a1").store,c=r("870e").addInitialPerformers,u=function(e,t){u.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(u,n.Model,{name:"ListPageModel",commercialRefreshRouting:"Commercial/Refresh",isSearchPage:"isSearchPage",listPageId:"listPageId",listPageIdResponseKey:"listPageId",lastPageResponsePath:"json.data.content.isLastPage",bigPictureCount:0,_performerCollection:{},_showMoreJsonQueryParams:{wide:!0,layout:"layout-big"},_isLastPage:!1,_currentListPageRefreshByAjax:1,_maxListPageRefreshByAjax:5,init:function(){this.addEvents(i.ListPageModelAbstract.EVENT_PERFORMER_INIT,i.ListPageModelAbstract.EVENT_GET_NEXT_PAGE,i.ListPageModelAbstract.EVENT_DESTROY_ALL,i.ListPageModelAbstract.EVENT_VISIBLE_MODELS_READY,i.ListPageModelAbstract.EVENT_LOGGED_IN,i.ListPageModelAbstract.EVENT_SWAPPED_COMMERCIAL,i.ListPageModelAbstract.EVENT_SHOW_MORE_ERROR,i.ListPageModelAbstract.GET_ALL_PERFORMERS_READY,i.ListPageModelAbstract.EVENT_PRIVATE_STATUS_CHANGE),u.superclass.init.call(this)},setPerformerDetailsOnInit:function(e){l.dispatch(c(e)),this._setIsLastPage(n.getMeta(i.AutoShowMore.META_IS_SINGLE_PAGE)),this._parsePerformers(e,{isInit:!0})},refreshListPageFromSearch:function(e){this._refreshListPageFromResponse(e,0)},setNewStatuses:function(e){n.chain(e).keys().intersection(n.keys(this._performerCollection)).each((function(t){this._performerCollection[t].setStatus(e[t])}),this)},setExclusivePrivateStatus:function(e,t){this._performerCollection[e]&&(this._performerCollection[e].setExclusivePrivateStatus(t),this.fireEvent(i.ListPageModelAbstract.EVENT_PRIVATE_STATUS_CHANGE,{performerId:e,inExclusivePrivate:t}))},setShowMoreJsonQueryParams:function(e){return Object.assign(this._showMoreJsonQueryParams,e),this},getNextPage:function(){this._loadPage()},refreshListPage:function(){this._loadPage(0)},createPerformerModelFromData:function(e){var t=new(this._getModelClass(e.blockType))(Object.assign({},e));return this._performerCollection[t.getId()]=t,t},getVisibleFreeModels:function(){var e=[];n.each(this._performerCollection,(function(t){t.getStatus()===i.ListPageModelAbstract.PERFORMER_STATUS_ONLINE&&t.getIsFullyVisibleOnViewPort()&&e.push(t.getId())}),this),this.fireEvent(i.ListPageModelAbstract.EVENT_VISIBLE_FREE_MODELS_READY,e)},getVisibleModels:function(){var e=n.filter(this._performerCollection,(function(e){return e.getIsOnViewPort()&&!e.getIsLppPlaying()}),this);this.fireEvent(i.ListPageModelAbstract.EVENT_VISIBLE_MODELS_READY,e)},getAllPerformers:function(){this.fireEvent(i.ListPageModelAbstract.GET_ALL_PERFORMERS_READY,this._performerCollection)},_loadPage:function(e){var t=n.isDefined(e)?e:n.getMeta(this.listPageId);this.isPageLoadingInProgress||(this.isPageLoadingInProgress=!0,this.fireEvent(i.ListPageModelAbstract.EVENT_START_LOADING),this.fetch({url:this._getNextPageUrl(t),error:n.bind(this._onLoadPageError,this),failure:n.bind(this._onLoadPageFailure,this),success:n.bind(this._onLoadPageSuccess,this,t)}))},_onLoadPageSuccess:function(e,t){this.isPageLoadingInProgress=!1;var r=e!==t.json.data.content[this.listPageIdResponseKey];this._refreshListPageFromResponse(t,r?0:e),s.setCursor("default")},needPageReload:function(){var e=!(this._currentListPageRefreshByAjax%this._maxListPageRefreshByAjax);return this._setCurrentListPageRefreshByAjax(),e},_setCurrentListPageRefreshByAjax:function(){this._currentListPageRefreshByAjax=this._currentListPageRefreshByAjax>=this._maxListPageRefreshByAjax?1:this._currentListPageRefreshByAjax+1},_setIsLastPage:function(e){this._isLastPage=1===parseInt(e,10)},_onLoadPageError:function(){this.isPageLoadingInProgress=!1,this.fireEvent(i.ListPageModelAbstract.EVENT_FINISHED_LOADING,{isLastPage:!0}),this.fireEvent(i.ListPageModelAbstract.EVENT_SHOW_MORE_ERROR),s.setCursor("default")},_onLoadPageFailure:function(){this.isPageLoadingInProgress=!1,this.fireEvent(i.ListPageModelAbstract.EVENT_FINISHED_LOADING,{isLastPage:!0}),this.fireEvent(i.ListPageModelAbstract.EVENT_SHOW_MORE_ERROR),s.setCursor("default")},_refreshListPageFromResponse:function(e,t){if(e&&n.hasPath(e,"json.data.content")&&n.isArray(e.json.data.content.performers)){if(0===n.getMeta("isSearchPage")&&n.hasPath(e,"json.data.listPageOrderType")&&n.Config.set("listPageOrderType",e.json.data.listPageOrderType),!e.json.data.content.performers.length)return void this.fireEvent(i.ListPageModelAbstract.EVENT_FINISHED_LOADING,{isLastPage:!0});this.bigPictureCount=n.getPath(e,"json.data.content.bigPictureCount")||0,this._setIsLastPage(n.getPath(e,this.lastPageResponsePath)),0===t&&(this._setListPageId(n.getPath(e,"json.data.content."+this.listPageIdResponseKey)),this._destroyAll()),this._parsePerformers(e.json.data.content.performers,{isNextPage:!0})}this.fireEvent(i.ListPageModelAbstract.EVENT_FINISHED_LOADING,{isLastPage:this._isLastPage}),s.isHokkaido()&&s.updateLazy()},_setListPageId:function(e){n.setMeta("listPageId",e),n.fireEvent(i.ListPageModelAbstract.GLOBALEVENT_CHANGE_LIST_PAGE_ID,{listPageId:e})},destroyPerformerById:function(e){this._performerCollection[e]&&(this._performerCollection[e].destroy(),delete this._performerCollection[e])},_destroyAll:function(){n.each(this._performerCollection,(function(e,t){e.destroy(),delete this._performerCollection[t]}),this),this.fireEvent(i.ListPageModelAbstract.EVENT_DESTROY_ALL)},_getNextPageUrl:function(e){var t={listPageId:function(){return e}};return n.getUrl(n.Config.get("listPageRoutes").showMoreJson,t,this._showMoreJsonQueryParams)},_parsePerformers:function(e,t){if(n.isArray(e)){var r=n.map(e,this.createPerformerModelFromData,this);t.isInit?n.each(r,n.bind(this.fireEvent,this,i.ListPageModelAbstract.EVENT_PERFORMER_INIT)):t.isNextPage&&this.fireEvent(i.ListPageModelAbstract.EVENT_GET_NEXT_PAGE,r)}},_getModelClass:function(e){return-1!==i.ListPageModelAbstract.BLOCK_TYPE_COMMERCIAL.indexOf(e)?a:o}})},b5df:function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("7b09");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,r,n,o=u(a);function a(){return s(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"name",get:function(){return"FavoritesBannerTemplate"}},{key:"tpl",get:function(){var e=i.a.getUrl("Index/IndexCategory",{category:"girl"});return'\n\t\t\t<article id="{id}" class="commercial is-favorites-banner block_loaded image_loaded">\n\t\t\t\t<div class="banner-wrapper">\n\t\t\t\t\t<a href="'.concat(e,'">\n\t\t\t\t\t\t<h1 class="banner-title">').concat(i.a.translate("Favorites are offline?"),'</h1>\n\t\t\t\t\t\t<div class="banner-button first_button"><span>').concat(i.a.translate("Show Online Models"),"</span></div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</article>\n\t\t")}}])&&l(t.prototype,r),n&&l(t,n),a}(r.n(o).a);t.default=h},b909:function(e,t,r){var n=r("3414"),i=r("d869"),o=r("9cb7"),a=r("2809"),s=r("d30b").default,l=function(e,t){l.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(l,n.Component,{name:"PerformerSwapComponent",swapRouteHandler:"",ajaxQueue:null,template:null,init:function(e,t){l.superclass.init.call(this,e,t),this.template=this.template||s,this._setPerformerSwapController()},_setPerformerSwapController:function(){this._performerSwapController instanceof o||(this._performerSwapController=new o({items:{PerformerSwapModel:{component:this._setPerformerSwapModel(),listeners:{"request-success":"_onModelRequestSuccess","request-error":"_onModelRequestError"}}}}),this._performerSwapController.on(n.object([[i.PerformerSwapComponent.EVENT_GET_VISIBLE_PERFORMERS,this._onGetVisiblePerformers],[i.PerformerSwapController.EVENT_SWAP_PERFORMERS,this._onPerformerSwap],[i.PerformerSwapController.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,this._onPerformerSwapLast],[i.PerformerSwapController.GET_ALL_PERFORMERS,this._onGetAllPerformers],["scope",this]])))},_setPerformerSwapModel:function(){return this._performerSwapModel instanceof a||(this._performerSwapModel=new a(this.element,{swapRouteHandler:this.swapRouteHandler,ajaxQueue:this.ajaxQueue})),this._performerSwapModel},onAllPerformersReady:function(e){this._performerSwapController.onAllPerformersReady(e)},setVisibleViews:function(e){this._performerSwapController.setVisiblePerformerViews(e)},setSwappedPerformers:function(e){this._performerSwapModel.setSwappedPerformers(e)},enableSwapping:function(){this._performerSwapController.enableSwappingIfItIsDisabled()},disableSwapping:function(){this._performerSwapController.disableSwappingIfItIsEnabled()},_onGetVisiblePerformers:function(){this.fireEvent(i.PerformerSwapComponent.EVENT_GET_VISIBLE_PERFORMERS)},_onGetAllPerformers:function(){this.fireEvent(i.PerformerSwapComponent.GET_ALL_PERFORMERS)},_onPerformerSwapLast:function(e){this.fireEvent(i.PerformerSwapComponent.EVENT_SWAP_PERFORMER_WITH_LAST_PERFORMER,e)},_onPerformerSwap:function(e){this.fireEvent(i.PerformerSwapComponent.EVENT_SWAP_PERFORMERS,e)},bind:function(){l.superclass.bind.call(this)},unbind:function(){l.superclass.unbind.call(this)}})},bb3b:function(e,t,r){var n=r("3414"),i=r("d869"),o=r("5aa8"),a=r("9b72"),s=r("170d").default,l=r("20d3").default,c=r("0592").default,u=r("7ab0"),f=function(e,t){f.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(f,n.Controller,{name:"ListPagePlayerController",overlayId:"overlay",visibleFreeModels:[],isBigThumbsExists:!0,isRandomPlayerEnabled:!1,forceDelayedInit:!1,performer:void 0,freeChannelType:"free",_delayedTaskDelayInIE11:100,_delayedTaskDelay:200,_delayedTaskListPagePlayerInitDelay:250,_startLPPStreamDelay:1e4,_isWindowHasFocus:!0,_isPlayingAllowed:!0,_isCookieDisabled:n.Config.get("is-cookie-disabled"),_pulseDelay:200,init:function(e,t){this._isMouseOverWindow=!Ext.isIE,f.superclass.init.call(this,e,t),this._overlayPlayerOpened=!1,this.ListPagePlayerView.setElements(),this.isRandomPlayerEnabled&&this._startRandomPlayerOnInit(),this.addEvents(i.ListPagePlayerController.EVENT_GET_VISIBLE_FREE_MODELS,i.ListPagePlayerController.EVENT_MOUSE_OUT)},setVisibleFreeModels:function(e){this.visibleFreeModels=e},setListPagePlayerParams:function(e){var t=n.extend({},this.loadDataObject,Ext.decode(e));this.performerName===t.performer_id&&!0===this.isPlaying&&this._selectPlayingProcess(t)},resetRandomPlayer:function(){this._stopRandomPlayer()},_setRandomPlayerTasks:function(){this._randomPlayerTask=new Ext.util.DelayedTask(this._startRandomPlayer,this)},_getVisibleFreeModels:function(){this.fireEvent(i.ListPagePlayerController.EVENT_GET_VISIBLE_FREE_MODELS,this)},_getRandomPerformer:function(){return this.visibleFreeModels[Math.floor(Math.random()*this.visibleFreeModels.length)]},_getListPagePlayerParams:function(){this.isPlaying||(this.isPlaying=!0,this.performer&&(this.startPulse(),this.ListPagePlayerView.getPerformerDetails({performerId:this.performerName,appletType:i.appletType.HTML5,videoPreviewSize:this.performer.getVideoPreviewSize()})))},startPulse:function(){this.getHTML5VideoComponent().startPulse(this.performer)},stopPulse:function(e){e?this.getHTML5VideoComponent().stopPulse():setTimeout(function(){this.getHTML5VideoComponent().stopPulse()}.bind(this),this._pulseDelay)},resetPulseLayer:function(){this.getHTML5VideoComponent().resetPulseLayer()},_isPerformerFree:function(){return this.performerStatus===this.freeChannelType||this.performerStatus===i.ListPageModelAbstract.PERFORMER_STATUS_ONLINE},_isPlayFreeChannelEnabled:function(e){var t=e.channel_type;return t&&1===n.Config.get("isChannelStreamEnabledInListPagePlayer")?-1!==t.search(this.freeChannelType)&&1!==this.performerStatus&&n.Config.get("isFreeChannelSlideShowEnabled")?1:0:this._isHostedChannel(e)?1:0},_isHostedChannel:function(e){return 1===e.ishostedchannel&&"JasminChannel"!==e.performer_id},_isRandomPlayerAllowed:function(){return(this._isWindowHasFocus||!this._isWindowHasFocus&&this._isMouseOverWindow)&&this.isRandomPlayerEnabled&&this._isPlayingAllowed&&!Ext.fly(this.overlayId).isVisible()&&!u.isChatAppletOnPage()},_stopThumbnailSlideShow:function(){this._getListPageGallery().stopSlideShow()},_stopHTML5Video:function(){this.getHTML5VideoComponent().stopVideo(),n.fireEvent(i.ListPagePlayerController.GLOBALEVENT_HTML5_PLAYER_STOPPED)},_startHTML5Video:function(e){var t=this;Promise.resolve().then(function(){r("f94d").default.instance.appletReady.then(function(){this.getHTML5VideoComponent().playVideo(e)}.bind(t))}.bind(null,r)).catch(r.oe)},getHTML5VideoComponent:function(){return this._html5video instanceof s||(this._html5video=new s(this.element,{})),this._html5video},_startLPPStream:function(){this.isRandomPlayerEnabled&&this._randomPlayerTask&&this._restartRandomPlayerTaskWithDelay(this._startLPPStreamDelay)},_startRandomPlayerOnInit:function(){this._stopRandomPlayerTask(),this._setRandomPlayerTasks(),this._randomPlayerTask.delay(this._delayedTaskDelay)},_stopRandomPlayerTask:function(){this._randomPlayerTask&&this._randomPlayerTask.cancel()},_stopRandomPlayer:function(){this._performerStopped(),delete this.performer,this._stopThumbnailSlideShow(),this._stopHTML5Video(),"html5"===this.playerType?this._stopHTML5Video():"teaser"===this.playerType&&this.getHTML5VideoComponent().stopTeaser(),this._randomPlayerTask&&(this._isPlayingAllowed=!0,this._randomPlayerTask.delay(1e3))},_startRandomPlayer:function(e){this._isRandomPlayerAllowed()&&(this._overlayPlayerOpened?this._stopRandomPlayerTask():(this._stopRandomPlayer(),this._getVisibleFreeModels(),0!==this.visibleFreeModels.length||e?(this._performerStopped(),this.performer=e||this._getRandomPerformer(),this.performer&&this.performer.model.getName()!==this.performerName?this._startRandomPlayerTaskOnNextPerformer():this._restartRandomPlayerTaskWithDelay(300)):this._restartRandomPlayerTaskWithDelay(3e3)))},_startRandomPlayerTaskOnNextPerformer:function(){this.initListPagePlayer(this._delayedTaskDelay),this._restartRandomPlayerTaskWithDelay(this._startLPPStreamDelay)},_performerStopped:function(){n.isDefined(this.performer)&&this.performer.model&&this.performer.model.setLppStatusStopped()},_restartRandomPlayerTaskWithDelay:function(e){this._stopRandomPlayerTask(),this._randomPlayerTask&&this._randomPlayerTask.delay(e)},_selectPlayingProcess:function(e){if(!this.isChatOpenedOverHtml5ListPagePlayer()){e.teaser_type=e.teaser_type?e.teaser_type.toUpperCase():"",e.pid=this.performer?this.performer.model.getName():e.performer_id,e.perf_url=this.performer?this.performer.getAnchorElement().dom.href:n.getUrl("Chat/Performer",{performerId:e.performer_id},{}),e.playFreeChannel=this._isPlayFreeChannelEnabled(e),e.teaser_url=e.hasOwnProperty("video")?e.video:"",e=this._setIsHostedChannelParam(e),o.isHTML5ListPagePlayerEnabled()&&this._isPerformerFree()?(this.playerType="html5",u.updateHTMLAppletVars(e),this._startHTML5Video(e)):e.teaser_url?(this.playerType="teaser",this.getHTML5VideoComponent().playTeaser(e.teaser_url)):(this.playerType="gallery",this._startThumbnailSlideShow())}},_getListPageGallery:function(){return this.listPageGallery instanceof l||(this.listPageGallery=new l(this.element,{})),this.listPageGallery},_startThumbnailSlideShow:function(){var e=this;this._getListPageGallery().startSlideShow(this.performer).then((function(t){e.stopPulse(!0),t.message===i.ListPageGalleryComponent.MESSAGE_READY_TO_PLAY&&e.getHTML5VideoComponent().getLayoutMode()===i.HTML5AppletComponent.LAYOUT_MODE_MINIMAL&&e._stopHTML5Video()})).catch(this.stopPulse.bind(this,!0))},_setIsHostedChannelParam:function(e){return 1===e.playFreeChannel&&(e.ishostedchannel=0),e},initListPagePlayer:function(e){this.performer&&this.performer.model&&this.ListPagePlayerView.listPagePlayerDivEl&&(this.performer.model.setLppStatusPlaying(),this.isPlaying=!1,this.performerStatus=this.performer.model.getStatus(),this.performerName=this.performer.model.getName(),this.loadDataObject=this.performer.model.getFlashData(),this.requestTask&&this.requestTask.cancel(),this.requestTask=new Ext.util.DelayedTask(this._getListPagePlayerParams,this),this.requestTask.delay(e))},onPerformerViewMouseOver:function(e){this._overlayPlayerOpened||(this._stopRandomPlayerTask(),this.performer&&this.performer!==e&&(this._stopHTML5Video(),this._stopRandomPlayer()),(!u.isPrivatePeekAllowedInThumbnail()||2!==e.model.getStatus()&&3!==e.model.getStatus())&&(e.model.hasVideoCall()&&0===e.model.getStatus()||e instanceof a||this.performer&&this.performer===e||this.reInitListPagePlayerOnceStreamStop(e,this.forceDelayedInit?this._delayedTaskListPagePlayerInitDelay:this._delayedTaskDelay)))},reInitListPagePlayerOnceStreamStop:function(e,t){this._performerStopped(),this.performer=e,this._isPlayingAllowed=!1,this.isPlaying=!1,this._stopRandomPlayerTask(),this.initListPagePlayer(t)},onPerformerViewMouseOut:function(){this.isChatOpenedOverHtml5ListPagePlayer()||(this._isPlayingAllowed=!0,this._stopRandomPlayer(),this.isPlaying=!1)},_onWindowFocus:function(){this._isWindowHasFocus=!0},_onWindowBlur:function(){this._isWindowHasFocus=!1,this.isChatOpenedOverHtml5ListPagePlayer()||this._stopRandomPlayer()},_onBrowserMouseOver:function(e,t){n.Util.checkMouseCrossedWindowBorder(e,t)&&!this._isMouseOverWindow&&(this._isMouseOverWindow=!0,this._startRandomPlayer())},_onBrowserMouseOut:function(e,t){this.isChatOpenedOverHtml5ListPagePlayer()||n.Util.checkMouseCrossedWindowBorder(e,t)&&(this._isMouseOverWindow=!1,this._stopRandomPlayer())},_onWindowScroll:function(){this.isChatOpenedOverHtml5ListPagePlayer()||(n.isUndefined(this.performer)||this.performer.model&&!this.performer.model.getIsOnViewPort())&&this._stopRandomPlayer()},_onWindowResize:function(){this.isChatOpenedOverHtml5ListPagePlayer()||this._stopRandomPlayer()},_onOverlayMouseOver:function(){this.isChatOpenedOverHtml5ListPagePlayer()||this._stopRandomPlayer()},onWindowShow:function(e){this.isChatOpenedOverHtml5ListPagePlayer()||e&&e.window&&-1===["Tooltip","window","DropDownMenu","SearchFilterWindow"].indexOf(e.window.name)&&this._stopRandomPlayerTask()},onWindowHide:function(e){e&&e.window&&"Tooltip"!==e.window.name&&this._startLPPStream()},onOverlayOpen:function(e){if(this.getHTML5VideoComponent().stopTeaser(),this._overlayPlayerOpened||(this._overlayPlayerOpened=e.scope.name===i.ChatModalComponent.NAME),this.stopPulse(!0),this.isChatOpenedOverHtml5ListPagePlayer())return!this._overlayPlayerOpened&&this.performer&&n.hasPath(e,"scope.performerName")&&e.scope.performerName!==this.performer.model.getName()&&(this._stopRandomPlayer(),this._stopRandomPlayerTask()),void(this.requestTask&&this.requestTask.cancel());this._stopRandomPlayer(),this._stopRandomPlayerTask()},onOverlayClose:function(e){e.scope&&e.scope.name===i.ChatModalComponent.NAME&&(this._overlayPlayerOpened=!1,this._stopRandomPlayer(),this._startLPPStream())},onPerformerDetailsSuccess:function(e){this.setListPagePlayerParams(e)},onPerformerDetailsError:function(){this.stopPulse(!0)},onlistPageThumbnailResize:function(){this._stopRandomPlayer()},onSidebarToggle:function(){this._stopRandomPlayer()},isChatOpenedOverHtml5ListPagePlayer:function(){return"html5"===this.playerType&&c.getActiveModal()&&c.getActiveModal().name===i.ChatModalComponent.NAME||this._overlayPlayerOpened},onAppletOutOfContent:function(e){if(this.getHTML5VideoComponent().getLayoutMode()===i.HTML5AppletComponent.LAYOUT_MODE_MINIMAL){var t=this.performer&&this.performer.model.getName()||null;e.performerName===t&&this._startThumbnailSlideShow()}},bind:function(){Ext.fly(this.overlayId).on("mouseover",this._onOverlayMouseOver,this),this._bindedWindowEvents={resize:this._onWindowResize,blur:this._onWindowBlur,focus:this._onWindowFocus,scroll:this._onWindowScroll,scope:this},Ext.fly(window).on(this._bindedWindowEvents),Ext.fly(document).on({mouseover:this._onBrowserMouseOver,mouseout:this._onBrowserMouseOut,scope:this}),n.on(n.Broadcaster,i.IndexIndex.GLOBALEVENT_THUMBNAIL_SIZE_BUTTON_CLICK,this.onlistPageThumbnailResize,this),n.on(n.Broadcaster,i.IndexIndex.GLOBALEVENT_TOGGLE_SIDEBAR_BUTTON_CLICK,this.onSidebarToggle,this)},unbind:function(){Ext.fly(this.overlayId).un("mouseover",this._onOverlayMouseOver,this),Ext.fly(window).un(this._bindedWindowEvents),Ext.fly(document).un({mouseover:this._onBrowserMouseOver,mouseout:this._onBrowserMouseOut,scope:this})}})},d30b:function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("7ab0"),a=r.n(o),s=r("7b09"),l=r.n(s),c=function e(t){e.superclass.constructor.call(this,t)};Ext.extend(c,l.a,{name:"PerformerTemplate",tpl:'<article id="{id}" class="{containerClass} {hasVipShow} {hasVideoCall} {hasStory}" data-status="{dataStatus}" data-langs="{language}">\n                {imageBlock}\n                <a href="{href}" rev="{rev}">\n                    {debugText}\n                    <span class="favorite {isFavorite}" data-model-id="{favoriteId}"> </span>\n                    {rightBottomBadge}\n                    <span class="performer_name">{performerNameBlock}</span>\n                    {mobileBadgeBlock}\n                    {badgeBlock}\n                    {videoBadgeBlock}\n                    {storyIconBlock}\n                </a>\n            </article>',idPrefix:"container_",perfContainerClass:"perf_container",chatRouting:"Chat/Performer",html5ChatPageRouting:"ChatHtml5/Performer",getBadge:function(e){return i.a.isString(e)?'<span class="badge '.concat(e,'">&nbsp;</span>'):""},getVideoCallBadge:function(e){return e?'<span class="videoCallBadge">'.concat(a.a.svgIconBlock("video-call"),"</span>"):""},getStoryIcon:function(e){return e?'<span class="story-icon"></span>':""},getMobileBadge:function(e){return e?'<span class="mobile-badge">'.concat(a.a.svgIconBlock("mobile-badge"),"</span>"):""},setUrl:function(e){return e.href||e.chatPageUrl},getDebugBlock:function(e){return e&&e.title&&e.title.length?'<div class="recommender_debug">\n                        <span>'.concat(e.title,"</span>\n                        <pre>").concat(e.details,"</pre>\n                    </div>"):""},getImageBlock:function(e,t,r){return a.a.isHokkaido()?'<picture class="cover">\n                  '.concat(!Ext.isEdge&&'<source data-srcset="'.concat(t,'" type="image/webp">'),'\n                  <img src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7" \n                    data-src="').concat(t.replace(".webp",".{ext}"),'" \n                    class="cover performer-image" alt="').concat(r,'">\n               </picture>'):'<picture class="cover">\n                    '.concat(!Ext.isEdge&&'<source srcset="'.concat(t,'" type="image/webp">'),'\n                    <img src="').concat(e,'" class="cover" alt="').concat(r,'">\n               </picture>')},getPerformerNameBlock:function(e,t,r){var n='<span class="performer_name_simple"> '.concat(t," </span>");return e&&(n='<span class="vipshow_icon">'.concat(a.a.svgIconBlock("vipshow"),'</span>\n\t\t\t<span class="performer_name_simple"> ').concat(t,' </span>\n\t\t\t<span class="vipshow_text">').concat(r,"</span>")),n},_setTemplateParams:function(e){var t=1===parseInt(e.has_vip_show,10),r=i.a.Config.get("video_call_enabled")&&1===parseInt(e.is_video_call_enabled,10),n=i.a.translate("{name}'s VIP Show",{name:e.display_name}),o="JasminCamMobile"===e.software;return{id:this.idPrefix+e.id,name:e.pid,displayName:e.display_name,altText:e.altText||e.pid,src:e.profilePictureUrl,imageBlock:this.getImageBlock(e.profilePictureUrl,e.profileWebpPictureUrl,e.altText||e.pid),defaultImage:i.a.Config.get("newPerformerImageSmall"),containerClass:this.perfContainerClass,hasVipShow:t?"vipshow":"",hasVideoCall:r?"hasvideocall":"",hasStory:e.has_story?"has-story":"",dataStatus:e.originalStatus,rev:e.gravity_category,href:this.setUrl(e),badgeBlock:this.getBadge(e.active_badge),videoBadgeBlock:this.getVideoCallBadge(r),storyIconBlock:this.getStoryIcon(e.has_story),mobileBadgeBlock:this.getMobileBadge(o),rightBottomBadge:this.getBadge(e.right_bottom_badge),isFavorite:1===parseInt(e.isFavorite,10)?"remove":"add",favoriteId:e.id,profilePictureUrl:e.profilePictureUrl,profileWebpPictureUrl:e.profileWebpPictureUrl,debugText:this.getDebugBlock(e.debug),subscriptionStatus:e.isCanceledSubscription?"canceled":"subscribed",translatedVipShowText:n,performerNameBlock:this.getPerformerNameBlock(t,e.display_name,n),language:e.language||""}}}),t.default=c},e481:function(e,t,r){"use strict";r.r(t);var n=r("3414"),i=r.n(n),o=r("7ab0"),a=r.n(o),s=r("d869"),l=r.n(s),c=r("8af1"),u=r.n(c),f=r("63f1"),d=r.n(f),h=r("978c"),p=r("a9a1"),m=r("870e"),g=r("0a81"),y=r("628a");function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var E=Object(y.b)({name:"vipShows",initialState:{ongoingShows:[],userSubscriptions:{}},reducers:{addOngoingShows:function(e,t){t.payload.forEach((function(t){var r=t.performer,n=t.viewer,i=b(t,["performer","viewer"]),o=r.id;e.userSubscriptions[o]=n.subscribed,e.ongoingShows.push(P({performerId:o},i))}))},addOngoingShow:function(e,t){var r=t.payload,n=r.showId,i=r.showType,o=r.performerId,a=b(r,["showId","showType","performerId"]);e.userSubscriptions[o]=!!e.userSubscriptions[o],e.ongoingShows.push(P(P({},a),{},{performerId:o,id:n,type:i}))},setShowCancelledOrEnded:function(e,t){var r=t.payload;e.ongoingShows=e.ongoingShows.filter((function(e){return e.performerId!==r})),delete e.userSubscriptions[r]},setUserIsSubscribed:function(e,t){var r=t.payload;e.userSubscriptions[r]=!0}}}),w=E.actions,S=w.addOngoingShows,C=w.addOngoingShow,O=w.setShowCancelledOrEnded,T=w.setUserIsSubscribed,I=E.reducer,L=r("d8e5"),A=r("5f9e"),V=r.n(A),R=function(){return new Promise((function(e,t){V.a.request({method:"GET",type:"JSON",url:Object(L.a)("Show/GetOngoing"),scope:void 0,success:function(r){var n=i.a.getPath(r,"json.data"),o=i.a.getPath(r,"json.data.data");n.success?e(o):t(n)},error:t,failure:t})}))},M=r("a669");function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=u.a.createContext(),B=u.a.createContext(),D=function(e){var t=e.children,r=k(Object(c.useReducer)(I),2),n=r[0],o=r[1],a=Object(g.d)(),s=Object(g.e)((function(e){return e.listPage.performersWithOngoingShows})),l=Object(M.a)(["performer.show.ended.withperformer","performer.show.cancelled.withperformer","performer.show.started.withperformer"]),f=function(e){o(T(e))};return Object(c.useEffect)((function(){return i.a.Broadcaster.on("UpdateVIPShowsProviderFromApplet",f,void 0),function(){return i.a.Broadcaster.un("UpdateVIPShowsProviderFromApplet",f,void 0)}}),[]),Object(c.useEffect)((function(){R().then((function(e){var t=e.shows,r=e.private_peek_disabled,n=t.reduce((function(e,t){return e.push(t.performer.id),e}),[]);o(S(t)),Object(g.b)((function(){a(Object(m.setPerformersWithShows)(n)),a(Object(m.disablePeek)(r))}))}))}),[]),Object(c.useEffect)((function(){if(l){var e=l.body,t=e.performerId,r=e.status;("cancelled"===r||"ended"===r)&&s.indexOf(parseInt(t,10))>-1&&(a(Object(m.showFinished)(t)),o(O(t))),"started"===r&&(a(Object(m.setPerformerWithShow)(t)),o(C(e)))}}),[l]),u.a.createElement(x.Provider,{value:n,"data-testid":"contextProvider"},u.a.createElement(B.Provider,{value:a,"data-testid":"contextProvider"},t))},j=function(e,t){var r=Object(c.useRef)(null);Object(c.useEffect)((function(){var t=document.getElementById(e);if(t)return t.appendChild(r.current),function(){r.current.remove(),-1===t.childNodes.length&&t.remove()}}),[t]);return r.current||(r.current=document.createElement("div")),r.current},F=r("8a2d"),H=r.n(F),G=r("791c"),W=r("0b3c"),U=r("9ced"),z=W.d.div.withConfig({displayName:"styledes6__Container",componentId:"sc-1m8v4t9-0"})(["top:0;color:#fff;width:calc(100% - 3px);height:calc(100% - 3px);cursor:pointer;display:flex;z-index:130;position:absolute;font-size:12px;background:rgba(0,0,0,0.8);text-align:center;flex-direction:column;justify-content:center;opacity:0;&:hover{opacity:1;}"]),K=W.d.div.withConfig({displayName:"styledes6__Title",componentId:"sc-1m8v4t9-1"})(["font-size:",";font-weight:bold;text-shadow:1px 1px rgba(0,0,0,0.38);"],(function(e){return"small"===e.size?"12px":"14px"})),Y=W.d.div.withConfig({displayName:"styledes6__Price",componentId:"sc-1m8v4t9-2"})(["font-size:10px;color:#ccc;text-transform:capitalize;font-weight:bold;"]),Q=Object(W.d)(U.a).withConfig({displayName:"styledes6__Button",componentId:"sc-1m8v4t9-3"})(["align-self:center;margin:10px 0;"]),q=function(e){var t=e.privatePeekPrice,r=e.inExclusivePrivate,n=e.hasPrivatePeek,o=Object(g.e)((function(e){return e.user._user.balances.freePeeks})),a=r?"I'm in Exclusive Private Chat":"I'm in <strong>Private Chat</strong>";return u.a.createElement(z,{"data-testid":"PrivateChatMaskContainer"},u.a.createElement(K,{"data-testid":"PrivateChatMaskTitle"},u.a.createElement(G.a,{as:"p"},a)),!r&&n&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Q,{small:!0,onClick:function(e){e.preventDefault(),e.stopPropagation(),i.a.fireEvent("PerformerView:privatePeekButtonClick")},"data-testid":"PrivateChatMaskButton"},u.a.createElement(G.a,null,"Take a peek")),u.a.createElement(Y,{"data-testid":"PrivateChatMaskPrice"},o>0?u.a.createElement(G.a,null,"Free"):u.a.createElement(G.a,{credits:t},t>1?"{credits} credits":"{credit} credit"))))};q.propTypes={privatePeekPrice:F.number.isRequired,inExclusivePrivate:F.bool,hasPrivatePeek:F.bool},q.defaultProps={inExclusivePrivate:!1,hasPrivatePeek:!1};var J=q,X=r("089a"),Z=r("1cab"),ee=Object(W.c)(["height:32px;margin:14px 0;padding:0 14px;font-size:12px !important;line-height:12px;@media only screen and (min-width:1340px) and (max-width:1450px){height:28px;margin:7px 0;}"]),te=Object(W.c)(["height:36px;line-height:14px;"]),re=Object(W.c)(["font-size:12px;"]),ne=W.d.div.withConfig({displayName:"styledes6__VipShowBoxContainer",componentId:"sc-18dgjbg-0"})(["color:#ffffff;font-size:12px;position:absolute;width:calc(100% - 3px);height:calc(100% - 3px);background:rgba(0,0,0,0.8);z-index:130;top:0;display:flex;flex-direction:column;justify-content:center;text-align:center;cursor:pointer;"]),ie=W.d.div.withConfig({displayName:"styledes6__Title",componentId:"sc-18dgjbg-1"})(["font-size:",";font-weight:bold;text-shadow:1px 1px rgba(0,0,0,0.38);span{color:#ffcc00;}",";"],(function(e){return"small"===e.size?"12px":"14px"}),(function(e){return"small"===e.size&&re})),oe=Object(W.d)(U.a).withConfig({displayName:"styledes6__JoinNowButton",componentId:"sc-18dgjbg-2"})(["margin:15px 0;padding:0 19px !important;height:36px;line-height:14px !important;",";",";"],(function(e){return"small"===e.size&&ee}),(function(e){return"medium"===e.size&&te})),ae=W.d.div.withConfig({displayName:"styledes6__ContainerFooter",componentId:"sc-18dgjbg-3"})(["font-size:10px;color:#cccccc;text-transform:capitalize;font-weight:bold;"]),se=Object(W.d)(G.a).withConfig({displayName:"styledes6__TranslatedBooked",componentId:"sc-18dgjbg-4"})(["color:#85b400;"]),le=function(e){var t=e.size,r=e.name;return"small"===t?u.a.createElement(G.a,{as:"p"},"I'm in [span]VIP Show[/span]"):u.a.createElement(G.a,{as:"p",name:r},"{name}'s [span]VIP Show[/span]")};le.propTypes={size:H.a.string.isRequired,name:H.a.string.isRequired};var ce=function(e){var t=e.performerId,r=Object(g.e)((function(e){return e.listPage.performers[t]})),n=Object(g.e)((function(e){return e.listPage.gridLayout})),o=r.pid,s=function(){var e=u.a.useContext(x);if(void 0===e)throw new Error("VipShowsStateContext must be used within a VipShowsProvider");return e}(),c=s.userSubscriptions,f=s.ongoingShows,d=c[t],h=f.find((function(e){return e.performerId===t})).minimumBuyInCredits,p=h>1?"".concat(h," ").concat(Object(X.a)("credits")):"".concat(h," ").concat(Object(X.a)("credit"));return u.a.createElement(ne,{"data-testid":"VipShowMaskVipShowBoxContainer"},u.a.createElement(ie,{size:n,"data-testid":"VipShowMaskTitle"},u.a.createElement(le,{size:n,name:o,"data-testid":"VipShowMaskTitleText"})),u.a.createElement("div",null,u.a.createElement(oe,{onClick:function(e){e.preventDefault(),e.stopPropagation(),i.a.fireEvent(l.a.PerformerView.EVENT_JOIN_VIP_SHOW_FROM_LIST_PAGE);var t=a.a.isCurrentPage(l.a.PageId.FAVORITE_INDEX)?Z.default.CONST.PAGE.FAVORITE:Z.default.CONST.PAGE.LISTS;Z.default.trackGenericEvent({eventCategory:t,eventAction:Z.default.CONST.ACTION.CLICK,eventLabel:"join now vip show"})},size:n,theme:d?"lime":"primary","data-testid":"VipShowMaskJoinNowButton"},u.a.createElement(G.a,null,"Join now"))),u.a.createElement(ae,{"data-testid":"VipShowMaskContainerFooter"},d?u.a.createElement(se,{as:"span","data-testid":"VipShowMaskTranslatedBooked"},"Booked"):p))};ce.propTypes={performerId:H.a.number.isRequired};var ue=ce;function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ge=function(e,t){var r=t.status,n=t.inExclusivePrivate,o=pe(Object(c.useState)({status:r,inExclusivePrivate:n}),2),a=o[0],s=o[1],u=Object(c.useCallback)((function(t){var r=t.header;void 0!==r[e]&&r[e]!==a.status&&s(de(de({},a),{},{status:r[e]}))}),[a,s,e]),f=Object(c.useCallback)((function(t){var r=t.body;r.performerId===e&&a.inExclusivePrivate!==r.inExclusivePrivate&&s(de(de({},a),{},{inExclusivePrivate:r.inExclusivePrivate}))}),[a,s,e]);return Object(c.useEffect)((function(){return i.a.Broadcaster.on(l.a.JawsNotificationsComponent.GLOBALEVENT_PERFORMER_STATUS_CHANGE,u),i.a.Broadcaster.on(l.a.JawsNotificationsComponent.GLOBALEVENT_PERFORMER_DETAILS_CHANGE,f),function(){i.a.Broadcaster.un(l.a.JawsNotificationsComponent.GLOBALEVENT_PERFORMER_STATUS_CHANGE,u),i.a.Broadcaster.un(l.a.JawsNotificationsComponent.GLOBALEVENT_PERFORMER_DETAILS_CHANGE,f)}}),[u,f]),a},ye=function(e){var t=e.performer,r=parseInt(t.id,10),n=j("container_".concat(r),t),i=ge(r,{status:t.status,inExclusivePrivate:t.in_exclusive_private}),o=i.status,a=i.inExclusivePrivate,s=Object(g.e)((function(e){return e.listPage.performersWithOngoingShows})).indexOf(r)>=0,l=2==+o||3==+o,c=1==+t.ispeek,d=t.sneak_peek_price;return!s&&l?Object(f.createPortal)(u.a.createElement(J,{privatePeekPrice:d,inExclusivePrivate:a,hasPrivatePeek:c,"data-testid":"PerformerViewMasksPrivateChatMask"}),n):s?Object(f.createPortal)(u.a.createElement(ue,{performerId:r,"data-testid":"PerformerViewMasksVipShowMask"}),n):null},_e=function(){var e=Object(g.e)((function(e){return e.listPage.performers}));return Object.values(e).map((function(e){return e.category?u.a.createElement(ye,{key:e.id,performer:e,"data-testid":"PerformerViewMasksPerformerViewMask"}):null}))},Pe=r("0031"),ve=r.n(Pe),be=r("88fa"),Ee=r("9b72"),we=r.n(Ee);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oe=function e(t,r){e.superclass.constructor.call(this,t,r)};t.default=Ext.extend(Oe,i.a.View,{name:"ListPageView",_performerCollection:{},_containerIdPrefix:"container_",listpageId:"listpage",pageSelector:".page.showless",pageClass:"page showless",visiblePageSelector:".page.visible",visiblePageClass:"visible",_listPageCount:1,_showMoreBtnId:"show_more_btn",_noResultSelector:".no-result",_noResultHiddenClass:"is-hidden",_scrollStopInterval:200,_bigCountAttribute:"data-big-count",_pageIdAttribute:"data-page-id",_errorTagTemplate:'<span id="error_hint"></span>',_listPageBtnCls:"first_button",_refreshPageBtnId:"refresh_page_btn",_scrollTopPos:0,init:function(){this._debouncedViewPortChangeStop=i.a.debounce(i.a.bind(this._onViewPortChangeStop,this),this._scrollStopInterval),Oe.superclass.init.call(this),this._errorTagTemplate='<span id="error_hint">'.concat(i.a.translate("There are no more live performers at the moment... Please try again later"),"</span>"),this.element&&(this._selectElements(),this._bindElements()),this.initializePerformerViewMasks()},initializePerformerViewMasks:function(){this.perforformerViewMasksContainer=Ext.DomHelper.append(this.element,"<div></div>",!0),this.renderPerformerViewMasks()},renderPerformerViewMasks:function(){d.a.render(u.a.createElement(h.a,{store:p.store,"data-testid":"ListPageViewAbstractProvider"},u.a.createElement(D,{"data-testid":"ListPageViewAbstractVipShowsProvider"},u.a.createElement(_e,{"data-testid":"ListPageViewAbstractPerformerViewMasks"}))),this.perforformerViewMasksContainer.dom)},_selectElements:function(){this._listpageEl=Ext.get(this.listpageId),this._showMoreBtnEl=Ext.get(this._showMoreBtnId),this._noResultElement=this.element.select(this._noResultSelector)},updateNoResultBlockVisibility:function(){this._noResultElement&&(Object.keys(this._performerCollection).length>0?this._noResultElement.addClass(this._noResultHiddenClass):this._noResultElement.removeClass(this._noResultHiddenClass))},getPerformerViewById:function(e){return this._performerCollection[e]},createPerformerView:function(e,t){var r=Ext.apply({model:e},t),n=new(this._getViewClass(e))(r);return this._addPerformerViewToCollection(e.getId(),n),n},showMoreError:function(){this._listpageEl.addClass(l.a.AutoShowMore.CLASS_SHOW_MORE_BUTTON_VISIBLE),$(this._showMoreBtnEl.dom).protipShow({title:this._errorTagTemplate,trigger:"sticky",position:"top",autoHide:7e3}).on("protiphide",i.a.bind(this._createRefreshPageBtn,this))},removeShowMoreError:function(){this._showMoreBtnEl&&$(this._showMoreBtnEl.dom).off("protiphide").protipHide()},_createRefreshPageBtn:function(){Ext.fly(this._refreshPageBtnId)||Ext.DomHelper.insertAfter(this._showMoreBtnEl,{tag:"a",href:"javascript:window.location.reload();",cls:this._listPageBtnCls,id:this._refreshPageBtnId,html:i.a.translate("Refresh page")})},_getViewClass:function(e){return e instanceof ve.a?we.a:be.default},_addPerformerViewToCollection:function(e,t){t.on(l.a.Chaos.View.EVENT_DESTROY,i.a.bind(this._onPerformerViewDestroy,this,e),this),t.on(l.a.ListPageItemViewAbstract.EVENT_VIEW_REPLACED,this._onPerformerViewReplaced,this),t.on(l.a.PerformerView.EVENT_VIEW_MOUSEOVER,this._onPerformerViewMouseOver,this),t.on(l.a.PerformerView.EVENT_VIEW_MOUSEOUT,this._onPerformerViewMouseOut,this),this._performerCollection[e]=t,t.setCurrentOrder(Object.keys(this._performerCollection).length)},_appendPerformerViewToContainer:function(e,t){t.element&&(e.appendChild(t.element),t.checkIfIsOnViewPort())},_createNewListPage:function(){var e,t=this.select("".concat(this.pageSelector,":last")).item(0),r=i.a.object([["tag","section"],["cls",this.pageClass],[this._pageIdAttribute,this._listPageCount],[this._bigCountAttribute,this.model.bigPictureCount]]);return e=i.a.isNull(t)?this._insertZeroPage(r):Ext.DomHelper.insertAfter(t,r,!0),this._listPageCount++,e},_insertZeroPage:function(e){return Ext.DomHelper.insertFirst(this.element,e,!0)},_checkPerformerViewVisibility:function(){i.a.each(this._performerCollection,(function(e){e.checkIfIsOnViewPort()}))},_managePageVisibility:function(){i.a.each(this.select(this.pageSelector).elements,(function(e){var t=Ext.get(e),r=a.a.isHokkaido()?1500:0,n=a.a.isVerticallyInViewport(e,r);n&&!t.hasClass(this.visiblePageClass)?t.addClass(this.visiblePageClass).setStyle({height:"auto"}):!n&&t.hasClass(this.visiblePageClass)&&this.select(this.visiblePageSelector).getCount()>1&&t.setStyle({height:"".concat(this.select(this.visiblePageSelector).item(0).dom.getBoundingClientRect().height,"px")}).removeClass(this.visiblePageClass)}),this)},_onNextPage:function(e){var t=this._createNewListPage();i.a.chain(e).map(this.createPerformerView,this).each(i.a.bind(this._appendPerformerViewToContainer,this,t)),this.updateNoResultBlockVisibility()},addPerformerAttributesToStore:function(){var e=[];Object.values(this._performerCollection).map((function(t){return e.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.model.attributes))})),p.store.dispatch(Object(m.addMorePerformers)(e))},_onPerformerViewDestroy:function(e){e in this._performerCollection&&(this._performerCollection[e].purgeListeners(),delete this._performerCollection[e])},_onDestroyModels:function(){window.scrollTo(0,0),this._listPageCount=0,this.element.select(this.pageSelector).remove()},_onPerformerViewReplaced:function(e){i.a.hasPath(e,"newPerformerView")&&i.a.hasPath(e,"oldPerformerView")&&(e.oldPerformerView.model.destroy(),this._addPerformerViewToCollection(e.newPerformerView.model.getId(),e.newPerformerView))},_onPerformerInit:function(e){if(!1===e.attributes.preRendered){var t=this.createPerformerView(e);this._appendPerformerViewToContainer(Ext.select(this.pageSelector),t)}else{var r=this._containerIdPrefix+e.getId();this.createPerformerView(e,{id:r}).checkIfIsOnViewPort()}this.updateNoResultBlockVisibility()},_onViewPortChangeStop:function(){this._checkPerformerViewVisibility()},_onPerformerViewMouseOver:function(e){this.fireEvent(l.a.ListPageViewAbstract.EVENT_VIEW_MOUSEOVER,e)},_onPerformerViewMouseOut:function(e){this.fireEvent(l.a.ListPageViewAbstract.EVENT_VIEW_MOUSEOUT,e)},_onStartLoading:function(){this.removeShowMoreError(),this.element.addClass(l.a.ListPageViewAbstract.CLASS_LOADING)},_onFinishedLoading:function(){this.element.removeClass(l.a.ListPageViewAbstract.CLASS_LOADING),this._managePageVisibility(),this.addPerformerAttributesToStore()},_onShowMoreButtonClick:function(e){e.stopPropagation(),e.preventDefault(),this.fireEvent(l.a.ListPageViewAbstract.EVENT_SHOW_MORE_BUTTON_CLICK),this.model.getNextPage()},_onViewPortChange:function(){this._managePageVisibility(),this._debouncedViewPortChangeStop(),a.a.updateLazy()},bind:function(){Oe.superclass.bind.call(this),this._bindedModelEvents=i.a.object([[l.a.ListPageModelAbstract.EVENT_PERFORMER_INIT,this._onPerformerInit],[l.a.ListPageModelAbstract.EVENT_GET_NEXT_PAGE,this._onNextPage],[l.a.ListPageModelAbstract.EVENT_START_LOADING,this._onStartLoading],[l.a.ListPageModelAbstract.EVENT_FINISHED_LOADING,this._onFinishedLoading],[l.a.ListPageModelAbstract.EVENT_DESTROY_ALL,this._onDestroyModels],["scope",this]]),this.model.on(this._bindedModelEvents),Ext.fly(window).on({scroll:this._onViewPortChange,resize:this._onViewPortChange,scope:this})},unbind:function(){Oe.superclass.unbind.call(this),this.model.un(this._bindedModelEvents),Ext.fly(window).un({scroll:this._onViewPortChange,resize:this._onViewPortChange,scope:this}),this._unbindElements()},_bindElements:function(){this._showMoreBtnEl&&this._showMoreBtnEl.on("click",this._onShowMoreButtonClick,this)},_unbindElements:function(){this._showMoreBtnEl&&this._showMoreBtnEl.un("click",this._onShowMoreButtonClick,this)}})}}]);