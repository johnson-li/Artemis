(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"1a5f":function(e,t,n){var a=n("3414"),i=n("d869"),o=function(e,t){o.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(o,a.Component,{name:"CharacterCounter",maxChar:4e3,warningChar:null,maxCharText:"",warningCharText:"",hasWarningLimit:!0,maxCharCallback:a.emptyFn,warningCharCallback:a.emptyFn,inputId:"message",counterId:"char_number",charInfoId:null,messageErrorId:"message_error",isShowCounter:!0,maxCharSoundId:"max_char_sound",isMaxCharSound:!1,computeMaxChar:!1,_warningLimitUp:!1,_maxCharLimitUp:!1,_inputEl:null,_counterEl:null,_type:null,_delayTask:null,_delayNumber:50,_attempts:0,init:function(e,t){this._inputEl=Ext.get(this.inputId),this._type=this._inputEl.dom.getAttribute("contenteditable")?"contenteditable":"regular",this.computeMaxChar&&(this.maxChar=parseInt(this._inputEl.dom.attributes.maxLength.value,10)),this._delayTask=new Ext.util.DelayedTask(this.refreshCounter,this,[!0]),o.superclass.init.call(this,e,t),this.addEvents(i.CharacterCounter.EVENT_WARNING_LIMIT_REACHED,i.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,i.CharacterCounter.EVENT_WARNING_LIMIT_FALLING,i.CharacterCounter.EVENT_MAX_CHAR_LIMIT_FALLING),this.refreshCounter(!1)},onCharCounterKeyup:function(){this.refreshCounter(!0)},onCharCounterPaste:function(){this._delayTask.delay(this._delayNumber)},attemptCounter:function(){0===this.charLeft?this._attempts++:this._attempts=0},refreshCounter:function(e){this.charLeft=this.maxChar-this.getInputValue().length,this.isShowCounter&&(this._counterEl=Ext.get(this.counterId)),this.attemptCounter(),this.checkCharNumber(e),this.isShowCounter&&(this.charLeft>=0?this._counterEl.dom.innerHTML=this.charLeft:this._counterEl.dom.innerHTML=0)},getInputValue:function(){var e,t;return"regular"===this._type?e=this._inputEl.dom.value:-1!==(t=(e=this._inputEl.dom.innerHTML.replace(/<br[^>]*>/gi,"\n").replace(/(<([^>]+)>)/gi,"").replace(/&nbsp;/g," ")).lastIndexOf("\n"))&&(e=e.substr(0,t)),e},checkCharNumber:function(e){if(this.isWarningNeeded())this.fireEvent(i.CharacterCounter.EVENT_WARNING_LIMIT_REACHED,this),this.warningCharCallback(),this._warningLimitUp=!0;else if(this.isMaxCharReached())"regular"===this._type?this._inputEl.dom.value=this.getInputValue().substr(0,this.maxChar):(this._inputEl.dom.innerHTML=this.getInputValue().substr(0,this.maxChar),this.setEndOfContenteditable(this._inputEl.dom)),this._maxCharLimitUp=!0,this.maxCharCallback(),this._attempts>1&&(this.isMaxCharSound&&e&&this.playAudio(),this.fireEvent(i.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,{scope:this,field:this._inputEl}));else{var t=Ext.get(this.charInfoId);this._warningLimitUp&&(this.fireEvent(i.CharacterCounter.EVENT_WARNING_LIMIT_FALLING,{scope:this,field:this._inputEl}),this._warningLimitUp=!1),t&&t.hide(),this._maxCharLimitUp&&(this.fireEvent(i.CharacterCounter.EVENT_MAX_CHAR_LIMIT_FALLING,{scope:this,field:this._inputEl}),this._maxCharLimitUp=!1)}},setEndOfContenteditable:function(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())},isWarningNeeded:function(){return this.warningChar&&this.charLeft<this.warningChar&&this.charLeft>0&&this.hasWarningLimit},isMaxCharReached:function(){return this.charLeft<=0},preventDragAndDrop:function(e){e.preventDefault()},resetCounter:function(){var e=Ext.get(this.charInfoId);this.isShowCounter&&(Ext.get(this.counterId).dom.innerHTML=this.maxChar),this.charLeft=this.maxChar,e&&e.hide()},onInputBlur:function(){var e=Ext.get(this.charInfoId);e&&e.hide()},playAudio:function(){this.removeAudioTag(),this._audioEl=Ext.DomHelper.append(this.element.id,{tag:"audio",id:this.maxCharSoundId,preload:"auto",children:[{tag:"source",src:a.Config.get("maxCharLimitMp3AudioUrl"),type:"audio/mpeg"},{tag:"source",src:a.Config.get("maxCharLimitOggAudioUrl"),type:"audio/ogg"}]},!0);try{this._audioEl=Ext.get(this.maxCharSoundId),this._audioEl.dom.play()}catch(e){console.info(e)}},removeAudioTag:function(){this._audioEl&&this._audioEl.remove()},bind:function(){o.superclass.bind.call(this),a.on([{element:this._inputEl,event:"keyup",handler:this.onCharCounterKeyup},{element:this._inputEl,event:"paste",handler:this.onCharCounterPaste},{element:this._inputEl,event:"blur",handler:this.onInputBlur}],this),Ext.isChrome||Ext.isSafari||Ext.isEdge?a.on(this._inputEl,"dragover",this.preventDragAndDrop,this):a.on(this._inputEl,"drop",this.preventDragAndDrop,this)},unbind:function(){o.superclass.unbind.call(this),this.removeAudioTag()}})},"1d57":function(e,t,n){var a=n("3414"),i=function(e,t){i.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(i,a.Component,{name:"BioPageThumbnailCarouselView",carouselContainerId:"biopage_perfimg_box",ImageGalleryContainerCls:"perfimg_boxes_container",navigationContainerId:"biopage_gallery_navigation_container",sliderNavigatorCls:"slider_navigator",navigationNextButtonId:"navigation_right_button",navigationPrevButtonId:"navigation_left_button",sliderDotCls:"slider_dots ",imageThumbnailCls:"biopage_thumbnail",duration:.2,enableAnimation:!0,activeCls:"active",dotNavigationContainerCls:"gallery_slider",sliderNavigationCls:"slider_navigator",biopageThumbnailCarouselContainerCls:"biopage_thumbnail_carousel",maxPageIndex:void 0,_imageGalleryContainerSize:void 0,_imageGalleryContainerWidth:void 0,_imageGalleryContainerHeight:void 0,_currentPageIndex:0,init:function(e,t){this.sliderNavigationContainerEl=this.element.select("."+this.dotNavigationContainerCls).item(0),this.navigationContainerEl=Ext.get(this.navigationContainerId),this.carouselContainerEl=Ext.get(this.carouselContainerId),this.biopageThumbnailCarouselContainerEl=this.element.select("."+this.biopageThumbnailCarouselContainerCls).item(0),this.imageGalleryContainerItems=this.carouselContainerEl.select("."+this.ImageGalleryContainerCls),this.performerImagesBoxesContainerEl=this.imageGalleryContainerItems.item(0),this.performerImageBoxHeight=this.performerImagesBoxesContainerEl.getHeight(),this.thumbnailItems=this.carouselContainerEl.select("."+this.imageThumbnailCls),this.thumbnailHeight=this.thumbnailItems.item(0).getHeight(),this.navigationNextButtonEl=Ext.get(this.navigationNextButtonId),this.navigationPrevButtonEl=Ext.get(this.navigationPrevButtonId),i.superclass.init.call(this,e,t),this.initGallery()},getGalleryBoundaries:function(){this.sliderDotItems=this.element.select("."+this.sliderDotCls),this.maxPageIndex=this.getNumberOfPages(),this._imageGalleryContainerWidth=this.performerImagesBoxesContainerEl.getWidth(),this._imageGalleryContainerHeight=this.performerImagesBoxesContainerEl.getHeight()},initGallery:function(){this.getNumberOfRequiredContent(),this.updateNavigation(),this.setActiveClassForDotItem(),this.getGalleryBoundaries(),this.updateArrowNavigationDataValues(),this.refreshContent(),this.setCarouselContainerHeight(),this.removeEmptySlide(),this.setCarouselContainerElWidth(),this.animateThumbnailContainer()},updateNavigation:function(){var e=this.getNumberOfPages(),t="";this.removeDotNavigation();for(var n=0;n<e;n++)t+='<li class="'+this.sliderNavigationCls+" "+this.sliderDotCls+'" data-position="'+n+'" ></li>';this.sliderNavigationContainerEl.dom.innerHTML=t,this.updateArrowNavigationDataValues()},removeDotNavigation:function(){this.sliderNavigationContainerEl.dom.innerHTML=""},removeEmptySlide:function(){for(var e=this.element.select("."+this.ImageGalleryContainerCls),t=1;t<e.elements.length;t++){e.item(t).select("."+this.imageThumbnailCls).item(0)||e.item(t).remove()}},cleanUpDotClasses:function(){return this.sliderDotItems.removeClass(this.activeCls),this},onNavigationClick:function(e){e.preventDefault();var t=e.getTarget("."+this.sliderNavigatorCls,2,!0);this._currentPageIndex=parseInt(t.dom.getAttribute("data-position"),10),this.cleanUpDotClasses(),this.setActiveClassForDotItem(),this.updateArrowNavigationDataValues(),this.setCarouselContainerHeight(),this.animateThumbnailContainer()},setActiveClassForDotItem:function(){return this.sliderDotItems=this.element.select("."+this.sliderDotCls),this.sliderDotItems.item(this._currentPageIndex)||(this._currentPageIndex=this._currentPageIndex-1),this.sliderDotItems.item(this._currentPageIndex).addClass(this.activeCls),this},updateArrowNavigationDataValues:function(){var e=0===this._currentPageIndex?this.maxPageIndex-1:this._currentPageIndex-1,t=this._currentPageIndex===this.maxPageIndex-1?0:this._currentPageIndex+1;this.navigationPrevButtonEl.dom.setAttribute("data-position",e),this.navigationNextButtonEl.dom.setAttribute("data-position",t)},setCarouselContainerElWidth:function(){var e=this._imageGalleryContainerWidth*this.maxPageIndex+"px";this.carouselContainerEl.setStyle("width",e)},setCarouselContainerHeight:function(){var e=this.element.select("."+this.ImageGalleryContainerCls),t=this.getRowSize(e.item(this._currentPageIndex));this.biopageThumbnailCarouselContainerEl.setStyle("height",t*this.thumbnailHeight+"px")},getRowSize:function(e){var t=e.select("."+this.imageThumbnailCls).elements.length,n=this.requiredContentAmount.total/this.requiredContentAmount.row;return Math.ceil(t/n)},animateThumbnailContainer:function(){return TweenLite.to(this.carouselContainerEl.dom,this.duration,{css:{left:"-"+this._currentPageIndex*this._imageGalleryContainerWidth+"px"},onCompleteScope:this,onComplete:function(){this.enableAnimation=!0}}),this},getNumberOfPages:function(){return Math.ceil(this.thumbnailItems.elements.length/this.getNumberOfRequiredContent().total)},getNumberOfRequiredContent:function(){var e=this.performerImagesBoxesContainerEl.select("."+this.imageThumbnailCls).item(0),t=Math.floor(e.getWidth()),n=Math.floor(e.getHeight()),a=Math.floor(this.performerImagesBoxesContainerEl.getWidth()),i=Math.floor(this.performerImageBoxHeight);return this.requiredContentAmount={row:Math.floor(i/n),column:Math.floor(a/t),total:Math.floor(a/t)*Math.floor(i/n)},this.requiredContentAmount},refreshContent:function(){for(var e=this.element.select("."+this.ImageGalleryContainerCls),t=0,n=0;n<this.thumbnailItems.elements.length;n++){if(n%this.requiredContentAmount.total==0&&0!==n&&t++,!e.item(t))e.item(0).appendTo(this.carouselContainerEl),Ext.DomHelper.append(this.carouselContainerEl,{tag:"div",cls:this.ImageGalleryContainerCls}),e=this.element.select("."+this.ImageGalleryContainerCls);this.thumbnailItems.item(n).appendTo(e.item(t))}},onResize:function(){var e=this.imageGalleryContainerItems.item(0).getWidth(),t=this.imageGalleryContainerItems.item(0).getHeight();e!==this._imageGalleryContainerWidth&&(this._imageGalleryContainerWidth=e,this._imageGalleryContainerHeight=t,this.initGallery())},bind:function(){Ext.fly(window).on("resize",this.onResize,this),this.navigationContainerEl&&this.navigationContainerEl.on("click",this.onNavigationClick,this,{delegate:"."+this.sliderNavigatorCls}),i.superclass.unbind.call(this)},unbind:function(){this.navigationContainerEl&&this.navigationContainerEl.un("click",this.onNavigationClick,this,{delegate:"."+this.sliderNavigatorCls}),i.superclass.unbind.call(this)}})},2334:function(e,t,n){"use strict";var a,i,o=n("3414"),r=n.n(o),s=n("8af1"),l=n.n(s),c=n("8a2d"),u=n("0a81"),d=n("c929"),h=n("0592"),m=n("7ab0"),p=n.n(m),g=n("089a"),f=n("fbc6"),C=n("1cab"),E=n("0b3c"),b=n("fd09"),y=Object(E.e)(["0%,100%{opacity:0}20%,80%{opacity:1}"]),_=E.d.div.withConfig({displayName:"styledes6__Wrapper",componentId:"sc-18aj80b-0"})(["cursor:default;display:inline-block;&.hasStories{cursor:pointer;}"]),v=E.d.figure.withConfig({displayName:"styledes6__Image",componentId:"sc-18aj80b-1"})(["background-image:",";background-size:cover;background-position:50% 50%;width:100%;height:100%;cursor:pointer;"],(function(e){var t=e.src;return"url(".concat(t,")")})),I=E.d.img.withConfig({displayName:"styledes6__Avatar",componentId:"sc-18aj80b-2"})(["display:inline-block;width:90px;height:90px;border-radius:50%;border:solid 5px rgba(#ff9999,0.1);background-clip:content-box;object-fit:cover;"]),k=Object(E.d)(b.a).withConfig({displayName:"styledes6__TooltipWithError",componentId:"sc-18aj80b-3"})(["margin-left:80px;animation:"," 4s linear forwards;"],y),w=(a=function(){return Promise.all([n.e(9),n.e(10)]).then(n.bind(null,"c585"))},(i=Object(s.lazy)(a)).preload=a,i),T=r.a.Config.get("my_story_enabled"),M=function(e){var t=e.src,n=e.size,a=e.lineWidth,i=e.circleMargin,o=e.duration,r=e.profilePictureHref,c=e.profilePictureDescription,m=e.performerNick,E=e.storiesAvailable,b=Object(u.d)(),y=Object(u.e)((function(e){return e.stories})),M=Object(u.e)((function(e){return e.performer})),N=M.nick,x=M.hasStory,O=y.isStoryDisabled,P=m||N,L=(null!==E?E:x)&&T&&!O,B=Object(s.useRef)(!1),S=y.loading?"forever":"once",R=c||"".concat(P,"'s profile picture");Object(s.useEffect)((function(){w.preload()}),[]);var A=Object(s.useCallback)((function(){P&&h.default.navigate("story/".concat(P),{trigger:!0,preventNavigateBack:!1,replace:!1,keepActiveModal:!0,lockActiveModal:!0})}),[P]);return Object(s.useEffect)((function(){var e=y.items;!y.loading&&0!==e.length&&B.current&&(A(),B.current=!1)}),[A,y]),l.a.createElement(_,{hasStory:x,onClick:function(e){if(e.preventDefault(),L)return B.current=!0,b(f.k(P)),void(r||C.default.trackGenericEvent({eventCategory:C.default.CONST.PAGE.CHAT,eventAction:C.default.CONST.ACTION.CLICK,eventLabel:"stories icon"}));r&&h.default.navigateToChatPage("chat/".concat(N),{trigger:!0,preventNavigateBack:!1})},"data-testid":"ProfilePictureWrapper"},O?l.a.createElement(k,{active:O,position:"right",container:!p.a.isChatPage()&&"#chatblock",arrow:"left",parent:"#bio img",isOverlay:!p.a.isChatPage(),updateSizeWithTimeout:!0,"data-testid":"ProfilePictureTooltipWithError"},l.a.createElement("div",null,Object(g.a)("No story available."))):null,x?l.a.createElement(d.a,{size:n,type:S,initialSpin:!y.loading,lineWidth:a,circleMargin:i,duration:o,animate:!0,"data-testid":"ProfilePictureCircleLoader"},l.a.createElement(v,{src:t,"data-testid":"ProfilePictureImage"})):r?l.a.createElement("a",{href:r},l.a.createElement(I,{src:t,alt:R,"data-testid":"ProfilePictureAvatar"})):l.a.createElement(I,{src:t,alt:R,"data-testid":"ProfilePictureAvatar"}))};M.propTypes={src:c.string.isRequired,size:c.number,duration:c.number,lineWidth:c.number,circleMargin:c.number,storiesAvailable:c.bool,performerNick:c.string,profilePictureHref:c.string,profilePictureDescription:c.string},M.defaultProps={size:100,duration:1500,lineWidth:2,circleMargin:12,storiesAvailable:null,performerNick:null,profilePictureHref:null,profilePictureDescription:null};t.a=M},"2ce3":function(e,t,n){var a=n("3414"),i=n("3414").Component,o=n("d869"),r=n("ee27"),s=function(e,t){s.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(s,i,{name:"ModelContentViewAbstract",chatBlockLoaderId:"chat_block_loader",hiddenCls:"hidden",freechatId:"freechat",memberClientId:"member_client_container",chatblockId:"chatblock",init:function(e,t){s.superclass.init.call(this,e,t),this.chatBlockLoaderEl=Ext.get(this.chatBlockLoaderId),this.freechatEl=Ext.get(this.freechatId),this.memberClientEl=Ext.get(this.memberClientId),this.chatBlockEl=Ext.get(this.chatblockId)},showLoader:function(e){"1"===r.getQueryParamByName("wall_off")||window.denyWallLoad||this.chatBlockLoaderEl&&(e?this.chatBlockLoaderEl.removeClass(this.hiddenCls):this.chatBlockLoaderEl.addClass(this.hiddenCls))},scrollToElement:function(e){TweenLite.to("html, body",.7,{scrollTop:e.getTop(),ease:Cubic.easeOut})},scrollToModalWall:function(){var e=a.Config.get("OverlayAppletType")===o.appletType.HTML5?this.memberClientEl:this.freechatEl,t=e.getHeight(),n=parseInt(e.getStyle("marginTop"));TweenLite.to(this.chatBlockEl.dom,.7,{scrollTop:t+n,ease:Cubic.easeOut})}})},"311b":function(e,t,n){e.exports={tooltip:"_2MgYdqw75Q4C","msg-title":"VfQcNDcGIBOt","msg-footer":"_24FB19F9bfk9",button:"ety_-mECnAcM",wrapper:"_3klIiazTyayP",buttonWrapper:"_1opkIRDZl7z7",price:"_1zFZBWuXDcAA",withIcon:"DbJLegqVJb6T",title:"_1-7FxWjHQ1tV",withCaption:"_1OM_ou8PQ7SM",icon:"_1DmW_W0E6Ich",error:"_2Royla_r4roS",loading:"_4NYgjwfq7Hqy",caption:"_2QBKULP_-oKZ",shake:"_1kzkSPlK1jWg",declinedTransactionTooltip:"_3u8zFWQOILTu",alertIcon:"_3IYZhGiMiWDr",transactionFailedTooltipHeader:"_39CVRiMyAO7Y",transactionFailedTooltipMessage:"_1_zuapeQDJ2x"}},"5e2f":function(e,t,n){"use strict";var a=n("8af1"),i=n.n(a),o=n("0a81"),r=n("3414"),s=n.n(r),l=n("7ab0"),c=n.n(l),u=n("0592"),d=n("8a2d"),h=n.n(d),m=n("089a"),p=n("9ced"),g=n("e6c0"),f=n("cf69"),C=n("fd09"),E=n("311b"),b=n.n(E),y=n("b912"),_=n.n(y),v=n("cbc5"),I=n("06af"),k=n("7984"),w=n("1cab"),T=n("a9a1");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e,t){w.default.trackGenericEvent({eventAction:e,eventLabel:t})},j=function(e,t,n,a,o,r,l,d,h){switch(e.status){case 401:return i.a.createElement(C.a,{active:!!e,className:b.a.tooltip,position:"bottom",container:n,group:o,arrow:"center",parent:"#unlockButton".concat(t).concat(r),isOverlay:!0,width:200,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return l(e,n,t)},"data-testid":"UnlockButtonToolTip"},i.a.createElement("div",null,Object(m.a)("Become a Premium Member to unlock this content.")),i.a.createElement(p.a,{onClick:function(e){return function(e,t){e.stopPropagation(),A("my content click","signup"),u.default.navigate("signup",t)}(e,a)},"data-testid":"UnlockButtonButton"},Object(m.a)("Sign up")),i.a.createElement("div",null,i.a.createElement("a",{href:"#",onClick:function(e){return function(e,t){e.stopPropagation(),e.preventDefault(),A("my content click","login"),u.default.navigate("login",t)}(e,a)}},Object(m.a)("or log in"))));case 403:if("veryQuickBuy"===e.data.checkpointName)return i.a.createElement(C.a,{active:!!e,className:b.a.tooltip,position:"bottom",container:n,group:o,arrow:"center",parent:"#unlockButton".concat(t).concat(r),isOverlay:!0,width:200,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return l(e,n,t)},"data-testid":"UnlockButtonToolTip"},i.a.createElement("div",{className:b.a["msg-title"]},Object(m.a)("You need to buy {priceInCredits} credits to unlock this content.",{priceInCredits:e.data.creditPrice.amount})),i.a.createElement(p.a,{disabled:h,onClick:function(e){return d()},"data-testid":"UnlockButtonButton"},Object(m.a)("Buy and Unlock")),i.a.createElement("p",{className:b.a["msg-footer"]},e.data.realCurrencyPrice.currency," ",e.data.realCurrencyPrice.amount));if("buyCredits"===e.data.checkpointName)return i.a.createElement(C.a,{active:!!e,className:b.a.tooltip,position:"bottom",container:n,group:o,arrow:"center",parent:"#unlockButton".concat(t).concat(r),isOverlay:!0,width:200,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return l(e,n,t)},"data-testid":"UnlockButtonToolTip"},i.a.createElement("div",null,Object(m.a)("You don't have enough credits to unlock this content.")),i.a.createElement(p.a,{onClick:function(e){return function(e,t){e.stopPropagation(),c.a.isChatPage()||s.a.Cookie.set("incompleted-unlock",T.store.getState().performer.nick,1800),A("my content click","buy credits"),u.default.navigate("payment",t)}(e,a)},"data-testid":"UnlockButtonButton"},Object(m.a)("Buy Credits")));case 404:case 503:case 500:return i.a.createElement(C.a,{active:!!e,className:b.a.tooltip,position:"bottom",container:n,group:o,arrow:"center",parent:"#unlockButton".concat(t).concat(r),isOverlay:!0,width:200,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return l(e,n,t)},"data-testid":"UnlockButtonToolTip"},i.a.createElement("div",null,Object(m.a)("Currently not available, please try again later.")));default:return null}},F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(r,e);var t,n,a,o=P(r);function r(){var e;N(this,r);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return R(B(e=o.call.apply(o,[this].concat(n))),"state",{loading:!1,error:!1}),R(B(e),"onToolTipInsideClick",(function(t,n,a){var i="A"===n.target.tagName||"BUTTON"===n.target.tagName;(!t||t&&i)&&e.setState({error:!1})})),R(B(e),"onUnlockWithPurchaseClick",(function(){var t=e.props,n=t.id,a=t.performerNick,i=t.actions.unlockWithQuickBuy;e.setState({loading:!0},(function(){A("my content click","buy and unlock"),i({id:n,performerNick:a})}))})),R(B(e),"clearError",(function(){e.setState({error:!1})})),e}return t=r,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.performer.byId,a=t.id,i=t.onSuccess,o=t.purchaseUi,r=e.performer.byId[a],s=n[a];r&&s&&r.status!==s.status&&i();var l=this.state.error&&this.state.error.isTechnicalError,c=o&&o.response&&o.response.isTechnicalError;(o&&o.response&&o.response.contentId)===a&&c&&l!==c&&this.setState({error:{isTechnicalError:!0,status:500},loading:!1})}},{key:"unlockItem",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),T.store.dispatch(Object(I.purchaseErrorReset)());var n=this.props,a=n.performerNick,i=n.id,o=n.onSuccess,r=n.onError;Object(k.c)(a,i).then((function(e){t.setState({loading:!1}),o(e),A("mycontent purchased",e.data.type),"album"===e.data.type?T.store.dispatch(v.unlockAlbum({content:e.data.content})):T.store.dispatch(v.unlockVideo({video:e.data}))})).catch((function(e){e.response?t.setState({loading:!1,error:e.response}):e.request?t.setState({loading:!1,error:503}):console.error("Error",e.message),r(e.response)}))}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.id,o=n.price,r=n.loadingIcon,l=n.group,c=n.errorContainer,u=n.caption,d=n.title,h=n.routeManagerOptions,E=n.purchaseUi,y=E.response,v=E.polling,I=this.state,k=I.loading,w=I.error,T=this.props.group?"_".concat(this.props.group):"",M=_()(b.a.wrapper,(R(e={},b.a.withCaption,this.props.caption),R(e,b.a.withIcon,this.props.icon),R(e,b.a.error,this.state.error),R(e,b.a.loading,this.state.loading),e)),N=y.purchaseStatus,x=y.contentId,O="statusDenied"===N&&x===a,P=1===o?Object(m.a)("1 Credit for {days} days",{days:90}):Object(m.a)("{credits} Credits for {days} days",{credits:o,days:90}),L=this.props.icon;return k&&r&&(L=r),i.a.createElement("div",{className:M},O&&i.a.createElement(C.a,{active:!0,className:b.a.declinedTransactionTooltip,position:"bottom",container:c,group:l,arrow:"center",parent:"#unlockButton".concat(a).concat(T),isOverlay:!0,width:250,updateSizeWithTimeout:!0,onElementClickInsideCard:function(e,n){return t.onToolTipInsideClick(e,n,a)},"data-testid":"UnlockButtonToolTip"},i.a.createElement(g.a,{className:b.a.alertIcon,icon:"alert","data-testid":"UnlockButtonIcon"}),i.a.createElement("div",{className:b.a.transactionFailedTooltipHeader},Object(m.a)("Transaction failed")),i.a.createElement("p",{className:b.a.transactionFailedTooltipMessage},Object(m.a)("Transaction declined by the bank.")),i.a.createElement(f.a,{href:s.a.getUrl("Credit/PaymentOptions"),onClick:function(){A("my content click","try another method")},"data-testid":"UnlockButtonAnchorButton"},Object(m.a)("Try another payment method"))),L&&i.a.createElement("div",{className:b.a.icon},i.a.createElement(g.a,{icon:L,"data-testid":"UnlockButtonIcon"}),u&&i.a.createElement("strong",{className:b.a.caption},i.a.createElement("span",null,u))),i.a.createElement("div",{className:b.a.buttonWrapper},i.a.createElement(p.a,{id:"unlockButton".concat(a).concat(T),className:b.a.button,loading:k,onClick:function(e){return t.unlockItem(e)},"data-testid":"UnlockButtonButton"},i.a.createElement("span",{className:b.a.title},d)),o&&0!==o?i.a.createElement("div",{className:b.a.price},i.a.createElement("span",null,P)):""),w&&j(w,a,c,h,l,T,this.onToolTipInsideClick,this.onUnlockWithPurchaseClick,v))}}])&&x(t.prototype,n),a&&x(t,a),r}(i.a.PureComponent);R(F,"propTypes",{id:h.a.string.isRequired,performerNick:h.a.string.isRequired,title:h.a.string,caption:h.a.string,errorContainer:h.a.oneOfType([h.a.bool,h.a.node]),showOnHover:h.a.bool,onSuccess:h.a.func,onError:h.a.func,routeManagerOptions:h.a.object,icon:h.a.oneOfType([h.a.string,h.a.bool]),loadingIcon:h.a.oneOfType([h.a.string,h.a.bool])}),R(F,"defaultProps",{routeManagerOptions:{trigger:!0,replace:!1,preventNavigateBack:c.a.isChatPage()},onSuccess:function(){},onError:function(){},errorContainer:!1,showOnHover:!1,icon:!1,loadingIcon:!1});t.a=Object(o.c)((function(e){return{purchaseUi:e.user.purchaseUi,performer:e.performer}}),(function(e){return{actions:{unlockWithQuickBuy:function(t){e(v.unlockWithQuickBuy(t))}}}}))(F)},"79fd":function(e,t,n){var a=n("3414"),i=n("d869"),o=n("a9a1").store,r=n("0592").default,s=n("c841"),l=n("b8bf"),c=n("b88f").default,u=n("1d57"),d=n("98d2").default,h=n("c5ca"),m=function(e,t){m.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(m,a.Component,{name:i.BiopageContentManagerComponent.NAME,containerId:"container",bioPageContainerId:"inner_container",bioOverlayContainerId:"freechat_container",hasBioPage:!0,wallId:"biopage_wall",biopagePerfimgBoxId:"biopage_perfimg_box",biopagePadlockImgId:"members_only_padlock_img",padlockBlockIconCls:"padlock_icon_block",navigationContainerId:"biopage_gallery_navigation_container",hiddenPerfInputId:"perfId",_biopagePerfImgBoxEl:void 0,biopageImageCls:"biopage_thumbnail_image",snapshotBlockIconCls:"snapshot_icon_block",isOverlay:!1,_bioPageThumbnailCarouselView:void 0,getBioPageContentRoute:"ChatBioPage/Get",getBioOverlayContentRoute:"ChatBioPage/GetDetails",biopagePerformerImageContainerId:"biopage_perfimg_container",imageThumbnailCls:"biopage_thumbnail",becomePremiumMemberOverlayTooltipCls:"open_signup_overlay",performerName:null,init:function(e,t){a.addEvents(i.BiopageContentManagerComponent.GLOBALEVENT_GET_CONTENT_SUCCESS,i.BiopageContentManagerComponent.GLOBALEVENT_BIOPAGE_CONTENT_READY),this._setBiopageContentManagerController(),m.superclass.init.call(this,e,t)},updatePerformerName:function(e){this.performerName=e},getContent:function(){this._biopageContentManagerController.getContent()},removeContent:function(){this._biopageContentManagerController.removeContent(),this.fireEvent(i.BiopageContentManagerComponent.GET_CONTENT_ERROR)},onContentReady:function(){this.setupModelPage(),a.fireEvent(i.BiopageContentManagerComponent.GLOBALEVENT_BIOPAGE_CONTENT_READY,{scope:this})},setupModelPage:function(){this.wallEl=Ext.get(this.wallId),this.setupBiopage(),this.setPerformerWall()},resetModelPage:function(){this.removeContent(),this.getContent(),this._setBiopageContentManagerController(),this.reInitPerformerWall()},setPerformerWall:function(){Ext.fly(this.wallId)&&(this.wall=new h(this.wallId,{}))},setupBiopage:function(){this.hasBioPage&&this.wallEl&&(this.onAddBioPageGalleryImageEvents(),a.on(this.wallEl,"click",this.onBecomePremiumMemberOverlayTooltipClick,this,{delegate:"."+this.becomePremiumMemberOverlayTooltipCls}),Ext.fly(this.navigationContainerId)&&this._setBioPageThumbnailCarouselView())},openSignUpOrPayment:function(e){e.preventDefault(),d.isLoggedIn()?r.navigate("payment",{trigger:!0,preventNavigateBack:!1}):r.navigate("signup",{trigger:!0,preventNavigateBack:!1})},reInitPerformerWall:function(){this.wall&&this.wall.destroy(),Ext.fly(this.wallId)&&(this.wall=new h(this.wallId,{}))},onAddBioPageGalleryImageEvents:function(){this._biopageGalleryImageEl=Ext.get(this.biopagePerfimgBoxId),this._biopageGalleryImageEl&&a.on(this._biopageGalleryImageEl,"click",this.onOpenGalleryClick,this,{delegate:"."+this.imageThumbnailCls}),this._biopageGalleryPadlockImageEl=Ext.get(this.biopagePadlockImgId),this._biopageGalleryPadlockImageEl&&a.on(this._biopageGalleryPadlockImageEl,"click",this.onGalleryPadlockClick,this)},onOpenGalleryClick:function(e){e.preventDefault();var t,n=e.target;this.setGalleryClickedImageTarget(n),t=this.getClickedImagesIndex(),a.Broadcaster.on(i.ModalComponent.GLOBALEVENT_MODAL_OPENED,this.onModalOpened,this),this.isPadlockClick(n)||r.navigate("imagegallery/"+t+"/"+this.getClickedImagesParentId(),{trigger:!0,preventNavigateBack:!0})},onModalOpened:function(e){e.scope.name===i.ImageGalleryModalComponent.NAME&&(a.Broadcaster.un(i.ModalComponent.GLOBALEVENT_MODAL_OPENED,this.onModalOpened,this),a.fireEvent(i.BiopageContentManagerComponent.GLOBALEVENT_BIOPAGE_CONTENT_READY,{scope:this}))},onBecomePremiumMemberOverlayTooltipClick:function(e){e.preventDefault(),this.openSignUpOrPayment(e)},isPadlockClick:function(e){var t=Ext.get(e).parent().hasClass(this.padlockBlockIconCls);return this._biopageGalleryPadlockImageEl&&t||this._biopageGalleryPadlockImageEl&&e===this._biopageGalleryPadlockImageEl.dom},setGalleryClickedImageTarget:function(e){this._galleryClickedImageTarget=e},getGalleryClickedImageTarget:function(){return this._galleryClickedImageTarget},getBiopageImageArray:function(){return this._biopagePerfImgBoxEl=Ext.get(this.biopagePerfimgBoxId),this._biopagePerfImgBoxEl.select("."+this.biopageImageCls)},getClickedImagesIndex:function(){var e=this.getGalleryClickedImageTarget(),t=this.getSnapShotIconBlock();return this.isSnapshotClick(e)&&(e=t.select("."+this.biopageImageCls).item(0).dom),this.getBiopageImageArray().indexOf(e)+1},isSnapshotClick:function(e){var t=this.getSnapShotIconBlock(),n=Ext.get(e).parent().hasClass(this.snapshotBlockIconCls);return t&&n||t&&e===t.dom},getClickedImagesParentId:function(){var e,t=this.getGalleryClickedImageTarget(),n=this.getSnapShotIconBlock();return e=t.parentNode.id,n&&t===n.dom&&(e=t.id),e},getSnapShotIconBlock:function(){return Ext.fly(this.biopagePerfimgBoxId).select("."+this.snapshotBlockIconCls).item(0)},onGalleryPadlockClick:function(e){e.preventDefault(),this.openSignUpOrPayment(e)},_setBioPageThumbnailCarouselView:function(){return this._bioPageThumbnailCarouselView&&(this._bioPageThumbnailCarouselView.unbind(),delete this._bioPageThumbnailCarouselView),this._bioPageThumbnailCarouselView=new u(this.biopagePerformerImageContainerId,{}),this._bioPageThumbnailCarouselView},getBiopageContentManagerController:function(){return this._setBiopageContentManagerController()},_setBiopageContentManagerController:function(){return this._biopageContentManagerController=new s({items:{BiopageContentManagerModel:{component:this._getBiopageContentManagerModel(),listeners:{"get-content-success":"onGetContentSuccess","get-content-error":"onGetContentError"}},BiopageContentManagerView:{component:this._getBiopageContentManagerView(),listeners:{"render-done":"onRenderDone"}}}}),this._biopageContentManagerController.on(i.BiopageContentManagerController.EVENT_RENDER_DONE,this.onContentReady,this),this._biopageContentManagerController},_getBiopageContentManagerModel:function(){var e=this.isOverlay?this.getBioOverlayContentRoute:this.getBioPageContentRoute;return this.model=new l(this.element,{getBioPageRoute:e})},_getBiopageContentManagerView:function(){var e=this.isOverlay?this.bioOverlayContainerId:this.bioPageContainerId;return this._view=new c(this.element,{containerId:e,isOverlay:this.isOverlay,performerNick:this.performerName}),this._view},onPrivateStart:function(){this._biopageContentManagerController.onPrivateStart()},onPrivateEnd:function(){this._biopageContentManagerController.onPrivateEnd()},onCheckMyWallClicked:function(){this._biopageContentManagerController.scrollToBioPageTop()},onFirstBillComplete:function(){this.resetModelPage()},handleStoreChange:function(){o.getState().performer.nick!==this.performerName&&this.removeContent()},bind:function(){m.superclass.bind.call(this),a.Broadcaster.on(i.ModelContentComponent.PERFORMER_GALLERY_DOM_READY,this.onAddBioPageGalleryImageEvents,this),a.Broadcaster.on(i.FlashExternal.GLOBALEVENT_ON_CHECK_MY_WALL_CLICKED,this.onCheckMyWallClicked,this),a.Broadcaster.on(i.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_START,this.onPrivateStart,this),a.Broadcaster.on(i.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_END,this.onPrivateEnd,this),a.Broadcaster.on(i.FirstBillController.GLOBALEVENT_FIRSTBILL_COMPLETE,this.onFirstBillComplete,this),a.Broadcaster.on(i.FlashExternal.GLOBALEVENT_GET_PERFORMER_DETAILS,this.removeContent,this),this._unsubscribe=o.subscribe(a.bind(this.handleStoreChange,this))},destroy:function(){m.superclass.destroy.call(this),this._view&&this._view.destroy()},unbind:function(){m.superclass.unbind.call(this),a.Broadcaster.un(i.FlashExternal.GLOBALEVENT_ON_CHECK_MY_WALL_CLICKED,this.onCheckMyWallClicked,this),this._biopageContentManagerController&&(this._biopageContentManagerController.isBeingDestroyed=!0,this._biopageContentManagerController.destroy(),delete this._biopageContentManagerController),a.Broadcaster.un(i.ModelContentComponent.PERFORMER_GALLERY_DOM_READY,this.onAddBioPageGalleryImageEvents,this),a.Broadcaster.un(i.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_START,this.onPrivateStart,this),a.Broadcaster.un(i.ChatPageComponentAbstract.GLOBALEVENT_PRIVATE_END,this.onPrivateEnd,this),a.Broadcaster.un(i.FirstBillController.GLOBALEVENT_FIRSTBILL_COMPLETE,this.onFirstBillComplete,this),this._unsubscribe()}})},"92aa":function(e,t,n){"use strict";n.r(t);var a=n("3414"),i=n.n(a),o=n("8af1"),r=n.n(o),s=n("63f1"),l=n.n(s),c=n("d869"),u=n.n(c),d=n("cbc5"),h=n("0a81"),m=n("a9a1"),p=n("8eb1"),g=n("0f2b"),f=n("7ab0"),C=n.n(f),E=n("8a2d"),b=n.n(E),y=n("089a"),_=n("0b3c"),v=_.d.h1.withConfig({displayName:"WallHeaderes6__Title",componentId:"zi2p1c-0"})(["font:700 26px Arial,sans-serif;margin:0 auto 14px;padding:3px 0 13px;float:left;color:#ffffff;"]),I=_.d.div.withConfig({displayName:"WallHeaderes6__ContentFilters",componentId:"zi2p1c-1"})(["display:inline-block;float:left;margin:14px 0 0;font:300 14px Arial,sans-serif;"]),k=_.d.a.withConfig({displayName:"WallHeaderes6__Filter",componentId:"zi2p1c-2"})(["margin:0 0 0 20px;&:hover{color:#ffffff;}color:",";",""],(function(e){return e.active?"#ffffff":"#ff9999"}),(function(e){if(e.disabled)return Object(_.c)(["pointer-events:none;color:rgba(255,153,153,0.4);"])})),w=function(e){var t=e.performerNick,n=e.setFilterClick,a=e.selectedFilter,i=e.hasFreeContent,o=e.hasPremiumContent;return(r.a.createElement("div",{id:"channel_top_block"},r.a.createElement(v,{"data-testid":"WallHeaderTitle"}," ",t," "),r.a.createElement(I,{id:"content_filter_container","data-testid":"WallHeaderContentFilters"},r.a.createElement(k,{active:"All"===a,onClick:function(){n("All")},"data-testid":"WallHeaderFilter"},Object(y.a)("All Content")),r.a.createElement(k,{active:"Free"===a,disabled:!i,onClick:function(){i&&n("Free")},"data-testid":"WallHeaderFilter"},Object(y.a)("Free Content")),r.a.createElement(k,{active:"Premium"===a,disabled:!o,onClick:function(e){o&&n("Premium")},"data-testid":"WallHeaderFilter"},Object(y.a)("Premium Content"))),r.a.createElement("div",{className:"clear"})))},T=n("b897"),M=n("2334"),N=n("791c"),x=n("e6c0"),O=_.d.div.withConfig({displayName:"RatingStarses6__StarsContainer",componentId:"zod02q-0"})(["display:flex;"]),P=_.d.i.withConfig({displayName:"RatingStarses6__IconWrapper",componentId:"zod02q-1"})(["font-size:16px;margin-right:5px;color:",";position:relative;&::after{",";background-image:url(data:image/svg+xml;charset=utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTEyIDQ4OC4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNDg4LjM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDp1cmwoI1NWR0lEXzFfKTt9PC9zdHlsZT48bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjkuNDE1NzQ4ZS0wMyIgeTE9Ii0xNjMuODUiIHgyPSI1MTEuOTc2NiIgeTI9Ii0xNjMuODUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAwIDQwOCkiPjxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkNDMDAiLz48c3RvcCAgb2Zmc2V0PSIwLjYiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkNDMDA7c3RvcC1vcGFjaXR5OjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MDQsMjAzLjlsLTExMS43LDEwOWwyNi41LDE1My45YzEsNi44LDAuNCwxMi4xLTEuOSwxNS45cy01LjcsNS43LTEwLjUsNS43Yy0zLjUsMC03LjYtMS4yLTEyLjMtMy43TDI1Niw0MTJsLTEzOC4yLDcyLjZjLTQuNywyLjUtOC44LDMuNy0xMi4zLDMuN2MtNC43LDAtOC4yLTEuOS0xMC41LTUuN2MtMi4zLTMuOC0yLjktOS4xLTEuOC0xNS45bDI2LjUtMTUzLjlMNy43LDIwMy45Yy02LjYtNi42LTguOS0xMi43LTcuMS0xOC4zUzgsMTc2LjQsMTcuMiwxNzVsMTU0LjUtMjIuNWw2OS4yLTE0MEMyNDUsNC4xLDI1MC4xLTAuMSwyNTYtMC4xYzUuNywwLDEwLjgsNC4yLDE1LjEsMTIuNmw2OS4yLDE0MEw0OTQuOCwxNzVjOS4yLDEuNCwxNC44LDUsMTYuNiwxMC42QzUxMy4yLDE5MS4zLDUxMC44LDE5Ny40LDUwNCwyMDMuOXoiLz48dGl0bGU+c3RhcjwvdGl0bGU+PC9zdmc+);left:0;opacity:1;z-index:1;position:absolute;top:0;display:inline-block;height:100%;width:100%;background-position:center;background-repeat:no-repeat;}"],(function(e){return e.empty?"hsla(0, 0%, 80%, 0.6)":"#fc0"}),(function(e){return e.half&&"content: '';"})),L=function(e){var t=e.starCount,n=e.value;return(r.a.createElement(O,{"data-testid":"RatingStarsStarsContainer"},Array.from({length:t},(function(e,t){return r.a.createElement(P,{key:"star_".concat(t),half:t+1>n&&t<n,empty:n<t+1,"data-testid":"RatingStarsIconWrapper"},r.a.createElement(x.a,{icon:"star","data-testid":"RatingStarsIcon"}))}))))},B=_.d.div.withConfig({displayName:"styledes6__BioTopSection",componentId:"sc-11gvl3a-0"})(["display:flex;"]),S=_.d.div.withConfig({displayName:"styledes6__InfoSection",componentId:"sc-11gvl3a-1"})(["display:flex;flex-direction:column;margin-left:20px;justify-content:center;"]),R=_.d.div.withConfig({displayName:"styledes6__ExclusivePerformer",componentId:"sc-11gvl3a-2"})(["display:flex;flex-direction:column;font-family:Roboto,sans-serif;"]),A=_.d.span.withConfig({displayName:"styledes6__ExclusivePerformerText",componentId:"sc-11gvl3a-3"})(["font-size:20px;line-height:24px;margin-bottom:3px;letter-spacing:0.3px;span{font-weight:300;}strong{font-weight:bold;}"]),j=_.d.span.withConfig({displayName:"styledes6__ExclusivePerformerLabel",componentId:"sc-11gvl3a-4"})(["text-transform:uppercase;font-size:10px;line-height:11px;margin-bottom:14px;"]),F=_.d.div.withConfig({displayName:"styledes6__StyledTotalVotes",componentId:"sc-11gvl3a-5"})(["font-size:12px;line-height:14px;padding-top:10px;"]),W=function(e){var t=e.about,n=e.avatar,a=e.age,i=e.breast,o=e.penis,s=e.awards,l=e.gender,c=e.itemId,u=e.name,d=e.averageRating,h=e.totalVotes,m=e.isExclusivePerformer;return(r.a.createElement("article",{id:c,className:"rating_container bio_content","data-rating":d,"data-isotope-sort":"0"},r.a.createElement("div",null,r.a.createElement(B,{"data-testid":"BioBioTopSection"},r.a.createElement(M.a,{src:n,alt:"".concat(u,"'s profile picture"),"data-testid":"BioProfilePictureWithMyStory"}),r.a.createElement(S,{"data-testid":"BioInfoSection"},m&&r.a.createElement(R,{"data-testid":"BioExclusivePerformer"},r.a.createElement(A,{"data-testid":"BioExclusivePerformerText"},r.a.createElement(N.a,{as:"span"},"Exclusive Model")),r.a.createElement(j,{"data-testid":"BioExclusivePerformerLabel"},r.a.createElement(N.a,null,"only available on livejasmin"))),r.a.createElement(L,{starCount:5,value:d,totalVotes:h,"data-testid":"BioRatingStars"}),r.a.createElement(F,{"data-testid":"BioStyledTotalVotes"},h," ",r.a.createElement(N.a,null,"rates")))),r.a.createElement("p",null,t),r.a.createElement("div",{className:"awards"},r.a.createElement("em",{className:"n1 ".concat(0===s.firstRankCount&&"zero")},r.a.createElement("i",null,r.a.createElement(T.a,{icon:"trophy","data-testid":"BioIcon"})),r.a.createElement("span",null,r.a.createElement("strong",null,Object(y.a)("Awards")),r.a.createElement("span",null,Object(y.a)("1st place")))),r.a.createElement("em",{className:"n2 ".concat(0===s.secondRankCount&&"zero")},r.a.createElement("i",null,r.a.createElement(T.a,{icon:"trophy","data-testid":"BioIcon"})),r.a.createElement("span",null,r.a.createElement("strong",null,Object(y.a)("Awards")),r.a.createElement("span",null,Object(y.a)("2nd place")))),r.a.createElement("em",{className:"n3 ".concat(0===s.thirdRankCount&&"zero")},r.a.createElement("i",null,r.a.createElement(T.a,{icon:"trophy","data-testid":"BioIcon"})),r.a.createElement("span",null,r.a.createElement("strong",null,Object(y.a)("Awards")),r.a.createElement("span",null,Object(y.a)("3rd place"))))),r.a.createElement("div",{className:"model-info"},r.a.createElement("em",null,r.a.createElement("strong",null,a),r.a.createElement("span",null,Object(y.a)("Age"))),r.a.createElement("em",null,r.a.createElement("strong",null,"male"===l?o:i),r.a.createElement("span",null,"male"===l?Object(y.a)("Penis size"):Object(y.a)("Breast size"))),r.a.createElement("em",null,r.a.createElement("strong",null,l),r.a.createElement("span",null,Object(y.a)("Gender")))))))},D=n("0592"),G=n("ebf9"),V=n.n(G),H=function(e){var t,n=e.noteText,a=e.itemId,i=e.performerNick,o=(t=n).length<=10?V.a.size_1:t.length>10&&t.length<=30?V.a.size_2:t.length>30&&t.length<=60?V.a.size_3:t.length>60&&t.length<=80?V.a.size_4:t.length>80&&t.length<=100?V.a.size_5:V.a.size_6;return r.a.createElement("article",{id:a,className:V.a.note,onClick:function(){return function(e,t){D.default.navigate("photoviewer/"+t+"/note/"+e,{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:C.a.isChatPage()})}(a,i)}},r.a.createElement("div",null,r.a.createElement("p",{className:o,dangerouslySetInnerHTML:{__html:n}})))};H.propTypes={noteText:b.a.string.isRequired,itemId:b.a.string.isRequired,performerNick:b.a.string.isRequired};var z=H,U=n("5e2f"),q=n("b912"),Y=n.n(q);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},J=function(e){var t,n=e.status,a=e.itemId,i=e.performerNick,o=e.preloadInfo,s=e.previewImage,l=e.price,c=e.privacy,u=e.category,d=("gay"===u||"transgender"===u)&&"exclusive"===c&&"locked"===n,h=Y()(V.a.content,(Q(t={},V.a.locked,"locked"===n),Q(t,V.a.unlocked,"unlocked"===n),t)),m=Y()(V.a.cover,Q({},V.a.blurred,d));return r.a.createElement("article",{id:a,className:V.a.item,onClick:function(){return function(e,t){D.default.navigate("photoviewer/".concat(t,"/picture/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:C.a.isChatPage()})}(a,i)}},"exclusive"===c&&r.a.createElement("span",{className:V.a.ribbon,"data-title":Object(y.a)("Premium")}),r.a.createElement("div",{style:{height:"".concat(o.height,"px"),backgroundColor:o.backgroundColor}},r.a.createElement("div",{className:m},r.a.createElement("img",{src:s,alt:"".concat(i,"'s hot photo – thumbnail")})),r.a.createElement("div",{className:h},"locked"===n&&r.a.createElement(U.a,{id:a,performerNick:i,title:Object(y.a)("Unlock my album"),errorContainer:!C.a.isChatPage()&&"#chatblock",showOnHover:!0,icon:"lockheart",loadingIcon:"lockheart-open",price:l,routeManagerOptions:Z,"data-testid":"ImageUnlockButton"})),r.a.createElement("div",{className:V.a.info},"unlocked"===n&&r.a.createElement("span",{className:V.a.status},Object(y.a)("Unlocked")))))};J.propTypes={previewImage:b.a.string.isRequired,itemId:b.a.string.isRequired,preloadInfo:b.a.object.isRequired,performerNick:b.a.string.isRequired,privacy:b.a.string.isRequired,status:b.a.string.isRequired,category:b.a.string.isRequired,price:b.a.number},J.defaultProps={price:null};var X=J;function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={1:V.a.montage_one_pic,2:V.a.montage_two_pic,3:V.a.montage_three_pic,4:V.a.montage_four_pic},te={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},ne=function(e){var t,n=e.status,a=e.itemId,i=e.performerNick,o=e.privacy,s=e.preloadInfo,l=e.images,c=e.title,u=e.price,d=e.category,h=("gay"===d||"transgender"===d)&&"exclusive"===o&&"locked"===n,m=Y()(V.a.content,V.a.album,(K(t={},V.a.locked,"locked"===n),K(t,V.a.unlocked,"unlocked"===n),t)),p=Y()(ee[l.length],K({},V.a.blurred,h));return r.a.createElement("article",{className:V.a.item,onClick:function(){return function(e,t){D.default.navigate("photoviewer/".concat(t,"/picture/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:C.a.isChatPage()})}(a,i)}},"exclusive"===o&&r.a.createElement("span",{className:V.a.ribbon,"data-title":Object(y.a)("Premium")}),r.a.createElement("div",{style:{backgroundColor:s.backgroundColor}},r.a.createElement("div",{className:"permanent_content_shadow_mask"}),r.a.createElement("div",{className:V.a.label},Object(y.a)("Photo Album")),r.a.createElement("div",{className:p},l.map((function(e,t){return r.a.createElement("img",{key:"".concat(a).concat(t),src:e,alt:"".concat(i,"'s hot photo – thumbnail")})}))),r.a.createElement("div",{className:m},r.a.createElement("div",{className:V.a.folder},r.a.createElement(T.a,{icon:"folder","data-testid":"AlbumMontageIcon"}),c&&r.a.createElement("strong",{className:V.a.title},r.a.createElement("span",null,c))),"locked"===n?r.a.createElement(U.a,{id:a,title:Object(y.a)("Unlock my album"),errorContainer:!C.a.isChatPage()&&"#chatblock",performerNick:i,icon:"lockheart",loadingIcon:"lockheart-open",caption:c,price:u,routeManagerOptions:te,"data-testid":"AlbumMontageUnlockButton"}):""),r.a.createElement("div",{className:V.a.info},"unlocked"===n&&r.a.createElement("span",{className:V.a.status},Object(y.a)("Unlocked")))))};ne.propTypes={previewImage:b.a.string.isRequired,privacy:b.a.string.isRequired,itemId:b.a.string.isRequired,performerNick:b.a.string.isRequired,preloadInfo:b.a.object.isRequired,status:b.a.string,title:b.a.string,price:b.a.number},ne.defaultProps={status:"",price:null,title:null};var ae=ne,ie=n("bf25");function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re={trigger:!0,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:!1},se=function(e){var t,n,a,i=e.itemId,o=e.previewImage,s=e.performerNick,l=e.privacy,c=e.status,u=e.preloadInfo,d=e.duration,h=e.price,m=e.views,p=e.title,g=e.category,f=("gay"===g||"transgender"===g)&&"exclusive"===l&&"locked"===c,E=Y()(V.a.content,(oe(t={},V.a.locked,"locked"===c),oe(t,V.a.unlocked,"unlocked"===c),t)),b=Y()(V.a.cover,oe({},V.a.blurred,f));return r.a.createElement("article",{id:i,className:V.a.item,onClick:function(){!function(e,t){D.default.navigate("photoviewer/".concat(t,"/video/").concat(e),{trigger:!0,replace:!1,keepActiveModal:!0,lockActiveModal:!0,preventNavigateBack:C.a.isChatPage()})}(i,s)}},"exclusive"===l&&r.a.createElement("span",{className:V.a.ribbon,"data-title":Object(y.a)("Premium")}),r.a.createElement("div",{id:"video_".concat(i),style:{height:"".concat(u.height,"px"),backgroundColor:u.backgroundColor}},r.a.createElement("div",{className:V.a.label},Object(y.a)("Video")),r.a.createElement("div",{className:b},r.a.createElement("img",{src:o,alt:"".concat(s,"'s hot video")})),r.a.createElement("div",{className:E},r.a.createElement("div",{className:V.a.video_icon},r.a.createElement(T.a,{className:V.a.video,icon:"play-button","data-testid":"VideoIcon"})),"locked"===c?r.a.createElement(U.a,{id:i,title:Object(y.a)("Unlock my video"),icon:"lockheart",loadingIcon:"lockheart-open",performerNick:s,errorContainer:!C.a.isChatPage()&&"#chatblock",price:h,caption:p,routeManagerOptions:re,"data-testid":"VideoUnlockButton"}):""),r.a.createElement("div",{className:V.a.info},m&&r.a.createElement("span",{className:V.a.views},r.a.createElement(T.a,{icon:"view","data-testid":"VideoIcon"}),r.a.createElement("span",null,m)),r.a.createElement("span",{className:V.a.duration},r.a.createElement(T.a,{icon:"time","data-testid":"VideoIcon"}),r.a.createElement("span",null,(n=d,a=Object(ie.addSeconds)(new Date(0),n),Object(ie.format)(a,"mm:ss")))),"unlocked"===c&&r.a.createElement("span",{className:V.a.status},Object(y.a)("Unlocked")))))};se.propTypes={itemId:b.a.string.isRequired,previewImage:b.a.string.isRequired,performerNick:b.a.string.isRequired,privacy:b.a.string.isRequired,preloadInfo:b.a.object.isRequired,category:b.a.string.isRequired,title:b.a.string,status:b.a.string,duration:b.a.number,price:b.a.number,views:b.a.number},se.defaultProps={title:"",status:"",price:null,views:null,duration:null};var le=se,ce=n("28a0"),ue=n.n(ce),de=n("91b6"),he=n.n(de),me=n("a88d"),pe=n.n(me),ge=n("77cd"),fe=n("cb1d"),Ce=n("43fd");function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=we(e);if(t){var i=we(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?ke(e):t}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(o,e);var t,n,a,i=ve(o);function o(){var e;be(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Te(ke(e=i.call.apply(i,[this].concat(n))),"iso",null),Te(ke(e),"isotopeContainer",r.a.createRef()),Te(ke(e),"state",{imagesLoaded:!1}),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.initializeIsotope()}},{key:"componentWillUnmount",value:function(){this.destroyIsotope()}},{key:"shouldComponentUpdate",value:function(e,t){return!Object(ge.a)(this.props,e)||!pe()(this.state,t)}},{key:"componentDidUpdate",value:function(e,t){var n=r.a.Children.map(e.children,(function(e){return e&&e.key})),a=r.a.Children.map(this.props.children,(function(e){return e&&e.key})),i=Object(fe.a)(a,n),o=Object(fe.a)(n,a);o.length>0&&(this.iso.remove(Object(Ce.default)(o,(function(e){return document.getElementById(e)}))),this.iso.reloadItems(),this.iso.arrange()),i.length>0&&(this.iso.appended(Object(Ce.default)(i,(function(e){return document.getElementById(e)}))),this.iso.reloadItems(),this.iso.arrange(),this.imagesLoaded()),e.appletLayout!==this.props.appletLayout&&this.imagesLoaded()}},{key:"initializeIsotope",value:function(){this.createIsotopeContainer(),r.a.Children.count(this.props.children)>0&&this.iso.arrange(),this.imagesLoaded(),$("#channel_block_container").removeClass("hidden")}},{key:"destroyIsotope",value:function(){null!==this.iso&&(this.iso.destroy(),this.iso=null)}},{key:"createIsotopeContainer",value:function(){null===this.iso&&(this.iso=new ue.a(this.isotopeContainer.current,{itemSelector:"article",layoutMode:"masonry",animationEngine:"css",transitionDuration:".3s",containerStyle:{position:"relative",opacity:1},packery:{columnWidth:".grid-sizer"}}))}},{key:"imagesLoaded",value:function(){var e=this;he()(this.isotopeContainer.current,(function(t){e.iso&&e.iso.layout()}))}},{key:"render",value:function(){return r.a.createElement("section",{id:"channel_inner_content",className:"isotope",style:{opacity:0!==r.a.Children.count(this.props.children)?1:0},ref:this.isotopeContainer},r.a.createElement("div",{className:"grid-sizer"}),this.props.children)}}])&&ye(t.prototype,n),a&&ye(t,a),o}(r.a.Component),Ne=n("bd6a"),xe=n("0e57");function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Le=_.d.div.withConfig({displayName:"Walles6__LoaderWrapper",componentId:"sc-1t3z7dp-0"})(["position:relative;height:",";"],(function(e){var t=e.height;return t?"".concat(t,"px"):"200px"})),Be=Object(_.d)(xe.a).withConfig({displayName:"Walles6__StyledLoader",componentId:"sc-1t3z7dp-1"})(["position:absolute;top:0;left:50%;margin-left:-19px;"]),Se=function(e){var t,n,a,i=e.selectedFilter,s=e.hasFreeContent,l=e.hasPremiumContent,c=e.appletLayout,u=e.items,d=e.isLoadingOnShowMore,m=e.isInsideWallLoading,p=e.wallIds,g=e.displayName,f=e.onFilterItems,C=Oe(Object(o.useState)(!1),2),E=C[0],b=C[1],y=Object(o.useRef)(null),_=Object(h.e)((function(e){return e.performer.category}));return 0===p.length?null:r.a.createElement("div",{ref:y},g&&r.a.createElement(w,{performerNick:g,selectedFilter:i,setFilterClick:function(e){f(e),b(y.current.clientHeight)},hasFreeContent:s,hasPremiumContent:l,"data-testid":"WallWallHeader"}),m?r.a.createElement(Le,{height:E,"data-testid":"WallLoaderWrapper"},r.a.createElement(Be,{"data-testid":"WallStyledLoader"})):r.a.createElement("div",{id:"channel_block_inner"},r.a.createElement(Me,{appletLayout:c,"data-testid":"WallIsotopeLayout"},(t=u,n=t.bio,a=Object(Ne.a)(t,(function(e){return"bio"!==e.type})),n&&a.unshift(n),a).map((function(e){return function(e,t,n){switch(e.type){case"bio":return r.a.createElement(W,{key:"bio",itemId:"bio",avatar:e.avatar,age:e.age,breast:e.breast,penis:e.penis,gender:e.gender,name:t,awards:e.awardsRank,about:e.aboutMe,averageRating:e.rating.average,totalVotes:e.rating.totalVotes,isExclusivePerformer:e.isExclusive,"data-testid":"WallBioContent"});case"note":return r.a.createElement(z,{key:e.id,noteText:e.noteText,itemId:e.id,performerNick:t,"data-testid":"WallNoteContent"});case"image":return r.a.createElement(X,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,preloadInfo:e.preloadInfo,privacy:e.privacy,status:e.status,price:e.price,category:n,"data-testid":"WallImageContent"});case"video":return r.a.createElement(le,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,privacy:e.privacy,status:e.status,preloadInfo:e.preloadInfo,duration:e.duration,price:e.price,views:e.views,title:e.title,category:n,"data-testid":"WallVideoContent"});case"album":return r.a.createElement(ae,{key:e.id,itemId:e.id,previewImage:e.previewImage,performerNick:t,privacy:e.privacy,status:e.status,preloadInfo:e.preloadInfo,price:e.price,title:e.title,images:e.images,category:n,"data-testid":"WallAlbumMontage"})}}(e,g,_)}))),d&&r.a.createElement(xe.a,{"data-testid":"WallLoader"})))};Se.propTypes={items:E.object.isRequired,wallIds:E.array.isRequired,appletLayout:E.string.isRequired,onFilterItems:E.func.isRequired,isLoadingOnShowMore:E.bool.isRequired,isInsideWallLoading:E.bool.isRequired};var Re=Se,Ae=n("7984");function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Ue(e);if(t){var i=Ue(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(o,e);var t,n,a,i=Ve(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),qe(ze(t=i.call(this,e)),"fetchContent",(function(e){var n=t.state,a=n.lastItemTimeStamp,i=n.filterSelected,o=t.props.performerName,r=a[i];!o||e&&r>0||(0===r?t.fetchInitialContent(o,i,r):t.fetchMoreContent(o,i,r))})),qe(ze(t),"onFilterItems",(function(e){t.setState({filterSelected:e,scrollTop:t.getContainerScrollTop(),filterChange:!0})})),qe(ze(t),"addContentBasedOnFilter",(function(e){var n=t.props.addContentToWall;switch(t.state.filterSelected){case"All":n(We(We({},e.items),{},{bio:e.bio}));break;case"Free":case"Premium":n(e.items)}})),qe(ze(t),"handleScroll",(function(e){var n=t.props.showMoreOffset,a=t.state,i=a.isLoadingOnShowMore,o=a.isInsideWallLoading,r=a.filterSelected,s=a.hasShowMorePages,l=e.target,c=document.body,u=document.documentElement,d=window.pageYOffset||document.documentElement.scrollTop,h=Math.max(c.scrollHeight,c.offsetHeight,u.clientHeight,u.scrollHeight,u.offsetHeight),m=l.scrollHeight-l.scrollTop<=l.clientHeight+n,p=Math.round(d)+window.innerHeight>=h-n;(C.a.isChatPage()?p:m)&&!i&&!o&&s[r]&&t.fetchContent()})),qe(ze(t),"handleScrollThrottle",Object(p.a)(t.handleScroll,300)),t.state={isWallLoading:!0,isInsideWallLoading:!1,isLoadingOnShowMore:!1,lastItemTimeStamp:{All:0,Free:0,Premium:0},hasShowMorePages:{All:!1,Free:!1,Premium:!1},hasFreeContent:!0,hasPremiumContent:!0,filterSelected:"All",scrollTop:-1,filterChange:!1},t}return t=o,(n=[{key:"componentDidMount",value:function(){this.fetchContent(),document.getElementById("channel_block_container").classList.remove("hidden"),document.getElementById("chatblock").addEventListener("scroll",this.handleScrollThrottle),window.addEventListener("scroll",this.handleScrollThrottle)}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,i=a.performerName,o=a.removeAllContentFromWall,r=a.user._user.type,s=this.state,l=s.filterSelected,c=s.isLoadingOnShowMore,u=s.lastItemTimeStamp,d=s.isInsideWallLoading,h=s.scrollTop,m=s.filterChange,p=!1!==i&&e.performerName!==i,f=e.user._user.type!==r;if((p||f)&&this.setState({lastItemTimeStamp:{All:0,Free:0,Premium:0},hasShowMorePages:{All:!1,Free:!1,Premium:!1},isWallLoading:!0,filterSelected:"All",scrollTop:-1,filterChange:!1},(function(){o(),n.fetchContent()})),d!==t.isInsideWallLoading&&h>0&&m&&this.setContainerScrollTop(h),l===t.filterSelected){var C=Object(g.a)(Object.values(this.walItems),(function(e){return e.createdAt})),E=t.lastItemTimeStamp[l];C&&C.createdAt!==E&&!c&&this.setState({lastItemTimeStamp:We(We({},u),{},qe({},l,C.createdAt))})}else this.fetchContent(!0)}},{key:"componentWillUnmount",value:function(){document.getElementById("chatblock").removeEventListener("scroll",this.handleScrollThrottle),window.removeEventListener("scroll",this.handleScrollThrottle)}},{key:"getContainerScrollTop",value:function(){return C.a.isChatPage()?document.getElementById("chathtml5.performer").scrollTop:document.getElementById("chatblock").scrollTop}},{key:"setContainerScrollTop",value:function(e){return C.a.isChatPage()?document.getElementById("chathtml5.performer").scrollTop=e:document.getElementById("chatblock").scrollTop=e}},{key:"resetLoading",value:function(){this.setState({isWallLoading:!1,isLoadingOnShowMore:!1,isInsideWallLoading:!1})}},{key:"fetchInitialContent",value:function(e,t,n){var a=this,i=this.props.getBioPageWall,o=this.state.hasShowMorePages;this.setState({isInsideWallLoading:!0}),Object(Ae.b)(e,t,n).then((function(e){e.bio;var n=e.hasFree,i=e.hasExclusive;a.addContentBasedOnFilter(e),a.setState({isInsideWallLoading:!1,isWallLoading:!1,hasFreeContent:n,hasPremiumContent:i,hasShowMorePages:We(We({},o),{},qe({},t,!e.isLastPage))})})).catch((function(t){a.resetLoading(),i(e),document.getElementById("channel_block_container").classList.add("hidden")}))}},{key:"fetchMoreContent",value:function(e,t,n){var a=this,i=this.props.addContentToWall,o=this.state.hasShowMorePages;this.setState({isLoadingOnShowMore:!0}),Object(Ae.a)(e,t,n).then((function(e){i(e.items),a.setState({isLoadingOnShowMore:!1,isWallLoading:!1,hasShowMorePages:We(We({},o),{},qe({},t,!e.isLastPage))})})).catch((function(){a.setState({isLoadingOnShowMore:!1,hasShowMorePages:{All:!1,Free:!1,Premium:!1},isWallLoading:!1,isInsideWallLoading:!1})}))}},{key:"render",value:function(){var e=this.onFilterItems,t=this.state,n=this.props,a=this.walItems,i=n.performerName,o=n.wallContentIds,s=n.appletLayout,l=t.isWallLoading,c=t.hasFreeContent,u=t.hasPremiumContent,d=t.isLoadingOnShowMore,h=t.isInsideWallLoading,m=t.filterSelected;return!1===i?null:l?r.a.createElement(xe.a,{"data-testid":"WallContainerLoader"}):r.a.createElement(Re,{items:a,hasFreeContent:c,hasPremiumContent:u,wallIds:o,displayName:i,appletLayout:s,isLoadingOnShowMore:d,isInsideWallLoading:h,onFilterItems:e,selectedFilter:m,"data-testid":"WallContainerWall"})}},{key:"walItems",get:function(){var e=this.props,t=e.wallContentIds,n=e.wallContentById,a=this.state.filterSelected,i={};switch(a){case"All":t.map((function(e){return i[e]=n[e]}));break;case"Free":t.map((function(e){var t=n[e];if("public"===t.privacy||"note"===t.type)return i[t.id]=t}));break;case"Premium":t.map((function(e){var t=n[e];if("exclusive"===t.privacy)return i[t.id]=t}))}return i}}])&&De(t.prototype,n),a&&De(t,a),o}(r.a.Component),Qe={addContentToWall:d.addContentToWall,removeAllContentFromWall:d.removeAllContentFromWall},Ze=Object(h.c)((function(e){var t="fluid"===e.applet.stream.size?"fluid":"fix";return{wallContentById:e.performer.byId,wallContentIds:e.performer.wallIds,user:e.user,isOverlayOpened:e.ui.isOverlayOpened,appletLayout:t}}),Qe)(Ye),Je=n("79fd"),Xe=n.n(Je),Ke=function e(t,n){e.superclass.constructor.call(this,t,n)};Ext.extend(Ke,i.a.Component,{name:u.a.ModelContentComponent.NAME,wallContainerId:"channel_wall_block",freechatId:"freechat",memberClientId:"member_client_container",chatblockId:"chatblock",init:function(e,t){var n=t.performerName;Ke.superclass.init.call(this,e,t),this.wallContentBlock=Ext.get(this.wallContainerId),this.freechatEl=Ext.get(this.freechatId),this.memberClientEl=Ext.get(this.memberClientId),this.chatBlockEl=Ext.get(this.chatblockId),this.renderModelContent(n)},renderModelContent:function(e){var t=this;e&&l.a.render(r.a.createElement(h.a,{store:m.store,"data-testid":"ModelContentComponentProvider"},r.a.createElement(Ze,{performerName:e,showMoreOffset:C.a.isChatPage()?300:50,getBioPageWall:function(){t.getBiopageContentManagerComponent(e).getContent()},"data-testid":"ModelContentComponentWallContainer"})),this.wallContentBlock.dom)},refresh:function(e){this.performerName=e,this.renderModelContent(e)},destroyMyContentWall:function(){m.store.dispatch(Object(d.removeAllContentFromWall)()),l.a.unmountComponentAtNode(this.wallContentBlock.dom)},onAppletReady:function(){C.a.isChatPage()&&this.renderModelContent()},onModalClosed:function(e){e.scope.name===u.a.ChatModalComponent.NAME&&this._biopageContentManagerComponent&&this._biopageContentManagerComponent.removeContent()},onDefaultRouteCalled:function(){C.a.isChatPage()||(this.destroyMyContentWall(),m.store.dispatch(Object(d.resetPerformerNick)()))},onBecomePremiumMemberClick:function(){this._startPaymentProcess()},_startPaymentProcess:function(){D.default.navigate("payment",{trigger:!0,preventNavigateBack:!1,replace:!1})},getBiopageContentManagerComponent:function(e){return this._biopageContentManagerComponent instanceof Xe.a?this._biopageContentManagerComponent.updatePerformerName(e):this._biopageContentManagerComponent=new Xe.a(this.element,{performerName:e,containerId:"inner_container",isOverlay:!C.a.isChatPage()}),this._biopageContentManagerComponent},onCheckMyWallClicked:function(){C.a.isChatPage()?this.scrollToElement(this.wallContentBlock):this.scrollToModalWall()},scrollToElement:function(e){TweenLite.to("html, body",.7,{scrollTop:e.getTop(),ease:Cubic.easeOut})},scrollToModalWall:function(){var e=i.a.Config.get("OverlayAppletType")===u.a.appletType.HTML5?this.memberClientEl:this.freechatEl,t=e.getHeight(),n=parseInt(e.getStyle("marginTop"),10);TweenLite.to(this.chatBlockEl.dom,.7,{scrollTop:t+n,ease:Cubic.easeOut})},bind:function(){Ke.superclass.bind.call(this),i.a.on([{element:i.a.Broadcaster,event:u.a.PhotoViewerComponent.GLOBALEVENT_BECOME_PREMIUM_MEMBER_CLICK,handler:this.onBecomePremiumMemberClick},{element:i.a.Broadcaster,event:u.a.FlashExternal.GLOBALEVENT_ON_CHECK_MY_WALL_CLICKED,handler:this.onCheckMyWallClicked},{element:i.a.Broadcaster,event:u.a.ModalComponent.GLOBALEVENT_MODAL_CLOSED,handler:this.onModalClosed},{element:i.a.Broadcaster,event:u.a.FlashExternal.GLOBALEVENT_APPLET_READY,handler:this.onAppletReady},{element:i.a.Broadcaster,event:u.a.RouteManager.GLOBALEVENT_DEFAULT_ROUTE_CALLED,handler:this.onDefaultRouteCalled}],this)},unbind:function(){Ke.superclass.unbind.call(this),this.destroyMyContentWall()}});t.default=Ke},b88f:function(e,t,n){"use strict";n.r(t);var a=n("d869"),i=n.n(a),o=n("7ab0"),r=n.n(o),s=n("2ce3"),l=n.n(s),c=n("8af1"),u=n.n(c),d=n("63f1"),h=n.n(d),m=n("2334"),p=n("a9a1"),g=n("0a81");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,a,o=_(s);function s(){var e;C(this,s);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return w(I(e=o.call.apply(o,[this].concat(n))),"name","BiopageContentManagerView"),w(I(e),"containerId","inner_container"),w(I(e),"biopageContainerId","biopage_container"),w(I(e),"_willingnessWrapperClass",".willingness_wrapper"),w(I(e),"isOverlay",!1),w(I(e),"appletFullLayout","full"),e}return t=s,(n=[{key:"init",value:function(e,t){b(k(s.prototype),"init",this).call(this,e,t),this.addEvents(i.a.BiopageContentManagerView.EVENT_RENDER_DONE),this._containerEl=document.getElementById(this.containerId)||this.element.dom,this.biopagecontainerEl=Ext.get(this.biopageContainerId)}},{key:"scrollToBioPageTop",value:function(){r.a.isChatPage()?this.scrollToElement(this.biopagecontainerEl):this.scrollToModalWall()}},{key:"renderContent",value:function(e){this.removeContent(),Ext.DomHelper.append(this._containerEl,e);var t=document.getElementById("biopage_profile_picture"),n=t.dataset.src;return t&&h.a.render(u.a.createElement(g.a,{store:p.store,"data-testid":"BiopageContentManagerViewProvider"},u.a.createElement(m.a,{src:n,alt:"".concat(this.performerNick,"'s profile picture"),"data-testid":"BiopageContentManagerViewProfilePictureWithMyStory"})),t),this.fireEvent(i.a.BiopageContentManagerView.EVENT_RENDER_DONE),this}},{key:"isAppletIsFullSized",value:function(){return Ext.get("chatblock").hasClass(this.appletFullLayout)}},{key:"saveBiopageContainerEl",value:function(){this._biopageContainerEl=Ext.get(this.biopageContainerId)}},{key:"removeContent",value:function(){this.saveBiopageContainerEl();var e=document.getElementById("biopage_profile_picture");this._biopageContainerEl&&e&&(h.a.unmountComponentAtNode(e),this._biopageContainerEl.remove())}},{key:"showMask",value:function(){this._willingnessWrapperEl=this.element.select(this._willingnessWrapperClass).item(0),this._willingnessWrapperEl&&this._willingnessWrapperEl.addClass("masked")}},{key:"hideMask",value:function(){this._willingnessWrapperEl&&this._willingnessWrapperEl.removeClass("masked")}}])&&E(t.prototype,n),a&&E(t,a),s}(l.a);t.default=T},b8bf:function(e,t,n){var a=n("3414"),i=n("d869"),o=n("5f9e"),r=function(e,t){r.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(r,a.Component,{name:"BiopageContentManagerModel",getBioPageRoute:"ChatBioPage/Get",isOverlay:!1,init:function(e,t){r.superclass.init.call(this,e,t),this.addEvents(i.BiopageContentManagerModel.EVENT_GET_CONTENT_SUCCESS,i.BiopageContentManagerModel.EVENT_GET_CONTENT_ERROR)},_getContentUrl:function(e){var t;try{t=a.getUrl(this.getBioPageRoute,{performerNick:e})}catch(e){console.error("@JS ERROR in ",this.name,": ",e)}return t},getContent:function(e){if(!e)throw"Modelname must be given.";return this._runningAjax=o.request({url:this._getContentUrl(e),method:"GET",type:i.Chaos.Connection.TYPE_JSON,scope:this,success:function(e){this._getContentSuccess(e)},error:function(e){this._getContentError(e)},failure:function(e){this._getContentError(e)}}),this},_getContentSuccess:function(e){delete this._runningAjax,this.fireEvent(i.BiopageContentManagerModel.EVENT_GET_CONTENT_SUCCESS,{response:e})},_getContentError:function(e){delete this._runningAjax,this.fireEvent(i.BiopageContentManagerModel.EVENT_GET_CONTENT_ERROR,{response:e})}})},c5ca:function(e,t,n){var a=n("3414"),i=n("d869"),o=n("f306"),r=n("1a5f"),s=n("ee27"),l=n("5f9e"),c=n("7ab0"),u=n("98d2").default,d=n("a9a1").store,h=function(e,t){h.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(h,a.Component,{name:"Wall",perfNameId:"perfId",showMoreId:"show_more",loaderId:"show_more_loader",wallListItemSel:"ul li",showMoreRoute:"Wall/GetWallPage",parentId:"parentId",childId:"childId",postSel:".post.message",postFormId:"wall_form",postFormCharCounterId:"post_char_number",postFormCharInfoId:"post_char_info",replyFormId:"reply_form",replyFormCharCounterId:"reply_char_number",replyFormCharInfoId:"reply_char_info",replyFormTextId:"reply_form_text",replyFormReplyInputId:"reply_form_replyId",charInfoSel:".char_info_bottom",writingCls:"write",formMaskCls:"form_mask",postCls:"post message",answerCls:"answer",enableCls:"enabled",firstAnswerCls:"first",formTokenName:"form_token",itemTemplate:'<li id="item_{itemId}" class="{cls}"><strong data-hj-suppress>{memberId}</strong><span class="time"><em>&nbsp;</em>{date}</span><div class="reply"><a href="#"><em>&nbsp;</em></a><strong>{replyTranslate}</strong></div><p>{text}</p></li>',errorTemplate:'<div class="bottom_warning_tag show"><span class="arrow">&nbsp;</span><span class="icon">&nbsp;</span><p>{errorText}</p></div>',antiFloodTimeout:5e3,preventFlooding:!0,maxCharLimitNumber:140,noWallPostSel:".no_wall_posts",bottomWarningTagCls:"bottom_warning_tag",maximumCharacterReachedText:"You've reached the maximum length of this message ({maxCharLimitNumber} characters).",errorDuringMessagesSendText:"Unable to send your message. Please try again later!",spamErrorDuringMessagesSendText:"Banned word detected.",newlyCreatedMessageText:"Less than a minute ago",replyText:"Reply",init:function(e,t){this._maxCharTextTranslate=a.translate(this.maximumCharacterReachedText,{maxCharLimitNumber:this.maxCharLimitNumber}),this._showMoreEl=Ext.get(this.showMoreId),this._loaderEl=Ext.get(this.loaderId),this._performerId=Ext.get(this.perfNameId).dom.value,this._mainFormEl=Ext.get(this.postFormId),this._formMaskEl=this.element.select("."+this.formMaskCls),this._replyFormTextEl=Ext.get(this.replyFormTextId),this._formInputEl=this._mainFormEl.select('input[type="text"]').item(0),this._postFormCmp=new o(this.postFormId,{scope:this,isAjax:!0,handleToken:!0,tokenFieldName:this.formTokenName,showErrorsOnEdit:!1,showErrorsPos:"bottom",disableSubmitOnSubmit:!0,disabledOnEnter:!0,success:this.onPostSuccess,error:this.onPostError,generalErrorSel:"."+this.bottomWarningTagCls,errorNodeClass:this.bottomWarningTagCls,useModalForGeneralErrors:!1,rules:{}}),this._postFormCmp.on("inputFocus",this.onInputFocus,this),this._postFormCmp.on("inputBlur",this.onInputBlur,this),a.on(this._formMaskEl,"click",this.onFromMaskClick,this),this._postFormCharacterCounter=new r(this.postFormId,{maxChar:this.maxCharLimitNumber,hasWarningLimit:!1,inputId:this._formInputEl,counterId:this.postFormCharCounterId,charInfoId:this.postFormCharInfoId,maxCharText:this._maxCharTextTranslate}),this._postFormCharacterCounter.on(i.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,this.onMaxCharLimitReached,this),this._replyFormEl=Ext.get(this.replyFormId),this._replyInputEl=this._replyFormEl.select('input[type="text"]').item(0),this._replyIdHiddenInputEl=this._replyFormEl.select("#"+this.replyFormReplyInputId).item(0),this._replyFormCmp=new o(this.replyFormId,{scope:this,isAjax:!0,handleToken:!0,tokenFieldName:this.formTokenName,showErrorsOnEdit:!1,showErrorsPos:"bottom",disableSubmitOnSubmit:!0,disabledOnEnter:!0,success:this.onReplySuccess,error:this.onReplyError,generalErrorSel:"."+this.bottomWarningTagCls,errorNodeClass:this.bottomWarningTagCls,useModalForGeneralErrors:!1,rules:{}}),this._replyFormCmp.on("submit",this.onReplySubmit,this),this._replyFormCmp.on("inputBlur",this.onInputBlur,this),this._replyFormCharacterCounter=new r(this.replyFormId,{maxChar:this.maxCharLimitNumber,hasWarningLimit:!1,inputId:this._replyInputEl,counterId:this.replyFormCharCounterId,charInfoId:this.replyFormCharInfoId,maxCharText:this._maxCharTextTranslate}),this._replyFormCharacterCounter.on(i.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,this.onMaxCharLimitReached,this),this.preventFlooding&&(this._antiFloodTask=new Ext.util.DelayedTask(this.disableForm,this,[!1])),this.hideReplyForm(),h.superclass.init.call(this,e,t)},onMaxCharLimitReached:function(e){var t=e.element||e.scope.element;t&&t.select(this.charInfoSel).show()},onLoggedIn:function(e){var t=e.response,n=u.getUserType(t.jsm2sessionId);this._mainFormEl.dom.action=s.insertMemberType(n,this._mainFormEl.dom.action),this._replyFormEl.dom.action=s.insertMemberType(n,this._replyFormEl.dom.action),this.changeTokens({json:t}),n===h.USERTYPE_MEMBER&&(this.element.addClass(this.enableCls),this._mainFormEl.fadeIn())},getUserNick:function(){return d.getState().user.nick},onPostSuccess:function(e,t){if(t.json.data.messageId){var n,i=new Ext.Template(this.itemTemplate),o=this.element.select(this.noWallPostSel);void 0===this._memberId&&(this._memberId=this.getUserNick()),this.changeTokens(t);var r={itemId:t.json.data.messageId+"_"+t.json.data.messageId,cls:this.postCls,memberId:this._memberId,text:c.escapeHTML(t.json.data.text)||c.escapeHTML(this._formInputEl.dom.value),date:a.translate(this.newlyCreatedMessageText),replyTranslate:a.translate(this.replyText)};0===this.element.select("ul").getCount()?(Ext.DomHelper.append(this.element,'<ul></ul><div class="clear"></div>'),n=i.append(this.element.select("ul").item(0),r)):n=i.insertBefore(this.element.select(this.wallListItemSel).item(0),r),this._formInputEl.dom.value="",a.on(Ext.get(n),"click",this.onItemClick,this),this._formInputEl.blur(),this.preventFlooding&&this.disableForm(!0),this._postFormCharacterCounter&&this._postFormCharacterCounter.resetCounter(),this._selectedItem=void 0,o&&o.remove()}},onPostError:function(e){var t=new Ext.Template(this.errorTemplate),n="spam"===e.json.error_type,i=a.translate(n?this.spamErrorDuringMessagesSendText:this.errorDuringMessagesSendText);this._errorEl=t.append(this.postFormId,{errorText:i},!0),this._postFormCharacterCounter&&this._postFormCharacterCounter.resetCounter()},onItemClick:function(e){e.stopPropagation(),e.preventDefault();var t=Ext.get(e.target);this.hideErrors(),this._replyFormCharacterCounter&&this._replyFormCharacterCounter.resetCounter(),"li"!==t.dom.nodeName.toLowerCase()&&(t=Ext.get(t.findParent("li"))),this.element.hasClass(this.enableCls)?(void 0!==this._selectedRow&&this._selectedRow.removeClass(this.writingCls),this._selectedRow=t,this._selectedRow.hasClass(this.writingCls)||(this._selectedRow.addClass(this.writingCls),this._replyFormEl.setStyle("display","table"),this._replyFormEl.setTop(this._selectedRow.dom.offsetTop+this._selectedRow.dom.offsetHeight-this._replyFormTextEl.getHeight()),this._replyInputEl.dom.value=""),void 0!==this._selectedItem&&this._selectedItem===t||(this._selectedItem=t,this._replyInputEl.focus())):this.showWarningTooltip(t)},showWarningTooltip:function(e){var t;e.dom?t=e:"form"!==(t=Ext.get(e.target)).dom.nodeName.toLowerCase()&&(t=Ext.get(t.findParent("form"))),this.element.select("dfn").setStyle("opacity",0),t.select("dfn").item(0).setStyle("opacity",1)},onFromMaskClick:function(e){this.element.hasClass(this.enableCls)||this.showWarningTooltip(e)},onInputFocus:function(){this.hideErrors(),this.resetSelectedRow()},onInputBlur:function(){this.hideErrors()},hideErrors:function(){this._errorEl&&(this._errorEl.remove(),delete this._errorEl)},resetSelectedRow:function(){Ext.isDefined(this._selectedRow)&&(this._selectedRow.removeClass(this.writingCls),this.hideReplyForm(),this._selectedItem=void 0)},hideReplyForm:function(){this._replyFormEl&&this._replyFormEl.setStyle("display","none")},onReplySubmit:function(){this._replyIdHiddenInputEl.dom.value=this._selectedRow.dom.id.split("_")[1]},onReplySuccess:function(e,t){if(t.json.data.messageId){void 0===this._memberId&&(this._memberId=this.getUserNick()),this.changeTokens(t),null===this._selectedRow.next()&&this._showMoreEl&&(this._showMoreEl.dom.href=this._showMoreEl.dom.href.split(this.childId)[0]+this.childId+"="+t.json.data.messageId),this._selectedRow.next()&&this._selectedRow.next().hasClass(this.firstAnswerCls)&&this._selectedRow.next().removeClass(this.firstAnswerCls);var n=new Ext.Template(this.itemTemplate).insertAfter(this._selectedRow,{itemId:t.json.data.messageId+"_"+this._replyIdHiddenInputEl.dom.value+"_"+t.json.data.messageId,cls:this.answerCls+" "+this.firstAnswerCls,memberId:this._memberId,text:t.json.data.text||c.escapeHTML(this._replyInputEl.dom.value),date:a.translate(this.newlyCreatedMessageText)});Ext.DomHelper.append(n,'<div class="fade"></div><div class="line"></div>'),this._replyInputEl.dom.value="",this._replyIdHiddenInputEl.dom.value="",this.resetSelectedRow(),this.preventFlooding&&this.disableForm(!0),this._replyFormCharacterCounter&&this._replyFormCharacterCounter.resetCounter(),this._selectedItem=void 0}},onReplyError:function(e){var t=new Ext.Template(this.errorTemplate),n="spam"===e.json.error_type,i=a.translate(n?this.spamErrorDuringMessagesSendText:this.errorDuringMessagesSendText);this._errorEl=t.append(this.replyFormId,{errorText:i},!0)},changeTokens:function(e){this._postFormCmp.changeToken(e),this._replyFormCmp.changeToken(e)},onShowMoreClick:function(e){e.stopPropagation(),e.preventDefault(),this._showMoreEl.setStyle({display:"none"}),this._loaderEl.setStyle({display:"block"});var t=this._showMoreEl.dom.href.split(this.parentId+"=")[1].split("&")[0],n=this._showMoreEl.dom.href.split(this.childId+"=")[1].split("&")[0];l.request({scope:this,type:"json",method:"GET",url:a.getUrl(this.showMoreRoute,{performerId:this._performerId},{parentId:t,childId:n}),success:this.onShowMoreSuccess,error:function(){},failure:function(){}})},onShowMoreSuccess:function(e){if(this._loaderEl.setStyle({display:"none"}),this._showMoreEl.setStyle({display:"inline-block"}),Ext.DomHelper.append(this.element.select("ul").item(0),e.json.data.content),e.json.data.isLastPage)this._showMoreEl.remove();else{var t=this.element.select("li"),n=t.item(t.getCount()-1).dom.id.split("_")[2],a=t.item(t.getCount()-1).dom.id.split("_")[3];this._showMoreEl.dom.href=this._showMoreEl.dom.href.split("?")[0]+"?parentId="+n+"&childId="+a}},disableForm:function(e){e&&this._antiFloodTask&&this.preventFlooding&&this._antiFloodTask.delay(this.antiFloodTimeout),this._postFormCmp.disableForm(e),this._replyFormCmp.disableForm(e)},bind:function(){a.Broadcaster.on(i.BasicController.GLOBALEVENT_LOGGED_IN,this.onLoggedIn,this),a.on([{element:this.element,event:"click",handler:this.onItemClick,options:{delegate:this.postSel}}],this),this._showMoreEl&&a.on(this._showMoreEl,"click",this.onShowMoreClick,this),h.superclass.bind.call(this)},unbind:function(){a.Broadcaster.un(i.BasicController.GLOBALEVENT_LOGGED_IN,this.onLoggedIn,this),this._postFormCmp&&(this._postFormCmp.un("inputFocus",this.onInputFocus,this),this._postFormCmp.un("inputBlur",this.onInputBlur,this)),this._postFormCharacterCounter&&this._postFormCharacterCounter.un(i.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,this.onMaxCharLimitReached,this),this._replyFormCmp&&(this._replyFormCmp.un("submit",this.onReplySubmit,this),this._replyFormCmp.un("inputBlur",this.onInputBlur,this)),this._replyFormCharacterCounter&&this._replyFormCharacterCounter.un(i.CharacterCounter.EVENT_MAX_CHAR_LIMIT_REACHED,this.onMaxCharLimitReached,this),h.superclass.unbind.call(this)}})},c841:function(e,t,n){var a=n("3414"),i=n("d869"),o=n("a9a1").store,r=function(e,t){r.superclass.constructor.call(this,e,t)};e.exports=Ext.extend(r,a.Controller,{name:"BiopageContentManagerController",isBeingDestroyed:!1,init:function(e,t){r.superclass.init.call(this,e,t),this.addEvents(i.BiopageContentManagerController.EVENT_RENDER_DONE,i.BiopageContentManagerController.GLOBALEVENT_GET_CONTENT_SUCCESS)},getContent:function(){return this.BiopageContentManagerView.showLoader(!0),this.BiopageContentManagerModel.getContent(o.getState().performer.nick),this},removeContent:function(){this.BiopageContentManagerView.removeContent()},scrollToBioPageTop:function(){this.BiopageContentManagerView.scrollToBioPageTop()},onGetContentSuccess:function(e){if(a.fireEvent(i.BiopageContentManagerController.GLOBALEVENT_GET_CONTENT_SUCCESS,{scope:this}),!this.isBeingDestroyed){if(!e.response.json.data.content)throw"There is no HTML content to render.";this.BiopageContentManagerView.showLoader(!1),this.BiopageContentManagerView.renderContent(e.response.json.data.content)}},onGetContentError:function(){a.Broadcaster.fireEvent(i.PerformerHistory.REMOVE_PERFORMER_FROM_HISTORY,o.getState().performer.nick);var e=a.getUrl("Error/Error404");document.location.replace(e)},onRenderDone:function(){this.fireEvent(i.BiopageContentManagerController.EVENT_RENDER_DONE)},onPrivateStart:function(){this.BiopageContentManagerView.showMask()},onPrivateEnd:function(){this.BiopageContentManagerView.hideMask()}})},ebf9:function(e,t,n){e.exports={item:"_2PQ6U3g4DP9n",ribbon:"pqAboXabGFNk",note:"iZ7iWLfq5dvm _2PQ6U3g4DP9n",text:"Hw1u12h2bK17",folder:"_1ST8sRGt33V5",video_icon:"_3aQxkOEt0mqA",size_1:"_6MomQlJ67n90 Hw1u12h2bK17",size_2:"Flty8PKXzCGh Hw1u12h2bK17",size_3:"_34ilHR_clcJM Hw1u12h2bK17",size_4:"_3fawdDWAUbYG Hw1u12h2bK17",size_5:"JFahBDPFLRo8 Hw1u12h2bK17",size_6:"_2PnqbzGqqFAj Hw1u12h2bK17",cover:"_2tcToElX4tZo",content:"_3JXQplyFPYXU",album:"BWY-bIw0-IET",unlocked:"_2xx4BDi9gn7F",title:"_1gEHZDSntifk",locked:"_37fzg6t5Agco",free:"_3r3eUi9eNiKN",video:"_3JJeA8PpiGIu",info:"_2B90gWWEdijW",views:"_2d4V80ak21Os",duration:"Balwx4gRvISY",price:"_3QPXc6NEAbbB",count:"_3vmwhYQLfNHB",status:"_1VPMu0Ls32p_",label:"_2cO6UIO5LEC7",rating:"v0BTCifWyVUE",picture:"oW4_QsDlJZ5W",montage:"gzRi53oWUQVq",montage_one_pic:"eR-K6ucOU85- gzRi53oWUQVq",montage_two_pic:"_1CZJGBdxF3Rw gzRi53oWUQVq",montage_three_pic:"_2HriMA-x_2E7 gzRi53oWUQVq",montage_four_pic:"J4m8ILuch72I gzRi53oWUQVq",blurred:"_3-crTnkbFMBF"}}}]);