[{"slot": "2575", "banner": "59498892", "html": "{\"id\": 59498892, \"bid\": 59498892, \"showPixel\": \"https:\/\/rs.mail.ru\/pixel\/AADm7QEFpQriL0WhGtaM4pAbpR2OyGJG-aM6o_mUCJVQt_LJ21GbAyIRnTmCacpYoUZqvd8_i2lsM1WEJs4r5Ozpmtkijvm33LV5UOH9lUegXI3tYKioXQa2shKZLPD55JmsrIZZNbl02Os8dAmeBFaJiQfww6sm_Cerv--eeiIfL8VDBfmt1js7AAAAUd1HgC7B2IPnfflIs7JyIj6q5RWV1DuArLC_zx6fxA7ZvC_ExYBkHxdpLqQmkPa7HBNT2YsunAV2IZ5RSJR1nQ.gif\", \"links\": [{\"url\": \"https:\/\/r.mail.ru\/redir\/AADm7QEFpQriL0WhGtaM4pAbpR2OyGJG-aM6o_mUCJVQt_LJ21GbAyIRnTmCacpYoUZqvd8_i2lsM1WEJs4r5Ozpmtkijvm33LV5UOH9lUegXI3tYKioXQa2shKZLPD55JmsrIZZNbl02Os8dAmeBFaJiQfww6sm_Cerv--eeiIfL8VDBTwewSw5AAAARljkPp89OTLH9_Hl7z6dWVLbfkWodLn2TwGr_MUiaeIeDipGBVYnHwK3qEAUKzJ3SEUCq9QmTq5XMWslFIfWoA\",\"title\": \"ICQ New\",\"hide\": true},{\"url\": \"\",\"hide\": true}], \"items\": [{\"width\": \"full\", \"height\": \"full\", \"url\": \"https:\/\/r.mail.ru\/redir\/AADm7QEFpQriL0WhGtaM4pAbpR2OyGJG-aM6o_mUCJVQt_LJ21GbAyIRnTmCacpYoUZqvd8_i2lsM1WEJs4r5Ozpmtkijvm33LV5UOH9lUegXI3tYKioXQa2shKZLPD55JmsrIZZNbl02Os8dAmeBFaJiQfww6sm_Cerv--eeiIfL8VDBduHBWg5AAAAr30jPOJdzGSqhGKWXKx_-mLjOPXmzEeB-WOMCbdB7GQ4uPNvSabqLSrCBdsEEfjm1vbkzK8WMZAjC2nuO2fleQ\", \"image\": \"https:\/\/r.mradx.net\/img\/80\/914972.png\", \"image_full\": \"https:\/\/r.mradx.net\/img\/CC\/C41F7A.png\"}]}"}, {"slot": "4499", "banner": "37256381", "html": "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div class=\"mailru-visibility-check\"> <span class=\"mailru-visibility-check-counter\" data-counter=\"https:\/\/rs.mail.ru\/pixel\/AADm7QEFpQriL0WhGtaM4pAbpR2OyGJG-aM6o_mUCJVQt_LJ21GbAyIRnTmCacpYoUZqvd8_i2lsM1WEJs4r5Ozpmtkijvm33LV5UOH9lUegXI3tYKioXQa2shKZLPD55JmsrIZZNbl02Os8dAmeBFaJiQfww6sm_Cerv--eeiIfL8VDBSpwsTVJAAAAp5sgRMnn9ZanlijOZeAjaRO0uvyaAVfbex6gSpzjtOAd23qNn1LBG5qdZc7x3xjfEjYeSz5sB3Ngira3O0VujsaEmE5_Mw_j0n8s1q7CpPk.gif\" style=\"display:none\"><\/span> <img src=\"https:\/\/rs.mail.ru\/pixel\/AADm7QEFpQriL0WhGtaM4pAbpR2OyGJG-aM6o_mUCJVQt_LJ21GbAyIRnTmCacpYoUZqvd8_i2lsM1WEJs4r5Ozpmtkijvm33LV5UOH9lUegXI3tYKioXQa2shKZLPD55JmsrIZZNbl02Os8dAmeBFaJiQfww6sm_Cerv--eeiIfL8VDBS8rQQ1GAAAArlZLrFfC-hB7YieWZLk-CZFOVteHfDYuuyS0dcbKEsJyaYhuBud2D9-_5q6YR7uxMhOShQzsgtbea-VXNKPvgjv4LoSwq6ZT4bkrHSPdS9c.gif\" style=\"width:0;height:0;position:absolute;visibility:hidden;\" alt=\"\"\/><iframe src=\"https:\/\/ad.mail.ru\/adi\/3030?rnd=47307875\" width=\"300\" height=\"250\" marginwidth=\"0\" marginheight=\"0\" framespacing=\"0\" frameborder=\"no\" scrolling=\"no\"><\/iframe> <\/div>\n<script>\r\ntry {\r\n    (function(w, d, prefix) {\r\n\r\n        w.RB = w.RB && w.RB.v && w.RB.v === 1 ? w.RB : (function() {\r\n            var\r\n                \/\/ main flag,\r\n                enabled = !1,\r\n                enabledObserver = !1,\r\n                enabledGeom = !1,\r\n                useObserver = !1,\r\n                useGeom = !1,\r\n\r\n                \/\/ old opera focus flag\r\n                focused = !0,\r\n\r\n                \/\/ counted flag\r\n                counted = 'mailru-visibility-counted',\r\n\r\n                \/\/ banners to inspect\r\n                banners = {},\r\n\r\n                \/\/ shortcuts\r\n                e = d.documentElement,\r\n\r\n                VE = (d.mozVisibilityState ? \"mozvisibilitychange\" : d.webkitVisibilityState ? \"webkitvisibilitychange\" : d.visibilityState ? \"visibilitychange\" : \"\"),\r\n                HP = (\"hidden\" in d) ? \"hidden\" : ((\"webkitHidden\" in d) ? \"webkitHidden\" : ((\"mozHidden\" in d) ? \"mozHidden\" : \"\")),\r\n                \/\/ lastTimeStamp = 0,\r\n\r\n                \/\/ timing\r\n                tm,\r\n\r\n                \/\/ interstion observer instance\r\n                observer,\r\n                supportIO = !!window.IntersectionObserver;\r\n\r\n            \/\/ handlers\r\n\r\n            function onFocusIn() {\r\n                focused = !0;\r\n                C(!0);\r\n            }\r\n\r\n            function onFocusOut() {\r\n                focused = !1;\r\n            }\r\n\r\n            \/\/ using visibility could have profits when tab is not\r\n\r\n            function onVisibilityChange() {\r\n                if (!d[HP]) onFocusIn()\r\n                else onFocusOut()\r\n            }\r\n\r\n            function onWindowScroll() {\r\n                C();\r\n            }\r\n\r\n            function onWindowResize() {\r\n                C();\r\n            }\r\n\r\n\r\n            \/\/ I &ndash; inspect\r\n\r\n            function I(bannerObject, id) {\r\n                if (Object.prototype.toString.call(bannerObject) === '[object Array]') {\r\n                    Clear(bannerObject);\r\n                    var k = bannerObject.length - 1;\r\n                    for (; k >= 0; k--) {\r\n                        if (!s(bannerObject[k].el, counted)) {\r\n                            I(bannerObject[k]);\r\n                        }\r\n                    };\r\n                    return;\r\n                }\r\n                \/\/ bannerObject contains bannerObject.el and bannerObject.pixels\r\n                if (!bannerObject.el.id) {\r\n                    id = prefix + (new Date().getTime()) + (Math.round(Math.random() * 1E6));\r\n                    bannerObject.el.id = id;\r\n                }\r\n\r\n                id = bannerObject.el.id;\r\n                var io = bannerObject.observer;\r\n                io = io && supportIO;\r\n                \/\/ lastTimeStamp = new Date().getTime();\r\n                \/\/ adding the banner container to storage\r\n                if (!banners[id]) {\r\n                    banners[id] = {\r\n                        c: bannerObject.el,\r\n                        px: bannerObject.pixels,\r\n                        cb: bannerObject.callback,\r\n                        io: io\r\n                    };\r\n                }\r\n\r\n                \/\/ enabling anyway\r\n                useObserver = useObserver || io;\r\n                useGeom = useGeom || !io;\r\n                on();\r\n                if (io) {\r\n                    o(bannerObject.el);\r\n                }\r\n                C(!0);\r\n            }\r\n\r\n\r\n            \/\/ C &ndash; check viewability of banner with t, timeout after loading\r\n\r\n            function C(t) {\r\n                for (var id in banners) {\r\n                    if (banners[id] && !G(id)) {\r\n                        CL(id);\r\n                    } else if (banners[id] && getVA(banners[id].c) >= 50 && hasFocus() && !banners[id].t) {\r\n                        (function(_id) {\r\n                            banners[_id].t = setTimeout(function() {\r\n                                try {\r\n                                    P(_id)\r\n                                } catch (e) {}\r\n                            }, 1E3)\r\n                        }(id));\r\n                    } else if (banners[id] && getVA(banners[id].c) < 50) {\r\n                        if (banners[id].t) {\r\n                            clearTimeout(banners[id].t);\r\n                            delete banners[id].t;\r\n                        }\r\n                    } else if (banners[id] && !hasFocus()) {\r\n                        if (banners[id].t) {\r\n                            clearTimeout(banners[id].t);\r\n                            delete banners[id].t;\r\n                            clearTimeout(tm);\r\n                            t = false;\r\n                        }\r\n                    } else if (!banners[id]) {\r\n                        CL(id);\r\n                    }\r\n                }\r\n                if (t && useGeom) {\r\n                    clearTimeout(tm);\r\n                    tm = setTimeout(function() {\r\n                        C(!0);\r\n                    }, 3e2);\r\n                }\r\n            }\r\n\r\n            \/\/ CL &ndash; Clear timers and stop listeners\r\n\r\n            function CL(id, onlyTM) {\r\n                if (id && banners[id]) {\r\n                    clearTimeout(banners[id].t);\r\n                    banners[id].t = null;\r\n                    if (!onlyTM) {\r\n                        if (banners[id].io && observer) {\r\n                            observer.unobserve(banners[id].c);\r\n                        }\r\n                        banners[id].c = null;\r\n                        delete banners[id];\r\n                    }\r\n                    return;\r\n                }\r\n                clearTimeout(tm);\r\n                tm = null;\r\n                for (var id in banners) {\r\n                    if (banners[id].t) {\r\n                        CL(id, !0)\r\n                    }\r\n                }\r\n            }\r\n\r\n            function Clear(bannersArray) {\r\n                if (bannersArray && bannersArray.length >= 0) { \/\/clear banners from array\r\n                    var k = bannersArray.length - 1;\r\n                    var id;\r\n                    for (; k >= 0; k--) {\r\n                        id = bannersArray[k].el.id;\r\n                        if (id && banners[id]) {\r\n                            CL(id);\r\n                        }\r\n                    };\r\n                } else {\r\n                    for (var id in banners) { \/\/clear all\r\n                        CL(id);\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n            \/\/ P &ndash; pixel to send\r\n\r\n            function P(id, obj, cnt) {\r\n                if (!G(id)) {\r\n                    CL(id);\r\n\r\n                    \/\/ banner removed\r\n                    return\r\n                }\r\n\r\n                if (banners[id]) {\r\n                    obj = banners[id].c;\r\n                } else {\r\n                    return;\r\n                }\r\n\r\n                if (!hasFocus()) {\r\n                    CL(id, !0);\r\n                    return;\r\n                } else if (getVA(obj) < 50) {\r\n                    CL(id, !0);\r\n                    return;\r\n                }\r\n\r\n                for (cnt = banners[id].px.length - 1; cnt >= 0; cnt--) {\r\n                    new Image().src = banners[id].px[cnt];\r\n                };\r\n  \r\n                \/\/ set counted flag - skip in next collect loops\r\n                obj[counted] = true;\r\n                \/\/try fire callback\r\n                var cb = banners[id].cb;\r\n                if (cb && typeof cb === 'function') {\r\n                    try {\r\n                        cb();\r\n                    } catch (e) {}\r\n                }\r\n                \/\/ remove banner from storage of inspectable items\r\n                CL(id);\r\n                \/\/ turn listeners off if banners are not present\r\n                if (!l(banners)) off();\r\n            }\r\n\r\n            function hasFocus() {\r\n                if (HP) focused = !d[HP];\r\n                else if (!VE && typeof d.hasFocus === \"function\") focused = d.hasFocus();\r\n                return focused;\r\n            }\r\n\r\n            function getVA(obj, source) {\r\n                if (obj.id && banners[obj.id] && banners[obj.id].io) {\r\n                    return banners[obj.id].v || 0;\r\n                }\r\n                var R = {};\r\n                R.w = R.h = Infinity;\r\n                if (!isNaN(d.body.clientWidth) && d.body.clientWidth > 0) {\r\n                    R['w'] = d.body.clientWidth;\r\n                }\r\n                if (!isNaN(d.body.clientHeight) && d.body.clientHeight > 0) {\r\n                    R['h'] = d.body.clientHeight;\r\n                }\r\n                if (!!e && !!e.clientWidth && !isNaN(e.clientWidth)) {\r\n                    R['w'] = e.clientWidth;\r\n                }\r\n                if (!!e && !!e.clientHeight && !isNaN(e.clientHeight)) {\r\n                    R['h'] = e.clientHeight;\r\n                }\r\n                if (!!w.innerWidth && !isNaN(w.innerWidth)) {\r\n                    R['w'] = Math.min(R['w'], w.innerWidth);\r\n                }\r\n                if (!!w.innerHeight && !isNaN(w.innerHeight)) {\r\n                    R['h'] = Math.min(R['h'], w.innerHeight);\r\n                }\r\n                if (R.h == Infinity || R.h == Infinity) {\r\n                    R = {\r\n                        \"E\": \":-(\"\r\n                    };\r\n                } else {\r\n                    var r = obj.getClientRects()[0];\r\n                    if (!r) {\r\n                        R = {\r\n                            \"p\": 0\r\n                        };\r\n                        return R;\r\n                    }\r\n                    R.t = r.top;\r\n                    R.b = r.bottom;\r\n                    R.l = r.left;\r\n                    R.r = r.right;\r\n                    if (r.bottom < 0 || r.right < 0 || r.top > R.clientHeight || r.left > R.clientWidth) {\r\n                        R = 0;\r\n                    } else {\r\n                        var totalObjectArea = (r.right - r.left) * (r.bottom - r.top),\r\n                            xMin = Math.ceil(Math.max(0, r.left)),\r\n                            xMax = Math.floor(Math.min(R.w, r.right)),\r\n                            yMin = Math.ceil(Math.max(0, r.top)),\r\n                            yMax = Math.floor(Math.min(R.h, r.bottom)),\r\n                            visibleObjectArea = (xMax - xMin) * (yMax - yMin);\r\n                        R = Math.round(visibleObjectArea \/ totalObjectArea * 100);\r\n                    }\r\n                }\r\n\r\n                return R;\r\n            }\r\n\r\n            \/** LISTENERS SWITCHERS **\/\r\n\r\n            function on() {\r\n                if (enabled) return;\r\n                if (!enabledGeom && useGeom) {\r\n                    ev(w, 'resize', onWindowResize);\r\n                    ev(w, 'scroll', onWindowScroll);\r\n                    enabledGeom = true;\r\n                }\r\n                if (!enabledObserver && useObserver) {\r\n                    observer = new IntersectionObserver(h, {\r\n                      threshold: [0.5]\r\n                    });\r\n                    enabledObserver = true;\r\n                }\r\n                if (VE) ev(d, VE, onVisibilityChange);\r\n                else {\r\n                    ev(w, 'blur', onFocusOut);\r\n                    ev(w, 'focus', onFocusIn);\r\n                }\r\n                if (enabledGeom && enabledObserver) {\r\n                    enabled = true;\r\n                }\r\n            }\r\n\r\n            function off() {\r\n                rm(w, 'resize', onWindowResize);\r\n                rm(w, 'scroll', onWindowScroll);\r\n                if (VE) rm(d, VE, onVisibilityChange);\r\n                rm(w, 'focus', onFocusIn);\r\n                rm(w, 'blur', onFocusOut);\r\n                if (observer) {\r\n                    observer.disconnect();\r\n                    observer = null;\r\n                }\r\n                clearTimeout(tm);\r\n                enabled = false;\r\n                useObserver = false;\r\n                useGeom = false;\r\n                enabledGeom = false;\r\n                enabledObserver = false;\r\n            }\r\n\r\n            \/** INTERSECTION OBSERVER UTILS **\/\r\n            function o(e) {\r\n                observer && observer.observe(e);\r\n            }\r\n\r\n            function h(changes) {\r\n                changes.forEach(function(changeRecord) {\r\n                    var element = changeRecord.target;\r\n                    var id = element.id;\r\n\r\n                    if (id && banners[id]) {\r\n                        banners[id].v = Math.round(changeRecord.intersectionRatio * 100);\r\n                    }\r\n                });\r\n                C();\r\n            }\r\n\r\n            \/** UTILS **\/\r\n            \/\/ G - get element by ID;\r\n\r\n            function G(E) {\r\n                return d.getElementById(E)\r\n            }\r\n            \/\/ ev - EVent to handle\r\n\r\n            function ev(elem, eventName, callback) {\r\n                elem.addEventListener ? elem.addEventListener(eventName, callback, !1) : elem.attachEvent && elem.attachEvent(\"on\" + eventName, callback)\r\n            }\r\n\r\n            function rm(elem, eventName, callback) {\r\n                elem.removeEventListener ? elem.removeEventListener(eventName, callback, !1) : elem.detachEvent && elem.detachEvent(\"on\" + eventName, callback)\r\n            }\r\n            \/\/ obj length\r\n\r\n            function l(obj) {\r\n                var s = 0,\r\n                    key;\r\n                for (key in obj) {\r\n                    if (obj.hasOwnProperty(key)) s++\r\n                }\r\n                return s;\r\n            }\r\n\r\n            function s(elem, state) {\r\n                return !(typeof elem[state] == undefined || elem[state] !== true);\r\n            }\r\n            \/\/elem state\r\n\r\n            \/** PUBLIC INTERFACE **\/\r\n\r\n            return {\r\n                I: I\r\n                    \/\/ debug\r\n                    \/\/ , banners: banners\r\n                    ,\r\n                v: 1\r\n            }\r\n        }());\r\n\r\n    }(window, document, 'mailru'))\r\n} catch (e) {}\r\n<\/script>\r\n<script>\r\n  (function(prefix){\r\n    try{\r\n      \r\n      function getAdsContainers() {\r\n  \t\t\tvar ADS_CLASS = prefix + '-visibility-check',\r\n  \t\t\t\tADS_COUNTER_CLASS = ADS_CLASS + '-counter',\r\n  \t\t\t\tADS_CALLBACK_CLASS = ADS_CLASS + '-callback',\r\n  \t\t\t\tCOUNTER_ATTR = 'data-counter',\r\n  \t\t\t\tCALLBACK_ATTR = 'data-callback',\r\n  \t\t\t\tOBSERVER_ATTR = 'data-observer',\r\n  \t\t\t\tcontainers = [],\r\n  \t\t\t\tcountables = [],\r\n  \t\t\t\ti, k, counters, _counter, _observer;\r\n   \r\n  \t\t\tcontainers = getByClass(document, ADS_CLASS);\r\n  \t\t\tfor (i = containers.length - 1; i >= 0; i--) {\r\n  \t\t\t\tvar counters = getByClass(containers[i], ADS_COUNTER_CLASS, 'span');\r\n  \t\t\t\t_counter = containers[i].getAttribute(COUNTER_ATTR);\r\n  \t\t\t\t_observer = containers[i].hasAttribute(OBSERVER_ATTR);\r\n  \t\t\t\tcountables[i] = {\r\n  \t\t\t\t\tel: containers[i],\r\n  \t\t\t\t\tpixels: [],\r\n  \t\t\t\t\tobserver: _observer\r\n  \t\t\t\t};\r\n  \t\t\t\tif (_counter) countables[i].pixels.push(_counter);\r\n  \t\t\t\tfor (k = counters.length - 1; k >= 0; k--) {\r\n  \t\t\t\t\t_counter = counters[k].getAttribute(COUNTER_ATTR);\r\n  \t\t\t\t\tif (_counter && counters[k].parentNode === countables[i].el) countables[i].pixels.push(_counter);\r\n  \t\t\t\t}\r\n  \t\t\t\tvar callback = getByClass(containers[i], ADS_CALLBACK_CLASS, 'span');\r\n  \t\t\t\tif (callback[0]) {\r\n  \t\t\t\t  var _callback = callback[0].getAttribute(CALLBACK_ATTR);\r\n  \t\t\t\t  if (_callback && window.RB_CALLBACKS && window.RB_CALLBACKS[_callback]) {\r\n  \t\t\t\t    countables[i].callback = window.RB_CALLBACKS[_callback];\r\n  \t\t\t\t  }\r\n  \t\t\t\t}\r\n  \t\t\t\tif (!countables[i].pixels.length) countables.splice(i, 1);\r\n  \t\t\t}\r\n   \r\n  \t\t\treturn countables;\r\n  \t\t}\r\n   \r\n  \t\tfunction getByClass(parent, childClassName, tagName) {\r\n  \t\t\tif (parent.getElementsByClassName) {\r\n  \t\t\t\treturn parent.getElementsByClassName(childClassName);\r\n  \t\t\t} else if (parent.querySelectorAll) {\r\n   \r\n  \t\t\t\treturn parent.querySelectorAll('.' + childClassName);\r\n  \t\t\t} else {\r\n  \t\t\t\tvar els = [];\r\n  \t\t\t\tvar tmp = parent.getElementsByTagName(tagName ? tagName : \"*\");\r\n  \t\t\t\tvar regex = new RegExp(\"(^|\\s)\" + childClassName + \"(\\s|$)\");\r\n  \t\t\t\tfor (var i = 0; i < tmp.length; i++) {\r\n  \t\t\t\t\tif (regex.test(tmp[i].className)) {\r\n  \t\t\t\t\t\tels.push(tmp[i]);\r\n  \t\t\t\t\t}\r\n  \t\t\t\t}\r\n  \t\t\t\treturn els;\r\n  \t\t\t}\r\n  \t\t}\r\n   \r\n  \t\tRB.I(getAdsContainers());\r\n      \r\n    }catch(e){}\r\n  }('mailru'))\r\n<\/script>\r\n"}, {"slot": "4847", "banner": "37256391", "html": "\r\n<img src=\"https:\/\/rs.mail.ru\/pixel\/AADm7QEFpQriL0WhGtaM4pAbpR2OyGJG-aM6o_mUCJVQt_LJ21GbAyIRnTmCacpYoUZqvd8_i2lsM1WEJs4r5Ozpmtkijvm33LV5UOH9lUegXI3tYKioXQa2shKZLPD55JmsrIZZNbl02Os8dAmeBFaJiQfww6sm_Cerv--eeiIfL8VDBYyd3xFGAAAAgXFr_dH6a_vhSdTU8jg6c-_bRAIiyLAcGix1jFKiFsKuj7Qst6XhRi68MoDuUyzqciDMNMD-9sLlXof5x1OYuuC8vu1BhbhYdMcJkWb35y0.gif\" style=\"width:0;height:0;position:absolute;visibility:hidden;\" alt=\"\"\/><iframe src=\"https:\/\/ad.mail.ru\/adi\/101775?rnd=206010044\" width=\"100%\" height=\"90\" marginwidth=\"0\" marginheight=\"0\" framespacing=\"0\" frameborder=\"no\" scrolling=\"no\" name=\"rbframe-37256391206010044\" sandbox=\"allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox\"><\/iframe>"}]
